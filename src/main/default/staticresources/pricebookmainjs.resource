(function () {
var requirejs,require,define;(function(e){function t(e,t){var n,i,a,r,o,s,c,l,d,u,h=t&&t.split("/"),f=g.map,p=f&&f["*"]||{};if(e&&e.charAt(0)==="."&&t){for(h=h.slice(0,h.length-1),e=h.concat(e.split("/")),l=0;l<e.length;l+=1)if(u=e[l],"."===u)e.splice(l,1),l-=1;else if(".."===u){if(1===l&&(e[2]===".."||e[0]===".."))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((h||p)&&f){for(n=e.split("/"),l=n.length;l>0;l-=1){if(i=n.slice(0,l).join("/"),h)for(d=h.length;d>0;d-=1)if(a=f[h.slice(0,d).join("/")],a&&(a=a[i])){r=a,o=l;break}if(r)break;!s&&p&&p[i]&&(s=p[i],c=l)}!r&&s&&(r=s,o=c),r&&(n.splice(0,o,r),e=n.join("/"))}return e}function n(t,n){return function(){return d.apply(e,m.call(arguments,0).concat([t,n]))}}function i(e){return function(n){return t(n,e)}}function a(e){return function(t){f[e]=t}}function r(t){if(p.hasOwnProperty(t)){var n=p[t];delete p[t],_[t]=!0,l.apply(e,n)}if(!f.hasOwnProperty(t)&&!_.hasOwnProperty(t))throw new Error("No "+t);return f[t]}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,n){requirejs.onResourceLoad&&e&&requirejs.onResourceLoad({defined:t},{id:e},n)}function c(e){return function(){return g&&g.config&&g.config[e]||{}}}var l,d,u,h,f={},p={},g={},_={},m=[].slice;u=function(e,n){var a,s=o(e),c=s[0];return e=s[1],c&&(c=t(c,n),a=r(c)),c?e=a&&a.normalize?a.normalize(e,i(n)):t(e,n):(e=t(e,n),s=o(e),c=s[0],e=s[1],c&&(a=r(c))),{f:c?c+"!"+e:e,n:e,pr:c,p:a}},h={require:function(e){return n(e)},exports:function(e){var t=f[e];return"undefined"!=typeof t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:c(e)}}},l=function(t,i,o,c){var l,d,g,m,v,y,b=[];if(c=c||t,"function"==typeof o){for(i=!i.length&&o.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(m=u(i[v],c),d=m.f,"require"===d)b[v]=h.require(t);else if("exports"===d)b[v]=h.exports(t),y=!0;else if("module"===d)l=b[v]=h.module(t);else if(f.hasOwnProperty(d)||p.hasOwnProperty(d)||_.hasOwnProperty(d))b[v]=r(d);else{if(!m.p)throw new Error(t+" missing "+d);m.p.load(m.n,n(c,!0),a(d),{}),b[v]=f[d]}g=o.apply(f[t],b),t&&(l&&l.exports!==e&&l.exports!==f[t]?f[t]=l.exports:g===e&&y||(f[t]=g))}else t&&(f[t]=o);s(t,f,b)},requirejs=require=d=function(t,n,i,a,o){return"string"==typeof t?h[t]?h[t](n):r(u(t,n).f):(t.splice||(g=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},"function"==typeof i&&(i=a,a=o),a?l(e,t,n,i):setTimeout(function(){l(e,t,n,i)},15),d)},d.config=function(e){return g=e,d},define=function(e,t,n){t.splice||(n=t,t=[]),p[e]=[e,t,n]},define.amd={jQuery:!0}})();
define("durandal/amd/almond-custom", function(){});

(function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:e.nodeType===1&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=Ct[e]={};return ut.each(e.match(ct)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(ut.acceptData(e)){var o,a,s=ut.expando,u="string"==typeof n,l=e.nodeType,c=l?ut.cache:e,f=l?e[s]:e[s]&&s;if(f&&c[f]&&(i||c[f].data)||!u||r!==t)return f||(l?e[s]=f=Z.pop()||ut.guid++:f=s),c[f]||(c[f]={},l||(c[f].toJSON=ut.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[f]=ut.extend(c[f],n):c[f].data=ut.extend(c[f].data,n)),o=c[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[ut.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[ut.camelCase(n)])):a=o,a}}function o(e,t,n){if(ut.acceptData(e)){var r,i,o,a=e.nodeType,u=a?ut.cache:e,l=a?e[ut.expando]:ut.expando;if(u[l]){if(t&&(o=n?u[l]:u[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in o?t=[t]:(t=ut.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?s:ut.isEmptyObject)(o))return}(n||(delete u[l].data,s(u[l])))&&(a?ut.cleanData([e],!0):ut.support.deleteExpando||u!=u.window?delete u[l]:u[l]=null)}}}function a(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(kt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Nt.test(r)?ut.parseJSON(r):r}catch(o){}ut.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(){return!0}function l(){return!1}function c(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function f(e,t,n){if(t=t||0,ut.isFunction(t))return ut.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return ut.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=ut.grep(e,function(e){return e.nodeType===1});if($t.test(t))return ut.filter(t,r,!n);t=ut.filter(t,r)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0===n})}function d(e){var t=Xt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,r=0;(n=e[r])!=null;r++)ut._data(n,"globalEval",!t||ut._data(t[r],"globalEval"))}function y(e,t){if(t.nodeType===1&&ut.hasData(e)){var n,r,i,o=ut._data(e),a=ut._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ut.event.add(t,n,s[n][r])}a.data&&(a.data=ut.extend({},a.data))}}function v(e,t){var n,r,i;if(t.nodeType===1){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){i=ut._data(t);for(r in i.events)ut.removeEvent(t,r,i.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(h(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var r,i,o=0,a=typeof e.getElementsByTagName!==U?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==U?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],r=e.childNodes||e;(i=r[o])!=null;o++)!n||ut.nodeName(i,n)?a.push(i):ut.merge(a,b(i,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],a):a}function x(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=kn.length;i--;)if(t=kn[i]+n,t in e)return t;return r}function w(e,t){return e=t||e,ut.css(e,"display")==="none"||!ut.contains(e.ownerDocument,e)}function C(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ut._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),r.style.display===""&&w(r)&&(o[a]=ut._data(r,"olddisplay",S(r.nodeName)))):o[a]||(i=w(r),(n&&"none"!==n||!i)&&ut._data(r,"olddisplay",i?n:ut.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&r.style.display!=="none"&&r.style.display!==""||(r.style.display=t?o[a]||"":"none"));return e}function N(e,t,n){var r=vn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ut.css(e,n+Nn[o],!0,i)),r?("content"===n&&(a-=ut.css(e,"padding"+Nn[o],!0,i)),"margin"!==n&&(a-=ut.css(e,"border"+Nn[o]+"Width",!0,i))):(a+=ut.css(e,"padding"+Nn[o],!0,i),"padding"!==n&&(a+=ut.css(e,"border"+Nn[o]+"Width",!0,i)));return a}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=fn(e),a=ut.support.boxSizing&&ut.css(e,"boxSizing",!1,o)==="border-box";if(0>=i||null==i){if(i=dn(e,t,o),(0>i||null==i)&&(i=e.style[t]),bn.test(i))return i;r=a&&(ut.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(a?"border":"content"),r,o)+"px"}function S(e){var t=V,n=Tn[e];return n||(n=A(e,t),"none"!==n&&n||(cn=(cn||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=A(e,t),cn.detach()),Tn[e]=n),n}function A(e,t){var n=ut(t.createElement(e)).appendTo(t.body),r=ut.css(n[0],"display");return n.remove(),r}function D(e,t,n,r){var i;if(ut.isArray(t))ut.each(t,function(t,i){n||Sn.test(e)?r(e,i):D(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||ut.type(t)!=="object")r(e,t);else for(i in t)D(e+"["+i+"]",t[i],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ct)||[];if(ut.isFunction(n))for(;r=o[i++];)r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function j(e,t,n,r){function i(s){var u;return o[s]=!0,ut.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Qn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function M(e,n){var r,i,o=ut.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&ut.extend(!0,e,r),e}function P(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);for(;l[0]==="*";)l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):void 0}function _(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}function B(){try{return new e.XMLHttpRequest}catch(t){}}function H(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(){return setTimeout(function(){Zn=t}),Zn=ut.now()}function q(e,t){ut.each(t,function(t,n){for(var r=(or[t]||[]).concat(or["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function O(e,t,n){var r,i,o=0,a=ir.length,s=ut.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Zn||F(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||F(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ut.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(I(c,l.opts.specialEasing);a>o;o++)if(r=ir[o].call(l,e,c,l.opts))return r;return q(l,c),ut.isFunction(l.opts.start)&&l.opts.start.call(e,l),ut.fx.timer(ut.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(e,t){var n,r,i,o,a;for(i in e)if(r=ut.camelCase(i),o=t[r],n=e[i],ut.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=ut.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}function R(e,t,n){var r,i,o,a,s,u,l,c,f,d=this,p=e.style,h={},m=[],g=e.nodeType&&w(e);n.queue||(c=ut._queueHooks(e,"fx"),c.unqueued==null&&(c.unqueued=0,f=c.empty.fire,c.empty.fire=function(){c.unqueued||f()}),c.unqueued++,d.always(function(){d.always(function(){c.unqueued--,ut.queue(e,"fx").length||c.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],ut.css(e,"display")==="inline"&&ut.css(e,"float")==="none"&&(ut.support.inlineBlockNeedsLayout&&S(e.nodeName)!=="inline"?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ut.support.shrinkWrapBlocks||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],tr.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(g?"hide":"show"))continue;m.push(i)}if(o=m.length){s=ut._data(e,"fxshow")||ut._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),u&&(s.hidden=!g),g?ut(e).show():d.done(function(){ut(e).hide()}),d.done(function(){var t;ut._removeData(e,"fxshow");for(t in h)ut.style(e,t,h[t])});for(i=0;o>i;i++)r=m[i],l=d.createTween(r,g?s[r]:0),h[r]=s[r]||ut.style(e,r),r in s||(s[r]=l.start,g&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function W(e,t,n,r,i){return new W.prototype.init(e,t,n,r,i)}function $(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Nn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Q(e){return ut.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var z,X,U=typeof t,V=e.document,Y=e.location,J=e.jQuery,K=e.$,G={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,rt=Z.slice,it=Z.indexOf,ot=G.toString,at=G.hasOwnProperty,st=et.trim,ut=function(e,t){return new ut.fn.init(e,t,X)},lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=/\S+/g,ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,bt=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},Tt=function(e){(V.addEventListener||e.type==="load"||V.readyState==="complete")&&(wt(),ut.ready())},wt=function(){V.addEventListener?(V.removeEventListener("DOMContentLoaded",Tt,!1),e.removeEventListener("load",Tt,!1)):(V.detachEvent("onreadystatechange",Tt),e.detachEvent("onload",Tt))};ut.fn=ut.prototype={jquery:et,constructor:ut,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i=e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?[null,e,null]:dt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:V,!0)),pt.test(i[1])&&ut.isPlainObject(n))for(i in n)ut.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=V.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=V,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return rt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||ut.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if((o=arguments[u])!=null)for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(ut.isPlainObject(r)||(n=ut.isArray(r)))?(n?(n=!1,a=e&&ut.isArray(e)?e:[]):a=e&&ut.isPlainObject(e)?e:{},s[i]=ut.extend(c,a,r)):r!==t&&(s[i]=r));return s},ut.extend({noConflict:function(t){return e.$===ut&&(e.$=K),t&&e.jQuery===ut&&(e.jQuery=J),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!V.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(z.resolveWith(V,[ut]),ut.fn.trigger&&ut(V).trigger("ready").off("ready"))}},isFunction:function(e){return ut.type(e)==="function"},isArray:Array.isArray||function(e){return ut.type(e)==="array"},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?G[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||ut.type(e)!=="object"||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!at.call(e,"constructor")&&!at.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||at.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||V;var r=pt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ut.buildFragment([e],t,i),i&&ut(i).remove(),ut.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&ht.test(t.replace(gt,"@").replace(yt,"]").replace(mt,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(bt,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(ft,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ut.merge(r,"string"==typeof e?[e]:e):nt.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(it)return it.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&(u[u.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(u[u.length]=i);return tt.apply([],u)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),ut.isFunction(e)?(r=rt.call(arguments,2),i=function(){return e.apply(n||this,r.concat(rt.call(arguments)))},i.guid=e.guid=e.guid||ut.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if(ut.type(r)==="object"){o=!0;for(u in r)ut.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,ut.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ut(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),ut.ready.promise=function(t){if(!z)if(z=ut.Deferred(),V.readyState==="complete")setTimeout(ut.ready);else if(V.addEventListener)V.addEventListener("DOMContentLoaded",Tt,!1),e.addEventListener("load",Tt,!1);else{V.attachEvent("onreadystatechange",Tt),e.attachEvent("onload",Tt);var n=!1;try{n=e.frameElement==null&&V.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}wt(),ut.ready()}}()}return z.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),X=ut(V);var Ct={};ut.Callbacks=function(e){e="string"==typeof e?Ct[e]||r(e):ut.extend({},e);var n,i,o,a,s,u,l=[],c=!e.once&&[],f=function(t){for(i=e.memory&&t,o=!0,s=u||0,u=0,a=l.length,n=!0;l&&a>s;s++)if(l[s].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,l&&(c?c.length&&f(c.shift()):i?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;(function r(t){ut.each(t,function(t,n){var i=ut.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})})(arguments),n?a=l.length:i&&(u=t,f(i))}return this},remove:function(){return l&&ut.each(arguments,function(e,t){for(var r;(r=ut.inArray(t,l,r))>-1;)l.splice(r,1),n&&(a>=r&&a--,s>=r&&s--)}),this},has:function(e){return e?ut.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],this},disable:function(){return l=c=i=t,this},disabled:function(){return!l},lock:function(){return c=t,i||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||o&&!c||(n?c.push(t):f(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,o){var a=o[0],s=ut.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,r):r}},i={};return r.pipe=r.then,ut.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=rt.call(arguments),a=o.length,s=1!==a||e&&ut.isFunction(e.promise)?a:0,u=1===s?e:ut.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?rt.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&ut.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),ut.support=function(){var t,n,r,i,o,a,s,u,l,c,f=V.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),r=f.getElementsByTagName("a")[0],!n||!r||!n.length)return{};o=V.createElement("select"),s=o.appendChild(V.createElement("option")),i=f.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:f.className!=="t",leadingWhitespace:f.firstChild.nodeType===3,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!i.value,optSelected:s.selected,enctype:!!V.createElement("form").enctype,html5Clone:V.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:V.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete f.test}catch(d){t.deleteExpando=!1}i=V.createElement("input"),i.setAttribute("value",""),t.input=i.getAttribute("value")==="",i.value="t",i.setAttribute("type","radio"),t.radioValue=i.value==="t",i.setAttribute("checked","t"),i.setAttribute("name","t"),a=V.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,f.attachEvent&&(f.attachEvent("onclick",function(){t.noCloneEvent=!1}),f.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})f.setAttribute(u="on"+c,"t"),t[c+"Bubbles"]=u in e||f.attributes[u].expando===!1;return f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=f.style.backgroundClip==="content-box",ut(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=V.getElementsByTagName("body")[0];a&&(n=V.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=f.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=l&&i[0].offsetHeight===0,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=f.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(f,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(f,null)||{width:"4px"}).width==="4px",r=f.appendChild(V.createElement("div")),r.style.cssText=f.style.cssText=o,r.style.marginRight=r.style.width="0",f.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof f.style.zoom!==U&&(f.innerHTML="",f.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=f.offsetWidth===3,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",t.shrinkWrapBlocks=f.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=f=i=r=null)}),n=o=a=s=r=i=null,t}();var Nt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,kt=/([A-Z])/g;ut.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var r,i,o=this[0],s=0,u=null;if(e===t){if(this.length&&(u=ut.data(o),o.nodeType===1&&!ut._data(o,"parsedAttrs"))){for(r=o.attributes;s<r.length;s++)i=r[s].name,i.indexOf("data-")||(i=ut.camelCase(i.slice(5)),a(o,i,u[i]));ut._data(o,"parsedAttrs",!0)}return u}return"object"==typeof e?this.each(function(){ut.data(this,e)}):ut.access(this,function(n){return n===t?o?a(o,e,ut.data(o,e)):null:(this.each(function(){ut.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ut._data(e,t),n&&(!r||ut.isArray(n)?r=ut._data(e,t,ut.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),r=n.length,i=n.shift(),o=ut._queueHooks(e,t),a=function(){ut.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&t[0]!=="inprogress"&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=ut.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=ut._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var Et,St,At=/[\t\r\n]/g,Dt=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i,Mt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Pt=/^(?:checked|selected)$/i,_t=ut.support.getSetAttribute,Bt=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ct)||[];s>a;a++)if(n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=ut.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=arguments.length===0||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ct)||[];s>a;a++)if(n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ut.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=ut(this),s=t,u=e.match(ct)||[];i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else(n===U||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=ut.isFunction(e),this.each(function(n){var o,a=ut(this);this.nodeType===1&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":ut.isArray(o)&&(o=ut.map(o,function(e){return null==e?"":e+""})),r=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=ut.valHooks[o.type]||ut.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o=e.type==="select-one"||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ut.support.optDisabled?n.disabled:n.getAttribute("disabled")!==null)||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=ut.makeArray(t);return ut(e).find("option").each(function(){this.selected=ut.inArray(ut(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===U?ut.prop(e,n,r):(o=1!==s||!ut.isXMLDoc(e),o&&(n=n.toLowerCase(),i=ut.attrHooks[n]||(Mt.test(n)?St:Et)),r===t?i&&o&&"get"in i&&(a=i.get(e,n))!==null?a:(typeof e.getAttribute!==U&&(a=e.getAttribute(n)),null==a?t:a):null!==r?i&&o&&"set"in i&&(a=i.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ct);if(o&&e.nodeType===1)for(;n=o[i++];)r=ut.propFix[n]||n,Mt.test(n)?!_t&&Pt.test(n)?e[ut.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:ut.attr(e,n,""),e.removeAttribute(_t?n:r)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ut.isXMLDoc(e),a&&(n=ut.propFix[n]||n,o=ut.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&(i=o.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Lt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:t}}}}),St={get:function(e,n){var r=ut.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?Bt&&_t?null!=i:Pt.test(n)?e[ut.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);
return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Bt&&_t||!Pt.test(n)?e.setAttribute(!_t&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},Bt&&_t||(ut.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return ut.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):Et&&Et.set(e,t,n)}}),_t||(Et=ut.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ut.attrHooks.contenteditable={get:Et.get,set:function(e,t,n){Et.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]=ut.extend(ut.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),ut.support.hrefNormalized||(ut.each(["href","src","width","height"],function(e,n){ut.attrHooks[n]=ut.extend(ut.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected=ut.extend(ut.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.support.checkOn||ut.each(["radio","checkbox"],function(){ut.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),ut.each(["radio","checkbox"],function(){ut.valHooks[this]=ut.extend(ut.valHooks[this],{set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}})});var Ht=/^(?:input|select|textarea)$/i,Ft=/^key/,qt=/^(?:mouse|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,r,i,o){var a,s,u,l,c,f,d,p,h,m,g,y=ut._data(e);if(y){for(r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=ut.guid++),(s=y.events)||(s=y.events={}),(f=y.handle)||(f=y.handle=function(e){return typeof ut===U||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(ct)||[""],u=n.length;u--;)a=It.exec(n[u])||[],h=g=a[1],m=(a[2]||"").split(".").sort(),c=ut.event.special[h]||{},h=(o?c.delegateType:c.bindType)||h,c=ut.event.special[h]||{},d=ut.extend({type:h,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&ut.expr.match.needsContext.test(o),namespace:m.join(".")},l),(p=s[h])||(p=s[h]=[],p.delegateCount=0,c.setup&&c.setup.call(e,i,m,f)!==!1||(e.addEventListener?e.addEventListener(h,f,!1):e.attachEvent&&e.attachEvent("on"+h,f))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),ut.event.global[h]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,m,g=ut.hasData(e)&&ut._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ct)||[""],l=t.length;l--;)if(s=It.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(f=ut.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&f.teardown.call(e,h,g.handle)!==!1||ut.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ut.event.remove(e,p+t[l],n,r,!0);ut.isEmptyObject(c)&&(delete g.handle,ut._removeData(e,"events"))}},trigger:function(n,r,i,o){var a,s,u,l,c,f,d,p=[i||V],h=at.call(n,"type")?n.type:n,m=at.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||V,i.nodeType!==3&&i.nodeType!==8&&!Ot.test(h+ut.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[ut.expando]?n:new ut.Event(h,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ut.makeArray(r,[n]),c=ut.event.special[h]||{},o||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!o&&!c.noBubble&&!ut.isWindow(i)){for(l=c.delegateType||h,Ot.test(l+h)||(u=u.parentNode);u;u=u.parentNode)p.push(u),f=u;f===(i.ownerDocument||V)&&p.push(f.defaultView||f.parentWindow||e)}for(d=0;(u=p[d++])&&!n.isPropagationStopped();)n.type=d>1?l:c.bindType||h,a=(ut._data(u,"events")||{})[n.type]&&ut._data(u,"handle"),a&&a.apply(u,r),a=s&&u[s],a&&ut.acceptData(u)&&a.apply&&a.apply(u,r)===!1&&n.preventDefault();if(n.type=h,!(o||n.isDefaultPrevented()||c._default&&c._default.apply(i.ownerDocument,r)!==!1||"click"===h&&ut.nodeName(i,"a")||!ut.acceptData(i)||!s||!i[h]||ut.isWindow(i))){f=i[s],f&&(i[s]=null),ut.event.triggered=h;try{i[h]()}catch(g){}ut.event.triggered=t,f&&(i[s]=f)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,r,i,o,a,s=[],u=rt.call(arguments),l=(ut._data(this,"events")||{})[e.type]||[],c=ut.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=ut.event.handlers.call(this,e,l),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((ut.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||e.type!=="click"))for(;l!=this;l=l.parentNode||this)if(l.nodeType===1&&(l.disabled!==!0||e.type!=="click")){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?ut(r,this).index(l)>=0:ut.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return u<n.length&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[ut.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qt.test(i)?this.mouseHooks:Ft.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ut.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||V),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||V,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return ut.nodeName(this,"input")&&this.type==="checkbox"&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==V.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===V.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ut.event.trigger(i,null,t):ut.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=V.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===U&&(e[r]=null),e.detachEvent(r,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?u:l):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ut.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;r&&!ut._data(r,"submitBubbles")&&(ut.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(r,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return Ht.test(this.nodeName)?((this.type==="checkbox"||this.type==="radio")&&(ut.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ht.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox"?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!Ht.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){n++===0&&V.addEventListener(e,r,!0)},teardown:function(){--n===0&&V.removeEventListener(e,r,!0)}}}),ut.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=l;else if(!i)return this;return 1===o&&(s=i,i=function(e){return ut().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ut(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=l),this.each(function(){ut.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}}),function(e,t){function n(e){return ht.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>N.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[O]=!0,e}function o(e){var t=j.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,r){var i,o,a,s,u,l,c,p,h,m;if((t?t.ownerDocument||t:I)!==j&&L(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if((s=t.nodeType)!==1&&9!==s)return[];if(!P&&!r){if(i=mt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,G.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&R.getByClassName&&t.getElementsByClassName)return K.apply(n,G.call(t.getElementsByClassName(a),0)),n}if(R.qsa&&!_.test(e)){if(c=!0,p=O,h=t,m=9===s&&e,1===s&&t.nodeName.toLowerCase()!=="object"){for(l=f(e),(c=t.getAttribute("id"))?p=c.replace(vt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+d(l[u]);h=pt.test(e)&&t.parentNode||t,m=l.join(",")}if(m)try{return K.apply(n,G.call(h.querySelectorAll(m),0)),n}catch(g){}finally{c||t.removeAttribute("id")}}}return x(e.replace(at,"$1"),t,n,r)}function s(e,t){var n=t&&e,r=n&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e,t){var n,r,i,o,s,u,l,c=z[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=N.preFilter;s;){(!n||(r=st.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=lt.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(at," ")}),s=s.slice(n.length));for(o in N.filter)!(r=dt[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):z(e,u).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(t.nodeType===1||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=W+" "+o;if(a){for(;t=t[r];)if((t.nodeType===1||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(t.nodeType===1||i)if(l=t[O]||(t[O]={}),(u=l[r])&&u[0]===c){if((s=u[1])===!0||s===C)return s===!0}else if(u=l[r]=[c],u[1]=e(t,n,a)||C,u[1]===!0)return!0}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function g(e,t,n,r,o,a){return r&&!r[O]&&(r=g(r)),o&&!o[O]&&(o=g(o,a)),i(function(i,a,s,u){var l,c,f,d=[],p=[],h=a.length,g=i||b(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?g:m(g,d,e,s,u),v=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r)for(l=m(v,p),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[p[c]]=!(y[p[c]]=f));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(y[c]=f);o(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=o?Z.call(i,f):d[c])>-1&&(i[l]=!(a[l]=f))}}else v=m(v===a?v.splice(h,v.length):v),o?o(null,a,v,u):K.apply(a,v)})}function y(e){for(var t,n,r,i=e.length,o=N.relative[e[0].type],a=o||N.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return Z.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>s;s++)if(n=N.relative[e[s].type])c=[p(h(c),n)];else{if(n=N.filter[e[s].type].apply(null,e[s].matches),n[O]){for(r=++s;i>r&&!N.relative[e[r].type];r++);return g(s>1&&h(c),s>1&&d(e.slice(0,s-1)).replace(at,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&d(e))}c.push(n)}return h(c)}function v(e,t){var n=0,r=t.length>0,o=e.length>0,s=function(i,s,u,l,c){var f,d,p,h=[],g=0,y="0",v=i&&[],b=null!=c,x=D,T=i||o&&N.find.TAG("*",c&&s.parentNode||s),w=W+=null==x?1:Math.random()||.1;for(b&&(D=s!==j&&s,C=n);(f=T[y])!=null;y++){if(o&&f){for(d=0;p=e[d++];)if(p(f,s,u)){l.push(f);break}b&&(W=w,C=++n)}r&&((f=!p&&f)&&g--,i&&v.push(f))}if(g+=y,r&&y!==g){for(d=0;p=t[d++];)p(v,h,s,u);if(i){if(g>0)for(;y--;)v[y]||h[y]||(h[y]=J.call(l));h=m(h)}K.apply(l,h),b&&!i&&h.length>0&&g+t.length>1&&a.uniqueSort(l)}return b&&(W=w,D=x),v};return r?i(s):s}function b(e,t,n){for(var r=0,i=t.length;i>r;r++)a(e,t[r],n);return n}function x(e,t,n,r){var i,o,a,s,u,l=f(e);if(!r&&l.length===1){if(o=l[0]=l[0].slice(0),o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!P&&N.relative[o[1].type]){if(t=N.find.ID(a.matches[0].replace(xt,Tt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=dt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!N.relative[s=a.type]);)if((u=N.find[s])&&(r=u(a.matches[0].replace(xt,Tt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,G.call(r,0)),n;break}}return S(e,l)(r,t,P,n,pt.test(e)),n}function T(){}var w,C,N,k,E,S,A,D,L,j,M,P,_,B,H,F,q,O="sizzle"+-new Date,I=e.document,R={},W=0,$=0,Q=r(),z=r(),X=r(),U=typeof t,V=1<<31,Y=[],J=Y.pop,K=Y.push,G=Y.slice,Z=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),rt="([*^$|!~]?=)",it="\\["+et+"*("+tt+")"+et+"*(?:"+rt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=new RegExp(ot),ft=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ht=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,vt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{G.call(I.documentElement.childNodes,0)[0].nodeType}catch(wt){G=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}E=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},L=a.setDocument=function(e){var r=e?e.ownerDocument||e:I;return r!==j&&r.nodeType===9&&r.documentElement?(j=r,M=r.documentElement,P=E(r),R.tagNameNoComments=o(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),R.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),R.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",e.getElementsByClassName("e").length===2):!1}),R.getByName=o(function(e){e.id=O+0,e.innerHTML="<a name='"+O+"'></a><div name='"+O+"'></div>",M.insertBefore(e,M.firstChild);var t=r.getElementsByName&&r.getElementsByName(O).length===2+r.getElementsByName(O+0).length;return R.getIdNotName=!r.getElementById(O),M.removeChild(e),t}),N.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==U&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},R.getIdNotName?(N.find.ID=function(e,t){if(typeof t.getElementById!==U&&!P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(xt,Tt);return function(e){return e.getAttribute("id")===t}}):(N.find.ID=function(e,n){if(typeof n.getElementById!==U&&!P){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==U&&r.getAttributeNode("id").value===e?[r]:t:[]}},N.filter.ID=function(e){var t=e.replace(xt,Tt);return function(e){var n=typeof e.getAttributeNode!==U&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=R.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==U?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)n.nodeType===1&&r.push(n);return r}return o},N.find.NAME=R.getByName&&function(e,t){return typeof t.getElementsByName!==U?t.getElementsByName(name):void 0},N.find.CLASS=R.getByClassName&&function(e,t){return typeof t.getElementsByClassName===U||P?void 0:t.getElementsByClassName(e)},B=[],_=[":focus"],(R.qsa=n(r.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||_.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||_.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&_.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(R.matchesSelector=n(H=M.matchesSelector||M.mozMatchesSelector||M.webkitMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){R.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),B.push("!=",ot)}),_=new RegExp(_.join("|")),B=new RegExp(B.join("|")),F=n(M.contains)||M.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||r.nodeType!==1||!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=M.compareDocumentPosition?function(e,t){var n;return e===t?(A=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&e.parentNode.nodeType===11?e===r||F(I,e)?-1:t===r||F(I,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(e===t)return A=!0,0;if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===I?-1:l[i]===I?1:0},A=!1,[0,0].sort(q),R.detectDuplicates=A,j):j},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==j&&L(e),t=t.replace(bt,"='$1']"),!(!R.matchesSelector||P||B&&B.test(t)||_.test(t)))try{var n=H.call(e,t);if(n||R.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return a(t,j,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==j&&L(e),F(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==j&&L(e),P||(t=t.toLowerCase()),(n=N.attrHandle[t])?n(e):P||R.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],r=1,i=0;if(A=!R.detectDuplicates,e.sort(q),A){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},k=a.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=k(t);return n},N=a.selectors={cacheLength:50,createPseudo:i,match:dt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Tt),e[3]=(e[4]||e[5]||"").replace(xt,Tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return dt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xt,Tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=Q[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&Q(e,function(e){return t.test(e.className||typeof e.getAttribute!==U&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=a.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&i.indexOf(n)===0:"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o=e.slice(0,3)!=="nth",a=e.slice(-4)!=="last",s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:f.nodeType===1)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(c=g[O]||(g[O]={}),l=c[e]||[],p=l[0]===W&&l[1],d=l[0]===W&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(f.nodeType===1&&++d&&f===t){c[e]=[W,p,d];break}}else if(v&&(l=(t[O]||(t[O]={}))[e])&&l[0]===W)d=l[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:f.nodeType!==1)||!++d||(v&&((f[O]||(f[O]={}))[e]=[W,d]),f!==t)););return d-=i,d===r||0===d%r&&d/r>=0}}},PSEUDO:function(e,t){var n,r=N.pseudos[e]||N.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return r[O]?r(t):r.length>1?(n=[e,e,"",t],N.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=Z.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(at,"$1"));return r[O]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return a(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(xt,Tt).toLowerCase(),function(t){var n;do if(n=P?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&e.type==="button"||"button"===t},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[w]=u(w);for(w in{submit:!0,reset:!0})N.pseudos[w]=l(w);S=a.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=f(e)),n=t.length;n--;)o=y(t[n]),o[O]?r.push(o):i.push(o);o=X(e,v(i,r))}return o},N.pseudos.nth=N.pseudos.eq,N.filters=T.prototype=N.pseudos,N.setFilters=new T,L(),a.attr=ut.attr,ut.find=a,ut.expr=a.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=a.uniqueSort,ut.text=a.getText,ut.isXMLDoc=a.isXML,ut.contains=a.contains}(e);var Rt=/Until$/,Wt=/^(?:parents|prev(?:Until|All))/,$t=/^.[^:#\[\.,]*$/,Qt=ut.expr.match.needsContext,zt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(ut(e).filter(function(){for(t=0;i>t;t++)if(ut.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)ut.find(e,this[t],n);return n=this.pushStack(i>1?ut.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=ut(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e,!1))},filter:function(e){return this.pushStack(f(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Qt.test(e)?ut(e,this.context).index(this[0])>=0:ut.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Qt.test(e)||"string"!=typeof e?ut(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&n.nodeType!==11;){if(a?a.index(n)>-1:ut.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?ut.unique(o):o)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),r=ut.merge(this.get(),n);return this.pushStack(ut.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.fn.andSelf=ut.fn.addBack,ut.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)
},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,r){var i=ut.map(this,t,n);return Rt.test(e)||(r=n),r&&"string"==typeof r&&(i=ut.filter(r,i)),i=this.length>1&&!zt[e]?ut.unique(i):i,this.length>1&&Wt.test(e)&&(i=i.reverse()),this.pushStack(i)}}),ut.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?ut.find.matchesSelector(t[0],e)?[t[0]]:[]:ut.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&o.nodeType!==9&&(r===t||o.nodeType!==1||!ut(o).is(r));)o.nodeType===1&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ut=/ jQuery\d+="(?:null|\d+)"/g,Vt=new RegExp("<(?:"+Xt+")[\\s/>]","i"),Yt=/^\s+/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Gt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},un=d(V),ln=un.appendChild(V.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&e.firstChild.nodeType===1;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;(n=this[r])!=null;r++)(!e||ut.filter(e,[n]).length>0)&&(t||n.nodeType!==1||ut.cleanData(b(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;(e=this[t])!=null;t++){for(e.nodeType===1&&ut.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(Ut,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Vt.test(e)||!ut.support.leadingWhitespace&&Yt.test(e)||sn[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},n.nodeType===1&&(ut.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=ut.isFunction(e);return t||"string"==typeof e||(e=ut(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(ut(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=tt.apply([],e);var i,o,a,s,u,l,c=0,f=this.length,d=this,g=f-1,y=e[0],v=ut.isFunction(y);if(v||!(1>=f||"string"!=typeof y||ut.support.checkClone)&&nn.test(y))return this.each(function(i){var o=d.eq(i);v&&(e[0]=y.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(f&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,l.childNodes.length===1&&(l=i),i)){for(n=n&&ut.nodeName(i,"tr"),s=ut.map(b(l,"script"),h),a=s.length;f>c;c++)o=l,c!==g&&(o=ut.clone(o,!0,!0),a&&ut.merge(s,b(o,"script"))),r.call(n&&ut.nodeName(this[c],"table")?p(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,ut.map(s,m),c=0;a>c;c++)o=s[c],rn.test(o.type||"")&&!ut._data(o,"globalEval")&&ut.contains(u,o)&&(o.src?ut.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):ut.globalEval((o.text||o.textContent||o.innerHTML||"").replace(an,"")));l=i=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,r=0,i=[],o=ut(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ut(o[r])[t](n),nt.apply(i,n.get());return this.pushStack(i)}}),ut.extend({clone:function(e,t,n){var r,i,o,a,s,u=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Vt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ln.innerHTML=e.outerHTML,ln.removeChild(o=ln.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||e.nodeType!==1&&e.nodeType!==11||ut.isXMLDoc(e)))for(r=b(o),s=b(e),a=0;(i=s[a])!=null;++a)r[a]&&v(i,r[a]);if(t)if(n)for(s=s||b(e),r=r||b(o),a=0;(i=s[a])!=null;a++)y(i,r[a]);else y(e,o);return r=b(o,"script"),r.length>0&&g(r,!u&&b(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,f=e.length,p=d(t),h=[],m=0;f>m;m++)if(o=e[m],o||0===o)if(ut.type(o)==="object")ut.merge(h,o.nodeType?[o]:o);else if(Zt.test(o)){for(s=s||p.appendChild(t.createElement("div")),u=(Kt.exec(o)||["",""])[1].toLowerCase(),c=sn[u]||sn._default,s.innerHTML=c[1]+o.replace(Jt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ut.support.leadingWhitespace&&Yt.test(o)&&h.push(t.createTextNode(Yt.exec(o)[0])),!ut.support.tbody)for(o="table"!==u||Gt.test(o)?c[1]!=="<table>"||Gt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ut.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ut.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(o));for(s&&p.removeChild(s),ut.support.appendChecked||ut.grep(b(h,"input"),x),m=0;o=h[m++];)if((!r||ut.inArray(o,r)===-1)&&(a=ut.contains(o.ownerDocument,o),s=b(p.appendChild(o),"script"),a&&g(s),n))for(i=0;o=s[i++];)rn.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ut.expando,u=ut.cache,l=ut.support.deleteExpando,c=ut.event.special;(n=e[a])!=null;a++)if((t||ut.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ut.event.remove(n,r):ut.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==U?n.removeAttribute(s):n[s]=null,Z.push(i))}}});var cn,fn,dn,pn=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=new RegExp("^("+lt+")(.*)$","i"),bn=new RegExp("^("+lt+")(?!px)[a-z%]+$","i"),xn=new RegExp("^([+-])=("+lt+")","i"),Tn={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},Nn=["Top","Right","Bottom","Left"],kn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,r){var i,o,a={},s=0;if(ut.isArray(n)){for(o=fn(e),i=n.length;i>s;s++)a[n[s]]=ut.css(e,n[s],!1,o);return a}return r!==t?ut.style(e,n,r):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:w(this))?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=dn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&e.nodeType!==3&&e.nodeType!==8&&e.style){var o,a,s,u=ut.camelCase(n),l=e.style;if(n=ut.cssProps[u]||(ut.cssProps[u]=T(l,u)),s=ut.cssHooks[n]||ut.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=xn.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(ut.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||ut.cssNumber[u]||(r+="px"),ut.support.clearCloneStyle||""!==r||n.indexOf("background")!==0||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=ut.camelCase(n);return n=ut.cssProps[u]||(ut.cssProps[u]=T(e.style,u)),s=ut.cssHooks[n]||ut.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=dn(e,n,i)),"normal"===a&&n in Cn&&(a=Cn[n]),""===r||r?(o=parseFloat(a),r===!0||ut.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(fn=function(t){return e.getComputedStyle(t,null)},dn=function(e,n,r){var i,o,a,s=r||fn(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||ut.contains(e.ownerDocument,e)||(u=ut.style(e,n)),bn.test(u)&&yn.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):V.documentElement.currentStyle&&(fn=function(e){return e.currentStyle},dn=function(e,n,r){var i,o,a,s=r||fn(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),bn.test(u)&&!mn.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,r){return n?e.offsetWidth===0&&gn.test(ut.css(e,"display"))?ut.swap(e,wn,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&fn(e);return N(e,n,r?k(e,t,r,ut.support.boxSizing&&ut.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return hn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&ut.trim(o.replace(pn,""))===""&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=pn.test(o)?o.replace(pn,i):o+" "+i)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},dn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=dn(e,t),bn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&(e.style&&e.style.display||ut.css(e,"display"))==="none"},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Nn[r]+t]=o[r]||o[r-2]||o[0];return i}},yn.test(e)||(ut.cssHooks[e+t].set=N)});var En=/%20/g,Sn=/\[\]$/,An=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Ln=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&Ln.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(An,"\r\n")}}):{name:t.name,value:n.replace(An,"\r\n")}}).get()}}),ut.param=function(e,n){var r,i=[],o=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){o(this.name,this.value)});else for(r in e)D(r,e[r],n,o);return i.join("&").replace(En,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var jn,Mn,Pn=ut.now(),_n=/\?/,Bn=/#.*$/,Hn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,In=/^\/\//,Rn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wn=ut.fn.load,$n={},Qn={},zn="*/".concat("*");try{Mn=Y.href}catch(Xn){Mn=V.createElement("a"),Mn.href="",Mn=Mn.href}jn=Rn.exec(Mn.toLowerCase())||[],ut.fn.load=function(e,n,r){if("string"!=typeof e&&Wn)return Wn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),ut.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&ut.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?ut("<div>").append(ut.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,r,i,o){return ut.isFunction(r)&&(o=o||i,i=r,r=t),ut.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:qn.test(jn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,ut.ajaxSettings),t):M(ut.ajaxSettings,e)},ajaxPrefilter:L($n),ajaxTransport:L(Qn),ajax:function(e,n){function r(e,n,r,i){var o,f,v,b,T,C=n;2!==x&&(x=2,u&&clearTimeout(u),c=t,s=i||"",w.readyState=e>0?4:0,r&&(b=P(d,w,r)),e>=200&&300>e||304===e?(d.ifModified&&(T=w.getResponseHeader("Last-Modified"),T&&(ut.lastModified[a]=T),T=w.getResponseHeader("etag"),T&&(ut.etag[a]=T)),204===e?(o=!0,C="nocontent"):304===e?(o=!0,C="notmodified"):(o=_(d,b),C=o.state,f=o.data,v=o.error,o=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),w.status=e,w.statusText=(n||C)+"",o?m.resolveWith(p,[f,C,w]):m.rejectWith(p,[w,C,v]),w.statusCode(y),y=t,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?f:v]),g.fireWith(p,[w,C]),l&&(h.trigger("ajaxComplete",[w,d]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,u,l,c,f,d=ut.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?ut(p):ut.event,m=ut.Deferred(),g=ut.Callbacks("once memory"),y=d.statusCode||{},v={},b={},x=0,T="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!f)for(f={};t=Fn.exec(s);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||T;return c&&c.abort(t),r(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Mn)+"").replace(Bn,"").replace(In,jn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ut.trim(d.dataType||"*").toLowerCase().match(ct)||[""],d.crossDomain==null&&(i=Rn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===jn[1]&&i[2]===jn[2]&&(i[3]||(i[1]==="http:"?80:443))==(jn[3]||(jn[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=ut.param(d.data,d.traditional)),j($n,d,n,w),2===x)return w;l=d.global,l&&ut.active++===0&&ut.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!On.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(_n.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Hn.test(a)?a.replace(Hn,"$1_="+Pn++):a+(_n.test(a)?"&":"?")+"_="+Pn++)),d.ifModified&&(ut.lastModified[a]&&w.setRequestHeader("If-Modified-Since",ut.lastModified[a]),ut.etag[a]&&w.setRequestHeader("If-None-Match",ut.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+zn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===x))return w.abort();T="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=j(Qn,d,n,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(u=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,c.send(v,r)}catch(C){if(!(2>x))throw C;r(-1,C)}}else r(-1,"No Transport");return w},getScript:function(e,n){return ut.get(e,t,n,"script")},getJSON:function(e,t,n){return ut.get(e,t,n,"json")}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=V.head||ut("head")[0]||V.documentElement;return{send:function(t,i){n=V.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Un=[],Vn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Un.pop()||ut.expando+"_"+Pn++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Vn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vn.test(n.data)&&"data");return u||n.dataTypes[0]==="jsonp"?(o=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Vn,"$1"+o):n.jsonp!==!1&&(n.url+=(_n.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ut.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Un.push(o)),s&&ut.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0});var Yn,Jn,Kn=0,Gn=e.ActiveXObject&&function(){var e;for(e in Yn)Yn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&B()||H()}:B,Jn=ut.ajaxSettings.xhr(),ut.support.cors=!!Jn&&"withCredentials"in Jn,Jn=ut.support.ajax=!!Jn,Jn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,f;try{if(r&&(i||u.readyState===4))if(r=t,a&&(u.onreadystatechange=ut.noop,Gn&&delete Yn[a]),i)u.readyState!==4&&u.abort();else{f={},s=u.status,l=u.getAllResponseHeaders(),typeof u.responseText=="string"&&(f.text=u.responseText);try{c=u.statusText}catch(d){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(p){i||o(-1,p)}f&&o(s,c,f,l)},n.async?u.readyState===4?setTimeout(r):(a=++Kn,Gn&&(Yn||(Yn={},ut(e).unload(Gn)),Yn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Zn,er,tr=/^(?:toggle|show|hide)$/,nr=new RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[R],or={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=nr.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(ut.cssNumber[e]?"":"px"),"px"!==r&&s){s=ut.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,ut.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};ut.Animation=ut.extend(O,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],or[n]=or[n]||[],or[n].unshift(t)},prefilter:function(e,t){t?ir.unshift(e):ir.push(e)}}),ut.Tween=W,W.prototype={constructor:W,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ut.cssNumber[n]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,n=W.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||e.elem.style&&e.elem.style[e.prop]!=null?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(e.elem.style[ut.cssProps[e.prop]]!=null||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,r,i)}}),ut.fn.extend({fadeTo:function(e,t,n,r){return this.filter(w).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ut.isEmptyObject(e),o=ut.speed(t,n,r),a=function(){var t=O(this,ut.extend({},e),o);a.finish=function(){t.stop(!0)},(i||ut._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ut.timers,a=ut._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&rr.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ut.timers,a=r?r.length:0;for(n.finish=!0,ut.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ut.speed=function(e,t,n){var r=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return r.duration=ut.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in ut.fx.speeds?ut.fx.speeds[r.duration]:ut.fx.speeds._default,(r.queue==null||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ut.isFunction(r.old)&&r.old.call(this),r.queue&&ut.dequeue(this,r.queue)},r},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=W.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,r=0;for(Zn=ut.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ut.fx.stop(),Zn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){er||(er=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(er),er=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,ut.contains(n,o)?(typeof o.getBoundingClientRect!==U&&(i=o.getBoundingClientRect()),r=Q(a),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},ut.offset={setOffset:function(e,t,n){var r=ut.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=ut(e),s=a.offset(),u=ut.css(e,"top"),l=ut.css(e,"left"),c=("absolute"===r||"fixed"===r)&&ut.inArray("auto",[u,l])>-1,f={},d={};c?(d=a.position(),i=d.top,o=d.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),ut.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+i),t.left!=null&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return ut.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(r,"marginTop",!0),left:t.left-n.left-ut.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||V.documentElement;e&&!ut.nodeName(e,"html")&&ut.css(e,"position")==="static";)e=e.offsetParent;return e||V.documentElement})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ut.fn[e]=function(i){return ut.access(this,function(e,i,o){var a=Q(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?ut(a).scrollLeft():o,r?o:ut(a).scrollTop()):e[i]=o,void 0)},e,i,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ut.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return ut.access(this,function(n,r,i){var o;return ut.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?ut.css(n,r,s):ut.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ut})})(window);
define('durandal/system',['require'],function(require){var e,t=!1,n=Object.keys,i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=!1;if(Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&typeof console.log=="object")try{["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}catch(s){r=!0}requirejs.onResourceLoad=function(t,n){e.setModuleId(t.defined[n.id],n.id)};var o=function(){},l=function(){try{if("undefined"!=typeof console&&typeof console.log=="function")if(window.opera)for(var e=0;e<arguments.length;)console.log("Item "+(e+1)+": "+arguments[e]),e++;else Array.prototype.slice.call(arguments).length==1&&typeof Array.prototype.slice.call(arguments)[0]=="string"?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments));else Function.prototype.bind&&!r||"undefined"==typeof console||typeof console.log!="object"||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}catch(t){}};return e={version:"1.1.1",noop:o,getModuleId:function(e){return e?"function"==typeof e?e.prototype.__moduleId__:"string"==typeof e?null:e.__moduleId__:null},setModuleId:function(e,t){return e?"function"==typeof e?(e.prototype.__moduleId__=t,void 0):("string"!=typeof e&&(e.__moduleId__=t),void 0):void 0},debug:function(e){return arguments.length!=1?t:(t=e,t?(this.log=l,this.log("Debug mode enabled.")):(this.log("Debug mode disabled."),this.log=o),void 0)},isArray:function(e){return a.call(e)==="[object Array]"},log:o,defer:function(e){return $.Deferred(e)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n="x"==e?t:8|3&t;return n.toString(16)})},acquire:function(){var e=Array.prototype.slice.call(arguments,0);return this.defer(function(t){require(e,function(){var e=arguments;setTimeout(function(){t.resolve.apply(t,e)},1)})}).promise()}},e.keys=n||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)i.call(e,n)&&(t[t.length]=n);return t},e});
define('durandal/viewEngine',["durandal/system","jquery"],function(e,t){var n;return n=t.parseHTML?function(e){return t.parseHTML(e)}:function(e){return t(e).get()},{viewExtension:".html",viewPlugin:"text",isViewUrl:function(e){return e.indexOf(this.viewExtension,e.length-this.viewExtension.length)!==-1},convertViewUrlToViewId:function(e){return e.substring(0,e.length-this.viewExtension.length)},convertViewIdToRequirePath:function(e){return this.viewPlugin+"!"+e+this.viewExtension},parseMarkup:function(e){var i=n(e);if(i.length==1)return i[0];for(var a=[],r=0;r<i.length;r++){var s=i[r];s.nodeType!=8&&a.push(s)}return a.length>1?t(a).wrapAll('<div class="durandal-wrapper"></div').parent().get(0):a[0]},createView:function(t){var n=this,i=this.convertViewIdToRequirePath(t);return e.defer(function(a){e.acquire(i).then(function(e){var i=n.parseMarkup(e);i.setAttribute("data-view",t),a.resolve(i)})}).promise()}}});
(function(){function e(e){throw e}function t(e){return function(){return e}}function n(n){function u(e,t,n,i,r){var s=[];return e=L.j(function(){var e=t(n,r)||[];0<s.length&&(L.a.Ya(h(s),e),i&&L.r.K(i,a,[n,e,r])),s.splice(0,s.length),L.a.P(s,e)},a,{W:e,Ka:function(){return 0==s.length||!L.a.X(s[0])}}),{M:s,j:e.pa()?e:d}}function h(e){for(;e.length&&!L.a.X(e[0]);)e.splice(0,1);if(1<e.length){for(var t=e[0],n=e[e.length-1],i=[t];t!==n;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(i))}return e}function p(e,t,n,i,a){var r,s,o,l,c,d=Math.min,u=Math.max,h=[],p=e.length,f=t.length,g=f-p||1,_=p+f+1;for(r=0;p>=r;r++)for(l=o,h.push(o=[]),c=d(f,r+g),s=u(0,r-1);c>=s;s++)o[s]=s?r?e[r-1]===t[s-1]?l[s-1]:d(l[s]||_,o[s-1]||_)+1:s+1:r+1;for(d=[],u=[],g=[],r=p,s=f;r||s;)f=h[r][s]-1,s&&f===h[r][s-1]?u.push(d[d.length]={status:n,value:t[--s],index:s}):r&&f===h[r-1][s]?g.push(d[d.length]={status:i,value:e[--r],index:r}):(d.push({status:"retained",value:t[--s]}),--r);if(u.length&&g.length){e=10*p;var m;for(t=n=0;(a||e>t)&&(m=u[n]);n++){for(i=0;h=g[i];i++)if(m.value===h.value){m.moved=h.index,h.moved=m.index,g.splice(i,1),t=i=0;break}t+=i}}return d.reverse()}function f(t,n,s,o,l){l=l||{};var c=t&&g(t),c=c&&c.ownerDocument,d=l.templateEngine||V;switch(L.za.vb(s,d,c),s=d.renderTemplate(s,o,l,c),("number"!=typeof s.length||0<s.length&&"number"!=typeof s[0].nodeType)&&e(Error("Template engine must return an array of DOM nodes")),c=r,n){case"replaceChildren":L.e.N(t,s),c=i;break;case"replaceNode":L.a.Ya(t,s),c=i;break;case"ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+n))}return c&&(_(s,o),l.afterRender&&L.r.K(l.afterRender,a,[s,o.$data])),s}function g(e){return e.nodeType?e:0<e.length?e[0]:a}function _(e,t){if(e.length){var n=e[0],i=e[e.length-1];m(n,i,function(e){L.Da(t,e)}),m(n,i,function(e){L.s.ib(e,[t])})}}function m(e,t,n){var i;for(t=L.e.nextSibling(t);e&&(i=e)!==t;)e=L.e.nextSibling(i),(1===i.nodeType||8===i.nodeType)&&n(i)}function v(t,n,i){t=L.g.aa(t);for(var a=L.g.Q,r=0;r<t.length;r++){var s=t[r].key;if(a.hasOwnProperty(s)){var o=a[s];"function"==typeof o?(s=o(t[r].value))&&e(Error(s)):o||e(Error("This template engine does not support the '"+s+"' binding within its templates"))}}return t="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+L.g.ba(t)+" } })()})",i.createJavaScriptEvaluatorBlock(t)+n}function y(t,n,i,r){function s(e){return function(){return l[e]}}function o(){return l}var l,c,u=0;return L.j(function(){var a=i&&i instanceof L.z?i:new L.z(L.a.d(i)),h=a.$data;if(r&&L.eb(t,a),l=("function"==typeof n?n(a,t):n)||L.J.instance.getBindings(t,a)){if(0===u){u=1;for(var p in l){var f=L.c[p];f&&8===t.nodeType&&!L.e.I[p]&&e(Error("The binding '"+p+"' cannot be used with virtual elements")),f&&"function"==typeof f.init&&(f=f.init(t,s(p),o,h,a))&&f.controlsDescendantBindings&&(c!==d&&e(Error("Multiple bindings ("+c+" and "+p+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),c=p)}u=2}if(2===u)for(p in l)(f=L.c[p])&&"function"==typeof f.update&&f.update(t,s(p),o,h,a)}},a,{W:t}),{Nb:c===d}}function b(e,t,n){var r=i,s=1===t.nodeType;s&&L.e.Ta(t),(s&&n||L.J.instance.nodeHasBindings(t))&&(r=y(t,a,e,n).Nb),r&&x(e,t,!s)}function x(e,t,n){for(var i=L.e.firstChild(t);t=i;)i=L.e.nextSibling(t),b(e,t,n)}function j(e,t){var n=k(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:a}function k(t,n){for(var i=t,r=1,s=[];i=i.nextSibling;){if(w(i)&&(r--,0===r))return s;s.push(i),C(i)&&r++}return n||e(Error("Cannot find closing comment tag to match: "+t.nodeValue)),a}function w(e){return 8==e.nodeType&&(H?e.text:e.nodeValue).match(R)}function C(e){return 8==e.nodeType&&(H?e.text:e.nodeValue).match($)}function T(e,t){for(var n=a;e!=n;)n=e,e=e.replace(F,function(e,n){return t[n]});return e}function N(){var e=[],t=[];this.save=function(n,i){var a=L.a.i(e,n);a>=0?t[a]=i:(e.push(n),t.push(i))},this.get=function(n){return n=L.a.i(e,n),n>=0?t[n]:d}}function S(e,t,n){function i(i){var a=t(e[i]);switch(typeof a){case"boolean":case"number":case"string":case"function":r[i]=a;break;case"object":case"undefined":var s=n.get(a);r[i]=s!==d?s:S(a,t,n)}}if(n=n||new N,e=t(e),"object"!=typeof e||e===a||e===d||e instanceof Date)return e;var r=e instanceof Array?[]:{};n.save(e,r);var s=e;if(s instanceof Array){for(var o=0;o<s.length;o++)i(o);"function"==typeof s.toJSON&&i("toJSON")}else for(o in s)i(o);return r}function E(e,t){if(e)if(8==e.nodeType){var n=L.s.Ua(e.nodeValue);n!=a&&t.push({sb:e,Fb:n})}else if(1==e.nodeType)for(var n=0,i=e.childNodes,r=i.length;r>n;n++)E(i[n],t)}function A(e,t,n,a){L.c[e]={init:function(e){return L.a.f.set(e,Q,{}),{controlsDescendantBindings:i}},update:function(e,r,s,o,l){s=L.a.f.get(e,Q),r=L.a.d(r()),o=!n!=!r;var c=!s.Za;(c||t||o!==s.qb)&&(c&&(s.Za=L.a.Ia(L.e.childNodes(e),i)),o?(c||L.e.N(e,L.a.Ia(s.Za)),L.Ea(a?a(l,r):l,e)):L.e.Y(e),s.qb=o)}},L.g.Q[e]=r,L.e.I[e]=i}function D(e,t,n){n&&t!==L.k.q(e)&&L.k.T(e,t),t!==L.k.q(e)&&L.r.K(L.a.Ba,a,[e,"change"])}var L="undefined"!=typeof n?n:{};L.b=function(e,t){for(var n=e.split("."),i=L,a=0;a<n.length-1;a++)i=i[n[a]];i[n[n.length-1]]=t},L.p=function(e,t,n){e[t]=n},L.version="2.2.1",L.b("version",L.version),L.a=new function(){function t(e,t){if("input"!==L.a.u(e)||!e.type||"click"!=t.toLowerCase())return r;var n=e.type;return"checkbox"==n||"radio"==n}var n=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,u={},h={};u[/Firefox\/2/i.test(l.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],u.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var p in u){var f=u[p];if(f.length)for(var g=0,_=f.length;_>g;g++)h[f[g]]=p}var m,v={propertychange:i},u=3;for(p=o.createElement("div"),f=p.getElementsByTagName("i");p.innerHTML="<!--[if gt IE "+ ++u+"]><i></i><![endif]-->",f[0];);return m=u>4?u:d,{Na:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n])},i:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},lb:function(e,t,n){for(var i=0,r=e.length;r>i;i++)if(t.call(n,e[i]))return e[i];return a},ga:function(e,t){var n=L.a.i(e,t);n>=0&&e.splice(n,1)},Ga:function(e){e=e||[];for(var t=[],n=0,i=e.length;i>n;n++)0>L.a.i(t,e[n])&&t.push(e[n]);return t},V:function(e,t){e=e||[];for(var n=[],i=0,a=e.length;a>i;i++)n.push(t(e[i]));return n},fa:function(e,t){e=e||[];for(var n=[],i=0,a=e.length;a>i;i++)t(e[i])&&n.push(e[i]);return n},P:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;i>n;n++)e.push(t[n]);return e},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},ka:function(e){for(;e.firstChild;)L.removeNode(e.firstChild)},Hb:function(e){e=L.a.L(e);for(var t=o.createElement("div"),n=0,i=e.length;i>n;n++)t.appendChild(L.A(e[n]));return t},Ia:function(e,t){for(var n=0,a=e.length,r=[];a>n;n++){var s=e[n].cloneNode(i);r.push(t?L.A(s):s)}return r},N:function(e,t){if(L.a.ka(e),t)for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])},Ya:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],a=i.parentNode,r=0,s=t.length;s>r;r++)a.insertBefore(t[r],i);for(r=0,s=n.length;s>r;r++)L.removeNode(n[r])}},bb:function(e,t){7>m?e.setAttribute("selected",t):e.selected=t},D:function(e){return(e||"").replace(n,"")},Rb:function(e,t){for(var n=[],i=(e||"").split(t),a=0,r=i.length;r>a;a++){var s=L.a.D(i[a]);""!==s&&n.push(s)}return n},Ob:function(e,t){return e=e||"",t.length>e.length?r:e.substring(0,t.length)===t},tb:function(e,t){if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(e)&16);for(;e!=a;){if(e==t)return i;e=e.parentNode}return r},X:function(e){return L.a.tb(e,e.ownerDocument)},u:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(n,a,s){var o=m&&v[a];if(o||"undefined"==typeof c)o||"function"!=typeof n.addEventListener?"undefined"!=typeof n.attachEvent?n.attachEvent("on"+a,function(e){s.call(n,e)}):e(Error("Browser doesn't support addEventListener or attachEvent")):n.addEventListener(a,s,r);else{if(t(n,a)){var l=s;s=function(e,t){var n=this.checked;t&&(this.checked=t.nb!==i),l.call(this,e),this.checked=n}}c(n).bind(a,s)}},Ba:function(n,a){if((!n||!n.nodeType)&&e(Error("element must be a DOM node when calling triggerEvent")),"undefined"!=typeof c){var l=[];t(n,a)&&l.push({nb:n.checked}),c(n).trigger(a,l)}else"function"==typeof o.createEvent?"function"==typeof n.dispatchEvent?(l=o.createEvent(h[a]||"HTMLEvents"),l.initEvent(a,i,i,s,0,0,0,0,0,r,r,r,r,0,n),n.dispatchEvent(l)):e(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof n.fireEvent?(t(n,a)&&(n.checked=n.checked!==i),n.fireEvent("on"+a)):e(Error("Browser doesn't support triggering events"))},d:function(e){return L.$(e)?e():e},ua:function(e){return L.$(e)?e.t():e},da:function(e,t,n){if(t){var i=/[\w-]+/g,a=e.className.match(i)||[];L.a.o(t.match(i),function(e){var t=L.a.i(a,e);t>=0?n||a.splice(t,1):n&&a.push(e)}),e.className=a.join(" ")}},cb:function(e,t){var n=L.a.d(t);if((n===a||n===d)&&(n=""),3===e.nodeType)e.data=n;else{var i=L.e.firstChild(e);!i||3!=i.nodeType||L.e.nextSibling(i)?L.e.N(e,[o.createTextNode(n)]):i.data=n,L.a.wb(e)}},ab:function(e,t){if(e.name=t,7>=m)try{e.mergeAttributes(o.createElement("<input name='"+e.name+"'/>"),r)}catch(n){}},wb:function(e){m>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},ub:function(e){if(m>=9){var t=e.style.width;e.style.width=0,e.style.width=t}},Lb:function(e,t){e=L.a.d(e),t=L.a.d(t);for(var n=[],i=e;t>=i;i++)n.push(i);return n},L:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(e[n]);return t},Pb:6===m,Qb:7===m,Z:m,Oa:function(e,t){for(var n=L.a.L(e.getElementsByTagName("input")).concat(L.a.L(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},a=[],r=n.length-1;r>=0;r--)i(n[r])&&a.push(n[r]);return a},Ib:function(e){return"string"==typeof e&&(e=L.a.D(e))?s.JSON&&s.JSON.parse?s.JSON.parse(e):new Function("return "+e)():a},xa:function(t,n,i){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(L.a.d(t),n,i)},Jb:function(e,t,n){n=n||{};var i=n.params||{},a=n.includeFields||this.Na,r=e;if("object"==typeof e&&"form"===L.a.u(e))for(var r=e.action,s=a.length-1;s>=0;s--)for(var l=L.a.Oa(e,a[s]),c=l.length-1;c>=0;c--)i[l[c].name]=l[c].value;t=L.a.d(t);var d=o.createElement("form");d.style.display="none",d.action=r,d.method="post";for(var u in t)e=o.createElement("input"),e.name=u,e.value=L.a.xa(L.a.d(t[u])),d.appendChild(e);for(u in i)e=o.createElement("input"),e.name=u,e.value=i[u],d.appendChild(e);o.body.appendChild(d),n.submitter?n.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}},L.b("utils",L.a),L.b("utils.arrayForEach",L.a.o),L.b("utils.arrayFirst",L.a.lb),L.b("utils.arrayFilter",L.a.fa),L.b("utils.arrayGetDistinctValues",L.a.Ga),L.b("utils.arrayIndexOf",L.a.i),L.b("utils.arrayMap",L.a.V),L.b("utils.arrayPushAll",L.a.P),L.b("utils.arrayRemoveItem",L.a.ga),L.b("utils.extend",L.a.extend),L.b("utils.fieldsIncludedWithJsonPost",L.a.Na),L.b("utils.getFormFields",L.a.Oa),L.b("utils.peekObservable",L.a.ua),L.b("utils.postJson",L.a.Jb),L.b("utils.parseJson",L.a.Ib),L.b("utils.registerEventHandler",L.a.n),L.b("utils.stringifyJson",L.a.xa),L.b("utils.range",L.a.Lb),L.b("utils.toggleDomNodeCssClass",L.a.da),L.b("utils.triggerEvent",L.a.Ba),L.b("utils.unwrapObservable",L.a.d),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),L.a.f=new function(){var e=0,t="__ko__"+(new Date).getTime(),n={};return{get:function(e,t){var n=L.a.f.la(e,r);return n===d?d:n[t]},set:function(e,t,n){n===d&&L.a.f.la(e,r)===d||(L.a.f.la(e,i)[t]=n)},la:function(i,a){var r=i[t];if(!r||"null"===r||!n[r]){if(!a)return d;r=i[t]="ko"+e++,n[r]={}}return n[r]},clear:function(e){var s=e[t];return s?(delete n[s],e[t]=a,i):r}}},L.b("utils.domData",L.a.f),L.b("utils.domData.clear",L.a.f.clear),L.a.F=new function(){function t(e,t){var n=L.a.f.get(e,a);return n===d&&t&&(n=[],L.a.f.set(e,a,n)),n}function n(e){var i=t(e,r);if(i)for(var i=i.slice(0),a=0;a<i.length;a++)i[a](e);if(L.a.f.clear(e),"function"==typeof c&&"function"==typeof c.cleanData&&c.cleanData([e]),o[e.nodeType])for(i=e.firstChild;e=i;)i=e.nextSibling,8===e.nodeType&&n(e)}var a="__ko_domNodeDisposal__"+(new Date).getTime(),s={1:i,8:i,9:i},o={1:i,9:i};return{Ca:function(n,a){"function"!=typeof a&&e(Error("Callback must be a function")),t(n,i).push(a)},Xa:function(e,n){var i=t(e,r);i&&(L.a.ga(i,n),0==i.length&&L.a.f.set(e,a,d))},A:function(e){if(s[e.nodeType]&&(n(e),o[e.nodeType])){var t=[];L.a.P(t,e.getElementsByTagName("*"));for(var i=0,a=t.length;a>i;i++)n(t[i])}return e},removeNode:function(e){L.A(e),e.parentNode&&e.parentNode.removeChild(e)}}},L.A=L.a.F.A,L.removeNode=L.a.F.removeNode,L.b("cleanNode",L.A),L.b("removeNode",L.removeNode),L.b("utils.domNodeDisposal",L.a.F),L.b("utils.domNodeDisposal.addDisposeCallback",L.a.F.Ca),L.b("utils.domNodeDisposal.removeDisposeCallback",L.a.F.Xa),L.a.ta=function(e){var t;if("undefined"!=typeof c){if(c.parseHTML)t=c.parseHTML(e);else if((t=c.clean([e]))&&t[0]){for(e=t[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var n=L.a.D(e).toLowerCase();for(t=o.createElement("div"),n=n.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+n[1]+e+n[2]+"</div>","function"==typeof s.innerShiv?t.appendChild(s.innerShiv(e)):t.innerHTML=e;n[0]--;)t=t.lastChild;t=L.a.L(t.lastChild.childNodes)}return t},L.a.ca=function(e,t){if(L.a.ka(e),t=L.a.d(t),t!==a&&t!==d)if("string"!=typeof t&&(t=t.toString()),"undefined"!=typeof c)c(e).html(t);else for(var n=L.a.ta(t),i=0;i<n.length;i++)e.appendChild(n[i])},L.b("utils.parseHtmlFragment",L.a.ta),L.b("utils.setHtml",L.a.ca);var B={};L.s={ra:function(t){"function"!=typeof t&&e(Error("You can only pass a function to ko.memoization.memoize()"));var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return B[n]=t,"<!--[ko_memo:"+n+"]-->"},hb:function(t,n){var r=B[t];r===d&&e(Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized."));try{return r.apply(a,n||[]),i}finally{delete B[t]}},ib:function(e,t){var n=[];E(e,n);for(var i=0,a=n.length;a>i;i++){var r=n[i].sb,s=[r];t&&L.a.P(s,t),L.s.hb(n[i].Fb,s),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},Ua:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:a}},L.b("memoization",L.s),L.b("memoization.memoize",L.s.ra),L.b("memoization.unmemoize",L.s.hb),L.b("memoization.parseMemoText",L.s.Ua),L.b("memoization.unmemoizeDomNodeAndDescendants",L.s.ib),L.Ma={throttle:function(e,t){e.throttleEvaluation=t;var n=a;return L.j({read:e,write:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}})},notify:function(e,n){return e.equalityComparer="always"==n?t(r):L.m.fn.equalityComparer,e}},L.b("extenders",L.Ma),L.fb=function(e,t,n){this.target=e,this.ha=t,this.rb=n,L.p(this,"dispose",this.B)},L.fb.prototype.B=function(){this.Cb=i,this.rb()},L.S=function(){this.w={},L.a.extend(this,L.S.fn),L.p(this,"subscribe",this.ya),L.p(this,"extend",this.extend),L.p(this,"getSubscriptionsCount",this.yb)},L.S.fn={ya:function(e,t,n){n=n||"change";var i=new L.fb(this,t?e.bind(t):e,function(){L.a.ga(this.w[n],i)}.bind(this));return this.w[n]||(this.w[n]=[]),this.w[n].push(i),i},notifySubscribers:function(e,t){t=t||"change",this.w[t]&&L.r.K(function(){L.a.o(this.w[t].slice(0),function(t){t&&t.Cb!==i&&t.ha(e)})},this)},yb:function(){var e,t=0;for(e in this.w)this.w.hasOwnProperty(e)&&(t+=this.w[e].length);return t},extend:function(e){var t=this;if(e)for(var n in e){var i=L.Ma[n];"function"==typeof i&&(t=i(t,e[n]))}return t}},L.Qa=function(e){return"function"==typeof e.ya&&"function"==typeof e.notifySubscribers},L.b("subscribable",L.S),L.b("isSubscribable",L.Qa);var M=[];L.r={mb:function(e){M.push({ha:e,La:[]})},end:function(){M.pop()},Wa:function(t){if(L.Qa(t)||e(Error("Only subscribable things can act as dependencies")),0<M.length){var n=M[M.length-1];n&&!(0<=L.a.i(n.La,t))&&(n.La.push(t),n.ha(t))}},K:function(e,t,n){try{return M.push(a),e.apply(t,n||[])}finally{M.pop()}}};var q={undefined:i,"boolean":i,number:i,string:i};L.m=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(n,arguments[0])||(t.H(),n=arguments[0],t.G()),this):(L.r.Wa(t),n)}var n=e;return L.S.call(t),t.t=function(){return n},t.G=function(){t.notifySubscribers(n)},t.H=function(){t.notifySubscribers(n,"beforeChange")},L.a.extend(t,L.m.fn),L.p(t,"peek",t.t),L.p(t,"valueHasMutated",t.G),L.p(t,"valueWillMutate",t.H),t},L.m.fn={equalityComparer:function(e,t){return e===a||typeof e in q?e===t:r}};var I=L.m.Kb="__ko_proto__";L.m.fn[I]=L.m,L.ma=function(e,t){return e===a||e===d||e[I]===d?r:e[I]===t?i:L.ma(e[I],t)},L.$=function(e){return L.ma(e,L.m)},L.Ra=function(e){return"function"==typeof e&&e[I]===L.m||"function"==typeof e&&e[I]===L.j&&e.zb?i:r},L.b("observable",L.m),L.b("isObservable",L.$),L.b("isWriteableObservable",L.Ra),L.R=function(t){0==arguments.length&&(t=[]),t!==a&&t!==d&&!("length"in t)&&e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var n=L.m(t);return L.a.extend(n,L.R.fn),n},L.R.fn={remove:function(e){for(var t=this.t(),n=[],i="function"==typeof e?e:function(t){return t===e},a=0;a<t.length;a++){var r=t[a];i(r)&&(0===n.length&&this.H(),n.push(r),t.splice(a,1),a--)}return n.length&&this.G(),n},removeAll:function(e){if(e===d){var t=this.t(),n=t.slice(0);return this.H(),t.splice(0,t.length),this.G(),n}return e?this.remove(function(t){return 0<=L.a.i(e,t)}):[]},destroy:function(e){var t=this.t(),n="function"==typeof e?e:function(t){return t===e};this.H();for(var a=t.length-1;a>=0;a--)n(t[a])&&(t[a]._destroy=i);this.G()},destroyAll:function(e){return e===d?this.destroy(t(i)):e?this.destroy(function(t){return 0<=L.a.i(e,t)}):[]},indexOf:function(e){var t=this();return L.a.i(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.H(),this.t()[n]=t,this.G())}},L.a.o("pop push reverse shift sort splice unshift".split(" "),function(e){L.R.fn[e]=function(){var t=this.t();return this.H(),t=t[e].apply(t,arguments),this.G(),t}}),L.a.o(["slice"],function(e){L.R.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),L.b("observableArray",L.R),L.j=function(n,s,o){function l(){L.a.o(j,function(e){e.B()}),j=[]}function c(){var e=h.throttleEvaluation;e&&e>=0?(clearTimeout(k),k=setTimeout(u,e)):u()}function u(){if(!_)if(g&&b())x();else{_=i;try{var e=L.a.V(j,function(e){return e.target});L.r.mb(function(t){var n;0<=(n=L.a.i(e,t))?e[n]=d:j.push(t.ya(c))});for(var t=m.call(s),n=e.length-1;n>=0;n--)e[n]&&j.splice(n,1)[0].B();g=i,h.notifySubscribers(f,"beforeChange"),f=t}finally{L.r.end()}h.notifySubscribers(f),_=r,j.length||x()}}function h(){return 0<arguments.length?("function"==typeof v?v.apply(s,arguments):e(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")),this):(g||u(),L.r.Wa(h),f)}function p(){return!g||0<j.length}var f,g=r,_=r,m=n;m&&"object"==typeof m?(o=m,m=o.read):(o=o||{},m||(m=o.read)),"function"!=typeof m&&e(Error("Pass a function that returns the value of the ko.computed"));var v=o.write,y=o.disposeWhenNodeIsRemoved||o.W||a,b=o.disposeWhen||o.Ka||t(r),x=l,j=[],k=a;if(s||(s=o.owner),h.t=function(){return g||u(),f},h.xb=function(){return j.length},h.zb="function"==typeof o.write,h.B=function(){x()},h.pa=p,L.S.call(h),L.a.extend(h,L.j.fn),L.p(h,"peek",h.t),L.p(h,"dispose",h.B),L.p(h,"isActive",h.pa),L.p(h,"getDependenciesCount",h.xb),o.deferEvaluation!==i&&u(),y&&p()){x=function(){L.a.F.Xa(y,arguments.callee),l()},L.a.F.Ca(y,x);var w=b,b=function(){return!L.a.X(y)||w()}}return h},L.Bb=function(e){return L.ma(e,L.j)},n=L.m.Kb,L.j[n]=L.m,L.j.fn={},L.j.fn[n]=L.j,L.b("dependentObservable",L.j),L.b("computed",L.j),L.b("isComputed",L.Bb),L.gb=function(t){return 0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert.")),S(t,function(e){for(var t=0;L.$(e)&&10>t;t++)e=e();return e})},L.toJSON=function(e,t,n){return e=L.gb(e),L.a.xa(e,t,n)},L.b("toJS",L.gb),L.b("toJSON",L.toJSON),L.k={q:function(e){switch(L.a.u(e)){case"option":return e.__ko__hasDomDataOptionValue__===i?L.a.f.get(e,L.c.options.sa):7>=L.a.Z?e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?L.k.q(e.options[e.selectedIndex]):d;default:return e.value}},T:function(e,t){switch(L.a.u(e)){case"option":switch(typeof t){case"string":L.a.f.set(e,L.c.options.sa,d),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:L.a.f.set(e,L.c.options.sa,t),e.__ko__hasDomDataOptionValue__=i,e.value="number"==typeof t?t:""}break;case"select":for(var n=e.options.length-1;n>=0;n--)if(L.k.q(e.options[n])==t){e.selectedIndex=n;break}break;default:(t===a||t===d)&&(t=""),e.value=t}}},L.b("selectExtensions",L.k),L.b("selectExtensions.readValue",L.k.q),L.b("selectExtensions.writeValue",L.k.T);var F=/\@ko_token_(\d+)\@/g,P=["true","false"],O=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;L.g={Q:[],aa:function(e){var t=L.a.D(e);if(3>t.length)return[];"{"===t.charAt(0)&&(t=t.substring(1,t.length-1)),e=[];for(var n,i=a,r=0;r<t.length;r++){var s=t.charAt(r);if(i===a)switch(s){case'"':case"'":case"/":i=r,n=s}else if(s==n&&"\\"!==t.charAt(r-1)){s=t.substring(i,r+1),e.push(s);var o="@ko_token_"+(e.length-1)+"@",t=t.substring(0,i)+o+t.substring(r+1),r=r-(s.length-o.length),i=a}}n=i=a;for(var l=0,c=a,r=0;r<t.length;r++){if(s=t.charAt(r),i===a)switch(s){case"{":i=r,c=s,n="}";break;case"(":i=r,c=s,n=")";break;case"[":i=r,c=s,n="]"}s===c?l++:s===n&&(l--,0===l&&(s=t.substring(i,r+1),e.push(s),o="@ko_token_"+(e.length-1)+"@",t=t.substring(0,i)+o+t.substring(r+1),r-=s.length-o.length,i=a))}for(n=[],t=t.split(","),i=0,r=t.length;r>i;i++)l=t[i],c=l.indexOf(":"),c>0&&c<l.length-1?(s=l.substring(c+1),n.push({key:T(l.substring(0,c),e),value:T(s,e)})):n.push({unknown:T(l,e)});return n},ba:function(e){var t="string"==typeof e?L.g.aa(e):e,n=[];e=[];for(var i,s=0;i=t[s];s++)if(0<n.length&&n.push(","),i.key){var o;e:{o=i.key;var l=L.a.D(o);switch(l.length&&l.charAt(0)){case"'":case'"':break e;default:o="'"+l+"'"}}i=i.value,n.push(o),n.push(":"),n.push(i),i=L.a.D(i),0<=L.a.i(P,L.a.D(i).toLowerCase())?i=r:(l=i.match(O),i=l===a?r:l[1]?"Object("+l[1]+")"+l[2]:i),i&&(0<e.length&&e.push(", "),e.push(o+" : function(__ko_value) { "+i+" = __ko_value; }"))}else i.unknown&&n.push(i.unknown);return t=n.join(""),0<e.length&&(t=t+", '_ko_property_writers' : { "+e.join("")+" } "),t},Eb:function(e,t){for(var n=0;n<e.length;n++)if(L.a.D(e[n].key)==t)return i;return r},ea:function(e,t,n,i,a){e&&L.Ra(e)?(!a||e.t()!==i)&&e(i):(e=t()._ko_property_writers)&&e[n]&&e[n](i)}},L.b("expressionRewriting",L.g),L.b("expressionRewriting.bindingRewriteValidators",L.g.Q),L.b("expressionRewriting.parseObjectLiteral",L.g.aa),L.b("expressionRewriting.preProcessBindings",L.g.ba),L.b("jsonExpressionRewriting",L.g),L.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",L.g.ba);var H="<!--test-->"===o.createComment("test").text,$=H?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,R=H?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,z={ul:i,ol:i};L.e={I:{},childNodes:function(e){return C(e)?k(e):e.childNodes},Y:function(e){if(C(e)){e=L.e.childNodes(e);for(var t=0,n=e.length;n>t;t++)L.removeNode(e[t])}else L.a.ka(e)},N:function(e,t){if(C(e)){L.e.Y(e);for(var n=e.nextSibling,i=0,a=t.length;a>i;i++)n.parentNode.insertBefore(t[i],n)}else L.a.N(e,t)},Va:function(e,t){C(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},Pa:function(e,t,n){n?C(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):L.e.Va(e,t)},firstChild:function(e){return C(e)?!e.nextSibling||w(e.nextSibling)?a:e.nextSibling:e.firstChild},nextSibling:function(e){return C(e)&&(e=j(e)),e.nextSibling&&w(e.nextSibling)?a:e.nextSibling},jb:function(e){return(e=C(e))?e[1]:a},Ta:function(e){if(z[L.a.u(e)]){var t=e.firstChild;if(t)do if(1===t.nodeType){var n;n=t.firstChild;var r=a;if(n)do if(r)r.push(n);else if(C(n)){var s=j(n,i);s?n=s:r=[n]}else w(n)&&(r=[n]);while(n=n.nextSibling);if(n=r)for(r=t.nextSibling,s=0;s<n.length;s++)r?e.insertBefore(n[s],r):e.appendChild(n[s])}while(t=t.nextSibling)}}},L.b("virtualElements",L.e),L.b("virtualElements.allowedBindings",L.e.I),L.b("virtualElements.emptyNode",L.e.Y),L.b("virtualElements.insertAfter",L.e.Pa),L.b("virtualElements.prepend",L.e.Va),L.b("virtualElements.setDomNodeChildren",L.e.N),L.J=function(){this.Ha={}},L.a.extend(L.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind")!=a;case 8:return L.e.jb(e)!=a;default:return r}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):a},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return L.e.jb(e);default:return a}},parseBindingsString:function(t,n,i){try{var a;if(!(a=this.Ha[t])){var r,s=this.Ha,o="with($context){with($data||{}){return{"+L.g.ba(t)+"}}}";r=new Function("$context","$element",o),a=s[t]=r}return a(n,i)}catch(l){e(Error("Unable to parse bindings.\nMessage: "+l+";\nBindings value: "+t))}}}),L.J.instance=new L.J,L.b("bindingProvider",L.J),L.c={},L.z=function(e,t,n){t?(L.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e,this.ko=L),this.$data=e,n&&(this[n]=e)},L.z.prototype.createChildContext=function(e,t){return new L.z(e,this,t)},L.z.prototype.extend=function(e){var t=L.a.extend(new L.z,this);return L.a.extend(t,e)},L.eb=function(e,t){return 2!=arguments.length?L.a.f.get(e,"__ko_bindingContext__"):(L.a.f.set(e,"__ko_bindingContext__",t),void 0)},L.Fa=function(e,t,n){return 1===e.nodeType&&L.e.Ta(e),y(e,t,n,i)},L.Ea=function(e,t){(1===t.nodeType||8===t.nodeType)&&x(e,t,i)},L.Da=function(t,n){n&&1!==n.nodeType&&8!==n.nodeType&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),n=n||s.document.body,b(t,n,i)},L.ja=function(e){switch(e.nodeType){case 1:case 8:var t=L.eb(e);if(t)return t;if(e.parentNode)return L.ja(e.parentNode)}return d},L.pb=function(e){return(e=L.ja(e))?e.$data:d},L.b("bindingHandlers",L.c),L.b("applyBindings",L.Da),L.b("applyBindingsToDescendants",L.Ea),L.b("applyBindingsToNode",L.Fa),L.b("contextFor",L.ja),L.b("dataFor",L.pb);var W={"class":"className","for":"htmlFor"};L.c.attr={update:function(e,t){var n,i=L.a.d(t())||{};for(n in i)if("string"==typeof n){var s=L.a.d(i[n]),o=s===r||s===a||s===d;o&&e.removeAttribute(n),8>=L.a.Z&&n in W?(n=W[n],o?e.removeAttribute(n):e[n]=s):o||e.setAttribute(n,s.toString()),"name"===n&&L.a.ab(e,o?"":s.toString())}}},L.c.checked={init:function(e,n,a){L.a.n(e,"click",function(){var t;if("checkbox"==e.type)t=e.checked;else{if("radio"!=e.type||!e.checked)return;t=e.value}var r=n(),s=L.a.d(r);"checkbox"==e.type&&s instanceof Array?(t=L.a.i(s,e.value),e.checked&&0>t?r.push(e.value):!e.checked&&t>=0&&r.splice(t,1)):L.g.ea(r,a,"checked",t,i)}),"radio"==e.type&&!e.name&&L.c.uniqueName.init(e,t(i))},update:function(e,t){var n=L.a.d(t());"checkbox"==e.type?e.checked=n instanceof Array?0<=L.a.i(n,e.value):n:"radio"==e.type&&(e.checked=e.value==n)}},L.c.css={update:function(e,t){var n=L.a.d(t());if("object"==typeof n)for(var a in n){var s=L.a.d(n[a]);L.a.da(e,a,s)}else n=String(n||""),L.a.da(e,e.__ko__cssValue,r),e.__ko__cssValue=n,L.a.da(e,n,i)}},L.c.enable={update:function(e,t){var n=L.a.d(t());n&&e.disabled?e.removeAttribute("disabled"):!n&&!e.disabled&&(e.disabled=i)}},L.c.disable={update:function(e,t){L.c.enable.update(e,function(){return!L.a.d(t())})}},L.c.event={init:function(e,t,n,a){var s,o=t()||{};for(s in o)(function(){var o=s;"string"==typeof o&&L.a.n(e,o,function(e){var s,l=t()[o];if(l){var c=n();try{var d=L.a.L(arguments);d.unshift(a),s=l.apply(a,d)}finally{s!==i&&(e.preventDefault?e.preventDefault():e.returnValue=r)}c[o+"Bubble"]===r&&(e.cancelBubble=i,e.stopPropagation&&e.stopPropagation())}})})()}},L.c.foreach={Sa:function(e){return function(){var t=e(),n=L.a.ua(t);return n&&"number"!=typeof n.length?(L.a.d(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:L.C.oa}):{foreach:t,templateEngine:L.C.oa}}},init:function(e,t){return L.c.template.init(e,L.c.foreach.Sa(t))},update:function(e,t,n,i,a){return L.c.template.update(e,L.c.foreach.Sa(t),n,i,a)}},L.g.Q.foreach=r,L.e.I.foreach=i,L.c.hasfocus={init:function(e,t,n){function s(a){e.__ko_hasfocusUpdating=i;var s=e.ownerDocument;"activeElement"in s&&(a=s.activeElement===e),s=t(),L.g.ea(s,n,"hasfocus",a,i),e.__ko_hasfocusUpdating=r}var o=s.bind(a,i),l=s.bind(a,r);L.a.n(e,"focus",o),L.a.n(e,"focusin",o),L.a.n(e,"blur",l),L.a.n(e,"focusout",l)},update:function(e,t){var n=L.a.d(t());e.__ko_hasfocusUpdating||(n?e.focus():e.blur(),L.r.K(L.a.Ba,a,[e,n?"focusin":"focusout"]))}},L.c.html={init:function(){return{controlsDescendantBindings:i}},update:function(e,t){L.a.ca(e,t())}};var Q="__ko_withIfBindingData";A("if"),A("ifnot",r,i),A("with",i,r,function(e,t){return e.createChildContext(t)}),L.c.options={update:function(t,n,a){"select"!==L.a.u(t)&&e(Error("options binding applies only to SELECT elements"));for(var r=0==t.length,s=L.a.V(L.a.fa(t.childNodes,function(e){return e.tagName&&"option"===L.a.u(e)&&e.selected}),function(e){return L.k.q(e)||e.innerText||e.textContent}),l=t.scrollTop,c=L.a.d(n());0<t.length;)L.A(t.options[0]),t.remove(0);if(c){a=a();var u=a.optionsIncludeDestroyed;if("number"!=typeof c.length&&(c=[c]),a.optionsCaption){var h=o.createElement("option");L.a.ca(h,a.optionsCaption),L.k.T(h,d),t.appendChild(h)}n=0;for(var p=c.length;p>n;n++){var f=c[n];if(!f||!f._destroy||u){var h=o.createElement("option"),g=function(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n},_=g(f,a.optionsValue,f);L.k.T(h,L.a.d(_)),f=g(f,a.optionsText,_),L.a.cb(h,f),t.appendChild(h)}}for(c=t.getElementsByTagName("option"),n=u=0,p=c.length;p>n;n++)0<=L.a.i(s,L.k.q(c[n]))&&(L.a.bb(c[n],i),u++);t.scrollTop=l,r&&"value"in a&&D(t,L.a.ua(a.value),i),L.a.ub(t)}}},L.c.options.sa="__ko.optionValueDomData__",L.c.selectedOptions={init:function(e,t,n){L.a.n(e,"change",function(){var i=t(),a=[];L.a.o(e.getElementsByTagName("option"),function(e){e.selected&&a.push(L.k.q(e))}),L.g.ea(i,n,"value",a)})},update:function(t,n){"select"!=L.a.u(t)&&e(Error("values binding applies only to SELECT elements"));var i=L.a.d(n());i&&"number"==typeof i.length&&L.a.o(t.getElementsByTagName("option"),function(e){var t=0<=L.a.i(i,L.k.q(e));L.a.bb(e,t)})}},L.c.style={update:function(e,t){var n,i=L.a.d(t()||{});for(n in i)if("string"==typeof n){var a=L.a.d(i[n]);e.style[n]=a||""}}},L.c.submit={init:function(t,n,a,s){"function"!=typeof n()&&e(Error("The value for a submit binding must be a function")),L.a.n(t,"submit",function(e){var a,o=n();
try{a=o.call(s,t)}finally{a!==i&&(e.preventDefault?e.preventDefault():e.returnValue=r)}})}},L.c.text={update:function(e,t){L.a.cb(e,t())}},L.e.I.text=i,L.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++L.c.uniqueName.ob;L.a.ab(e,n)}}},L.c.uniqueName.ob=0,L.c.value={init:function(e,t,n){function a(){l=r;var i=t(),a=L.k.q(e);L.g.ea(i,n,"value",a)}var s=["change"],o=n().valueUpdate,l=r;o&&("string"==typeof o&&(o=[o]),L.a.P(s,o),s=L.a.Ga(s)),!L.a.Z||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=L.a.i(s,"propertychange")||(L.a.n(e,"propertychange",function(){l=i}),L.a.n(e,"blur",function(){l&&a()})),L.a.o(s,function(t){var n=a;L.a.Ob(t,"after")&&(n=function(){setTimeout(a,0)},t=t.substring(5)),L.a.n(e,t,n)})},update:function(e,t){var n="select"===L.a.u(e),a=L.a.d(t()),s=L.k.q(e),o=a!=s;0===a&&0!==s&&"0"!==s&&(o=i),o&&(s=function(){L.k.T(e,a)},s(),n&&setTimeout(s,0)),n&&0<e.length&&D(e,a,r)}},L.c.visible={update:function(e,t){var n=L.a.d(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},L.c.click={init:function(e,t,n,i){return L.c.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,i)}},L.v=function(){},L.v.prototype.renderTemplateSource=function(){e(Error("Override renderTemplateSource"))},L.v.prototype.createJavaScriptEvaluatorBlock=function(){e(Error("Override createJavaScriptEvaluatorBlock"))},L.v.prototype.makeTemplateSource=function(t,n){if("string"==typeof t){n=n||o;var i=n.getElementById(t);return i||e(Error("Cannot find template with ID "+t)),new L.l.h(i)}return 1==t.nodeType||8==t.nodeType?new L.l.O(t):(e(Error("Unknown template type: "+t)),void 0)},L.v.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n)},L.v.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===r?i:this.makeTemplateSource(e,t).data("isRewritten")},L.v.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",i)},L.b("templateEngine",L.v);var U=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,X=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;L.za={vb:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return L.za.Gb(e,t)},n)},Gb:function(e,t){return e.replace(U,function(e,n,i,a,r,s,o){return v(o,n,t)}).replace(X,function(e,n){return v(n,"<!-- ko -->",t)})},kb:function(e){return L.s.ra(function(t,n){t.nextSibling&&L.Fa(t.nextSibling,e,n)})}},L.b("__tr_ambtns",L.za.kb),L.l={},L.l.h=function(e){this.h=e},L.l.h.prototype.text=function(){var e=L.a.u(this.h),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.h[e];var t=arguments[0];"innerHTML"===e?L.a.ca(this.h,t):this.h[e]=t},L.l.h.prototype.data=function(e){return 1===arguments.length?L.a.f.get(this.h,"templateSourceData_"+e):(L.a.f.set(this.h,"templateSourceData_"+e,arguments[1]),void 0)},L.l.O=function(e){this.h=e},L.l.O.prototype=new L.l.h,L.l.O.prototype.text=function(){if(0==arguments.length){var e=L.a.f.get(this.h,"__ko_anon_template__")||{};return e.Aa===d&&e.ia&&(e.Aa=e.ia.innerHTML),e.Aa}L.a.f.set(this.h,"__ko_anon_template__",{Aa:arguments[0]})},L.l.h.prototype.nodes=function(){return 0==arguments.length?(L.a.f.get(this.h,"__ko_anon_template__")||{}).ia:(L.a.f.set(this.h,"__ko_anon_template__",{ia:arguments[0]}),void 0)},L.b("templateSources",L.l),L.b("templateSources.domElement",L.l.h),L.b("templateSources.anonymousTemplate",L.l.O);var V;L.wa=function(t){t!=d&&!(t instanceof L.v)&&e(Error("templateEngine must inherit from ko.templateEngine")),V=t},L.va=function(t,n,i,r,s){if(i=i||{},(i.templateEngine||V)==d&&e(Error("Set a template engine before calling renderTemplate")),s=s||"replaceChildren",r){var o=g(r);return L.j(function(){var e=n&&n instanceof L.z?n:new L.z(L.a.d(n)),a="function"==typeof t?t(e.$data,e):t,e=f(r,s,a,e,i);"replaceNode"==s&&(r=e,o=g(r))},a,{Ka:function(){return!o||!L.a.X(o)},W:o&&"replaceNode"==s?o.parentNode:o})}return L.s.ra(function(e){L.va(t,n,i,e,"replaceNode")})},L.Mb=function(e,t,n,i,r){function s(e,t){_(t,l),n.afterRender&&n.afterRender(t,e)}function o(t,i){l=r.createChildContext(L.a.d(t),n.as),l.$index=i;var s="function"==typeof e?e(t,l):e;return f(a,"ignoreTargetNode",s,l,n)}var l;return L.j(function(){var e=L.a.d(t)||[];"undefined"==typeof e.length&&(e=[e]),e=L.a.fa(e,function(e){return n.includeDestroyed||e===d||e===a||!L.a.d(e._destroy)}),L.r.K(L.a.$a,a,[i,e,o,n,s])},a,{W:i})},L.c.template={init:function(e,t){var n=L.a.d(t());return"string"==typeof n||n.name||1!=e.nodeType&&8!=e.nodeType||(n=1==e.nodeType?e.childNodes:L.e.childNodes(e),n=L.a.Hb(n),new L.l.O(e).nodes(n)),{controlsDescendantBindings:i}},update:function(e,t,n,r,s){t=L.a.d(t()),n={},r=i;var o,l=a;"string"!=typeof t&&(n=t,t=n.name,"if"in n&&(r=L.a.d(n["if"])),r&&"ifnot"in n&&(r=!L.a.d(n.ifnot)),o=L.a.d(n.data)),"foreach"in n?l=L.Mb(t||e,r&&n.foreach||[],n,e,s):r?(s="data"in n?s.createChildContext(o,n.as):s,l=L.va(t||e,s,n,e)):L.e.Y(e),s=l,(o=L.a.f.get(e,"__ko__templateComputedDomDataKey__"))&&"function"==typeof o.B&&o.B(),L.a.f.set(e,"__ko__templateComputedDomDataKey__",s&&s.pa()?s:d)}},L.g.Q.template=function(e){return e=L.g.aa(e),1==e.length&&e[0].unknown||L.g.Eb(e,"name")?a:"This template engine does not support anonymous templates nested within its templates"},L.e.I.template=i,L.b("setTemplateEngine",L.wa),L.b("renderTemplate",L.va),L.a.Ja=function(e,t,n){return e=e||[],t=t||[],e.length<=t.length?p(e,t,"added","deleted",n):p(t,e,"deleted","added",n)},L.b("utils.compareArrays",L.a.Ja),L.a.$a=function(e,t,n,a,r){function s(e,t){b=c[t],m!==t&&(k[e]=b),b.na(m++),h(b.M),g.push(b),y.push(b)}function o(e,t){if(e)for(var n=0,i=t.length;i>n;n++)t[n]&&L.a.o(t[n].M,function(i){e(i,n,t[n].U)})}t=t||[],a=a||{};var l=L.a.f.get(e,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===d,c=L.a.f.get(e,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],p=L.a.V(c,function(e){return e.U}),f=L.a.Ja(p,t),g=[],_=0,m=0,v=[],y=[];t=[];for(var b,x,j,k=[],p=[],w=0;x=f[w];w++)switch(j=x.moved,x.status){case"deleted":j===d&&(b=c[_],b.j&&b.j.B(),v.push.apply(v,h(b.M)),a.beforeRemove&&(t[w]=b,y.push(b))),_++;break;case"retained":s(w,_++);break;case"added":j!==d?s(w,j):(b={U:x.value,na:L.m(m++)},g.push(b),y.push(b),l||(p[w]=b))}o(a.beforeMove,k),L.a.o(v,a.beforeRemove?L.A:L.removeNode);for(var C,w=0,l=L.e.firstChild(e);b=y[w];w++){for(b.M||L.a.extend(b,u(e,n,b.U,r,b.na)),_=0;f=b.M[_];l=f.nextSibling,C=f,_++)f!==l&&L.e.Pa(e,f,C);!b.Ab&&r&&(r(b.U,b.M,b.na),b.Ab=i)}o(a.beforeRemove,t),o(a.afterMove,k),o(a.afterAdd,p),L.a.f.set(e,"setDomNodeChildrenFromArrayMapping_lastMappingResult",g)},L.b("utils.setDomNodeChildrenFromArrayMapping",L.a.$a),L.C=function(){this.allowTemplateRewriting=r},L.C.prototype=new L.v,L.C.prototype.renderTemplateSource=function(e){var t=9>L.a.Z||!e.nodes?a:e.nodes();return t?L.a.L(t.cloneNode(i).childNodes):(e=e.text(),L.a.ta(e))},L.C.oa=new L.C,L.wa(L.C.oa),L.b("nativeTemplateEngine",L.C),L.qa=function(){var t=this.Db=function(){if("undefined"==typeof c||!c.tmpl)return 0;try{if(0<=c.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,i,r){r=r||{},2>t&&e(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var s=n.data("precompiled");return s||(s=n.text()||"",s=c.template(a,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),n.data("precompiled",s)),n=[i.$data],i=c.extend({koBindingContext:i},r.templateOptions),i=c.tmpl(s,n,i),i.appendTo(o.createElement("div")),c.fragments={},i},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){o.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},t>0&&(c.tmpl.tag.ko_code={open:"__.push($1 || '');"},c.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},L.qa.prototype=new L.v,n=new L.qa,0<n.Db&&L.wa(n),L.b("jqueryTmplTemplateEngine",L.qa)}var i=!0,a=null,r=!1,s=window,o=document,l=navigator,c=window.jQuery,d=void 0;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?n(module.exports||exports):"function"==typeof define&&define.amd?define('knockout',["exports"],n):n(s.ko={})})();
define('durandal/viewLocator',["durandal/system","durandal/viewEngine"],function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=i.getAttribute("data-view");if(a==t)return i}}function i(e){return(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")}return{useConvention:function(e,t,n){e=e||"viewmodels",t=t||"views",n=n||t;var a=new RegExp(i(e),"gi");this.convertModuleIdToViewId=function(e){return e.replace(a,t)},this.translateViewIdToArea=function(e,t){return t&&"partial"!=t?n+"/"+t+"/"+e:n+"/"+e}},locateViewForObject:function(t,n){var i;if(t.getView&&(i=t.getView()))return this.locateView(i,null,n);if(t.viewUrl)return this.locateView(t.viewUrl,null,n);var a=e.getModuleId(t);return a?this.locateView(this.convertModuleIdToViewId(a),null,n):this.locateView(this.determineFallbackViewId(t),null,n)},convertModuleIdToViewId:function(e){return e},determineFallbackViewId:function(e){var t=/function (.{1,})\(/,n=t.exec(e.constructor.toString()),i=n&&n.length>1?n[1]:"";return"views/"+i},translateViewIdToArea:function(e){return e},locateView:function(i,a,r){if("string"==typeof i){var s;if(s=t.isViewUrl(i)?t.convertViewUrlToViewId(i):i,a&&(s=this.translateViewIdToArea(s,a)),r){var o=n(r,s);if(o)return e.defer(function(e){e.resolve(o)}).promise()}return t.createView(s)}return e.defer(function(e){e.resolve(i)}).promise()}}});
define('durandal/viewModelBinder',["knockout","durandal/system"],function(e,t){function n(e,n,i){if(!n||!e)return t.log("Insufficent Information to Bind",n,e),void 0;if(!n.getAttribute)return t.log("Unexpected View Type",n,e),void 0;var a=n.getAttribute("data-view");try{t.log("Binding",a,e),i()}catch(r){t.log(r.message,a,e)}}return{bindContext:function(t,i,a){a&&(t=t.createChildContext(a)),n(t,i,function(){e.applyBindings(t,i),a&&a.setView&&a.setView(i)})},bind:function(t,i){n(t,i,function(){e.applyBindings(t,i),t.setView&&t.setView(i)})}}});
define('durandal/viewModel',["knockout","durandal/system"],function(e,t){function n(e){return void 0==e&&(e={}),e.closeOnDeactivate||(e.closeOnDeactivate=c.defaults.closeOnDeactivate),e.beforeActivate||(e.beforeActivate=c.defaults.beforeActivate),e.afterDeactivate||(e.afterDeactivate=c.defaults.afterDeactivate),e.interpretResponse||(e.interpretResponse=c.defaults.interpretResponse),e.areSameItem||(e.areSameItem=c.defaults.areSameItem),e}function i(e,n,i,a,r){if(e&&e.deactivate){t.log("Deactivating",e);var s;try{s=e.deactivate(n)}catch(o){return t.log(o),a.resolve(!1),void 0}s&&s.then?s.then(function(){i.afterDeactivate(e,n,r),a.resolve(!0)},function(e){t.log(e),a.resolve(!1)}):(i.afterDeactivate(e,n,r),a.resolve(!0))}else e&&i.afterDeactivate(e,n,r),a.resolve(!0)}function a(e,n,i,a){if(e)if(e.activate){t.log("Activating",e);var r;try{r=e.activate(a)}catch(s){return t.log(s),i(!1),void 0}r&&r.then?r.then(function(){n(e),i(!0)},function(e){t.log(e),i(!1)}):(n(e),i(!0))}else n(e),i(!0);else i(!0)}function r(e,n,i){return t.defer(function(a){if(e&&e.canDeactivate){var r;try{r=e.canDeactivate(n)}catch(s){return t.log(s),a.resolve(!1),void 0}r.then?r.then(function(e){a.resolve(i.interpretResponse(e))},function(e){t.log(e),a.resolve(!1)}):a.resolve(i.interpretResponse(r))}else a.resolve(!0)}).promise()}function s(e,n,i,a){return t.defer(function(r){if(e==n())return r.resolve(!0),void 0;if(e&&e.canActivate){var s;try{s=e.canActivate(a)}catch(o){return t.log(o),r.resolve(!1),void 0}s.then?s.then(function(e){r.resolve(i.interpretResponse(e))},function(e){t.log(e),r.resolve(!1)}):r.resolve(i.interpretResponse(s))}else r.resolve(!0)}).promise()}function o(o,c){var l=e.observable(null);c=n(c);var d=e.computed({read:function(){return l()},write:function(e){d.viaSetter=!0,d.activateItem(e)}});return d.settings=c,c.activator=d,d.isActivating=e.observable(!1),d.canDeactivateItem=function(e,t){return r(e,t,c)},d.deactivateItem=function(e,n){return t.defer(function(t){d.canDeactivateItem(e,n).then(function(a){a?i(e,n,c,t,l):(d.notifySubscribers(),t.resolve(!1))})})},d.canActivateItem=function(e,t){return s(e,l,c,t)},d.activateItem=function(e,n){var r=d.viaSetter;return d.viaSetter=!1,t.defer(function(s){if(d.isActivating())return s.resolve(!1),void 0;d.isActivating(!0);var o=l();return c.areSameItem(o,e,n)?(d.isActivating(!1),s.resolve(!0),void 0):(d.canDeactivateItem(o,c.closeOnDeactivate).then(function(u){u?d.canActivateItem(e,n).then(function(u){u?t.defer(function(e){i(o,c.closeOnDeactivate,c,e)}).promise().then(function(){e=c.beforeActivate(e),a(e,l,function(e){d.isActivating(!1),s.resolve(e)},n)}):(r&&d.notifySubscribers(),d.isActivating(!1),s.resolve(!1))}):(r&&d.notifySubscribers(),d.isActivating(!1),s.resolve(!1))}),void 0)}).promise()},d.canActivate=function(){var e;return o?(e=o,o=!1):e=d(),d.canActivateItem(e)},d.activate=function(){var e;return o?(e=o,o=!1):e=d(),d.activateItem(e)},d.canDeactivate=function(e){return d.canDeactivateItem(d(),e)},d.deactivate=function(e){return d.deactivateItem(d(),e)},d.includeIn=function(e){e.canActivate=function(){return d.canActivate()},e.activate=function(){return d.activate()},e.canDeactivate=function(e){return d.canDeactivate(e)},e.deactivate=function(e){return d.deactivate(e)}},c.includeIn?d.includeIn(c.includeIn):o&&d.activate(),d.forItems=function(e){c.closeOnDeactivate=!1,c.determineNextItemToActivate=function(e,t){var n=t-1;return-1==n&&e.length>1?e[1]:n>-1&&n<e.length-1?e[n]:null},c.beforeActivate=function(t){var n=d();if(t){var i=e.indexOf(t);-1==i?e.push(t):t=e()[i]}else t=c.determineNextItemToActivate(e,n?e.indexOf(n):0);return t},c.afterDeactivate=function(t,n){n&&e.remove(t)};var n=d.canDeactivate;d.canDeactivate=function(i){return i?t.defer(function(t){function n(){for(var e=0;e<r.length;e++)if(!r[e])return t.resolve(!1),void 0;t.resolve(!0)}for(var a=e(),r=[],s=0;s<a.length;s++)d.canDeactivateItem(a[s],i).then(function(e){r.push(e),r.length==a.length&&n()})}).promise():n()};var i=d.deactivate;return d.deactivate=function(n){return n?t.defer(function(t){function i(i){d.deactivateItem(i,n).then(function(){r++,e.remove(i),r==s&&t.resolve()})}for(var a=e(),r=0,s=a.length,o=0;s>o;o++)i(a[o])}).promise():i()},d},d}var c;return c={defaults:{closeOnDeactivate:!0,interpretResponse:function(e){if("string"==typeof e){var t=e.toLowerCase();return"yes"==t||"ok"==t}return e},areSameItem:function(e,t){return e==t},beforeActivate:function(e){return e},afterDeactivate:function(e,t,n){t&&n&&n(null)}},activator:o}});
define('durandal/composition',["knockout","durandal/viewLocator","durandal/viewModelBinder","durandal/viewEngine","durandal/system","durandal/viewModel"],function(e,t,n,i,a,r){function s(e){return e.model&&e.model.activate&&(p.activateDuringComposition&&e.activate==void 0||e.activate)}function o(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,i){e[n]=i}),e}function l(e,t){s(e)?r.activator().activateItem(e.model,o()).then(function(e){e&&t()}):t()}function c(t){for(var n=[],i={childElements:n,activeView:null},a=e.virtualElements.firstChild(t);a;)a.nodeType==1&&(n.push(a),a.getAttribute(f)&&(i.activeView=a)),a=e.virtualElements.nextSibling(a);return i}function d(e,t,n){n.activeView&&n.activeView.removeAttribute(f),t&&(n.model&&n.model.viewAttached&&(n.composingNewView||n.alwaysAttachView)&&n.model.viewAttached(t),t.setAttribute(f,!0)),n.afterCompose&&n.afterCompose(e,t,n)}function u(e,t){if(typeof t.transition=="string"&&e){if(t.activeView){if(t.activeView==e)return!1;if(t.skipTransitionOnSameViewId){var n=t.activeView.getAttribute("data-view"),i=e.getAttribute("data-view");return n!=i}return!0}return!0}return!1}var h={},f="data-active-view",p={activateDuringComposition:!1,convertTransitionToModuleId:function(e){return"durandal/transitions/"+e},switchContent:function(t,n,i){if(i.transition=i.transition||this.defaultTransitionName,u(n,i)){var r=this.convertTransitionToModuleId(i.transition);a.acquire(r).then(function(e){i.transition=e,e(t,n,i).then(function(){d(t,n,i)})})}else n!=i.activeView&&(i.cacheViews&&i.activeView&&$(i.activeView).css("display","none"),n?i.cacheViews?i.composingNewView?(i.viewElements.push(n),e.virtualElements.prepend(t,n)):$(n).css("display",""):(e.virtualElements.emptyNode(t),e.virtualElements.prepend(t,n)):i.cacheViews||e.virtualElements.emptyNode(t)),d(t,n,i)},bindAndShow:function(t,a,r){r.composingNewView=r.cacheViews?e.utils.arrayIndexOf(r.viewElements,a)==-1:!0,l(r,function(){if(r.beforeBind&&r.beforeBind(t,a,r),r.preserveContext&&r.bindingContext)r.composingNewView&&n.bindContext(r.bindingContext,a,r.model);else if(a){var s=r.model||h,o=e.dataFor(a);if(o!=s){if(!r.composingNewView)return $(a).remove(),i.createView(a.getAttribute("data-view")).then(function(e){p.bindAndShow(t,e,r)}),void 0;n.bind(s,a)}}p.switchContent(t,a,r)})},defaultStrategy:function(e){return t.locateViewForObject(e.model,e.viewElements)},getSettings:function(t){var n={},i=e.utils.unwrapObservable(t())||{};if("string"==typeof i)return i;var r=a.getModuleId(i);if(r)return{model:i};for(var s in i)if("string"==typeof s){var o=e.utils.unwrapObservable(i[s]);n[s]=o}return n},executeStrategy:function(e,t){t.strategy(t).then(function(n){p.bindAndShow(e,n,t)})},inject:function(e,n){return n.model?n.view?(t.locateView(n.view,n.area,n.viewElements).then(function(t){p.bindAndShow(e,t,n)}),void 0):((n.view===void 0||n.view)&&(n.strategy||(n.strategy=this.defaultStrategy),typeof n.strategy=="string"?a.acquire(n.strategy).then(function(t){n.strategy=t,p.executeStrategy(e,n)}):this.executeStrategy(e,n)),void 0):(this.bindAndShow(e,null,n),void 0)},compose:function(e,n,r){"string"==typeof n&&(n=i.isViewUrl(n)?{view:n}:{model:n});var s=a.getModuleId(n);s&&(n={model:n});var o=c(e);n.bindingContext=r,n.activeView=o.activeView,n.cacheViews&&!n.viewElements&&(n.viewElements=o.childElements),n.model?typeof n.model=="string"?a.acquire(n.model).then(function(module){n.model="function"==typeof module?new module(e,n):module,p.inject(e,n)}):p.inject(e,n):n.view?(n.area=n.area||"partial",n.preserveContext=!0,t.locateView(n.view,n.area,n.viewElements).then(function(t){p.bindAndShow(e,t,n)})):this.bindAndShow(e,null,n)}};return e.bindingHandlers.compose={update:function(e,t,n,i,a){var r=p.getSettings(t);p.compose(e,r,a)}},e.virtualElements.allowedBindings.compose=!0,p});
define('durandal/widget',["knockout","durandal/system","durandal/composition"],function(e,t,n){var i="data-part",a="["+i+"]",r={},s={},o={getParts:function(e){var n={};t.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var s=e[r];if(s.getAttribute){var o=s.getAttribute(i);o&&(n[o]=s);for(var c=$(a,s),l=0;l<c.length;l++){var d=c.get(l);n[d.getAttribute(i)]=d}}}return n},getSettings:function(t){var n={},i=e.utils.unwrapObservable(t())||{};if("string"==typeof i)n=i;else for(var a in i)if("string"==typeof a){var r=e.utils.unwrapObservable(i[a]);n[a]=r}return n},registerKind:function(t){e.bindingHandlers[t]={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n,i,a,r){var s=o.getSettings(n);s.kind=t,o.create(e,s,r)}},e.virtualElements.allowedBindings[t]=!0},mapKind:function(e,t,n){t&&(s[e]=t),n&&(r[e]=n)},convertKindToModuleId:function(e){return r[e]||"durandal/widgets/"+e+"/controller"},convertKindToViewId:function(e){return s[e]||"durandal/widgets/"+e+"/view"},beforeBind:function(e,t){var n=o.getParts(e),i=o.getParts(t);for(var a in n)$(i[a]).replaceWith(n[a])},createCompositionSettings:function(e){return e.model||(e.model=this.convertKindToModuleId(e.kind)),e.view||(e.view=this.convertKindToViewId(e.kind)),e.preserveContext=!0,e.beforeBind=this.beforeBind,e},create:function(e,t,i){"string"==typeof t&&(t={kind:t});var a=o.createCompositionSettings(t);n.compose(e,a,i)}};return e.bindingHandlers.widget={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,i,a){var r=o.getSettings(t);o.create(e,r,a)}},e.virtualElements.allowedBindings.widget=!0,o});
define('durandal/modalDialog',["knockout","durandal/composition","durandal/system","durandal/viewModel"],function(e,t,n,i){function a(e){return n.defer(function(t){"string"==typeof e?n.acquire(e).then(function(module){"function"==typeof module?t.resolve(new module):t.resolve(module)}):t.resolve(e)}).promise()}var r={},s=0,o={currentZIndex:1e3,getNextZIndex:function(){return++this.currentZIndex},isModalOpen:function(){return s>0},getContext:function(e){return r[e||"default"]},addContext:function(e,t){t.name=e,r[e]=t;var n="show"+e.substr(0,1).toUpperCase()+e.substr(1);this[n]=function(t,n){return this.show(t,n,e)}},createCompositionSettings:function(e,t){var n={model:e,activate:!1};return t.afterCompose&&(n.afterCompose=t.afterCompose),n},show:function(e,o,l){var c=this,d=r[l||"default"];return n.defer(function(n){a(e).then(function(e){var a=i.activator();a.activateItem(e,o).then(function(i){if(i){var r=e.modal={owner:e,context:d,activator:a,close:function(t){a.deactivateItem(e,!0).then(function(i){i&&(s--,d.removeHost(r),delete e.modal,n.resolve(t))})}};r.settings=c.createCompositionSettings(e,d),d.addHost(r),s++,t.compose(r.host,r.settings)}else n.resolve(!1)})})}).promise()}};return o.addContext("default",{blockoutOpacity:.2,removeDelay:200,addHost:function(e){var t=$("body"),n=$('<div class="modalBlockout"></div>').css({"z-index":o.getNextZIndex(),opacity:this.blockoutOpacity}).appendTo(t),i=$('<div class="modalHost"></div>').css({"z-index":o.getNextZIndex()}).appendTo(t);if(e.host=i.get(0),e.blockout=n.get(0),!o.isModalOpen()){e.oldBodyMarginRight=$("body").css("margin-right");var a=$("html"),r=t.outerWidth(!0),s=a.scrollTop();$("html").css("overflow-y","hidden");var l=$("body").outerWidth(!0);t.css("margin-right",l-r+parseInt(e.oldBodyMarginRight)+"px"),a.scrollTop(s),$("#simplemodal-overlay").css("width",l+"px")}},removeHost:function(e){if($(e.host).css("opacity",0),$(e.blockout).css("opacity",0),setTimeout(function(){$(e.host).remove(),$(e.blockout).remove()},this.removeDelay),!o.isModalOpen()){var t=$("html"),n=t.scrollTop();t.css("overflow-y","").scrollTop(n),$("body").css("margin-right",e.oldBodyMarginRight)}},afterCompose:function(e,t,n){var i=$(t),a=i.width(),r=i.height();i.css({"margin-top":(-r/2).toString()+"px","margin-left":(-a/2).toString()+"px"}),$(n.model.modal.host).css("opacity",1),$(t).hasClass("autoclose")&&$(n.model.modal.blockout).click(function(){n.model.modal.close()}),$(".autofocus",t).each(function(){$(this).focus()})}}),o});
define('durandal/events',["durandal/system"],function(e){var t=/\s+/,n=function(){},i=function(e,t){this.owner=e,this.events=t};return i.prototype.then=function(e,t){return this.callback=e||this.callback,this.context=t||this.context,this.callback?(this.owner.on(this.events,this.callback,this.context),this):this},i.prototype.on=i.prototype.then,i.prototype.off=function(){return this.owner.off(this.events,this.callback,this.context),this},n.prototype.on=function(e,n,a){var r,s,o;if(n){for(r=this.callbacks||(this.callbacks={}),e=e.split(t);s=e.shift();)o=r[s]||(r[s]=[]),o.push(n,a);return this}return new i(this,e)},n.prototype.off=function(n,i,a){var r,s,o,l;if(!(s=this.callbacks))return this;if(!(n||i||a))return delete this.callbacks,this;for(n=n?n.split(t):e.keys(s);r=n.shift();)if((o=s[r])&&(i||a))for(l=o.length-2;l>=0;l-=2)i&&o[l]!==i||a&&o[l+1]!==a||o.splice(l,2);else delete s[r];return this},n.prototype.trigger=function(e){var n,i,a,r,s,o,l,c;if(!(i=this.callbacks))return this;for(c=[],e=e.split(t),r=1,s=arguments.length;s>r;r++)c[r-1]=arguments[r];for(;n=e.shift();){if((l=i.all)&&(l=l.slice()),(a=i[n])&&(a=a.slice()),a)for(r=0,s=a.length;s>r;r+=2)a[r].apply(a[r+1]||this,c);if(l)for(o=[n].concat(c),r=0,s=l.length;s>r;r+=2)l[r].apply(l[r+1]||this,o)}return this},n.prototype.proxy=function(e){var t=this;return function(n){t.trigger(e,n)}},n.includeIn=function(e){e.on=n.prototype.on,e.off=n.prototype.off,e.trigger=n.prototype.trigger,e.proxy=n.prototype.proxy},n});
define('durandal/app',["durandal/system","durandal/viewEngine","durandal/composition","durandal/widget","durandal/modalDialog","durandal/events"],function(e,t,n,i,a,r){var s,o={title:s,start:function(){var t=this;return t.title&&(document.title=t.title),e.defer(function(t){$(function(){e.log("Starting Application"),t.resolve(),e.log("Started Application")})}).promise()},setRoot:function(e,i,a){var r,s={activate:!0,transition:i};r=a&&"string"!=typeof a?a:document.getElementById(a||"applicationHost"),"string"==typeof e?t.isViewUrl(e)?s.view=e:s.model=e:s.model=e,n.compose(r,s)},adaptToDevice:function(){document.body.ontouchmove&&(document.body.ontouchmove=function(e){e.preventDefault()})}};return r.includeIn(o),o});
/*!
 * accounting.js v0.3.2, copyright 2011 Joss Crowcroft, MIT license, http://josscrowcroft.github.com/accounting.js
 */
(function(p,z){function q(a){return!!(""===a||a&&a.charCodeAt&&a.substr)}function m(a){return u?u(a):"[object Array]"===v.call(a)}function r(a){return"[object Object]"===v.call(a)}function s(a,b){var d,a=a||{},b=b||{};for(d in b)b.hasOwnProperty(d)&&null==a[d]&&(a[d]=b[d]);return a}function j(a,b,d){var c=[],e,h;if(!a)return c;if(w&&a.map===w)return a.map(b,d);for(e=0,h=a.length;e<h;e++)c[e]=b.call(d,a[e],e,a);return c}function n(a,b){a=Math.round(Math.abs(a));return isNaN(a)?b:a}function x(a){var b=c.settings.currency.format;"function"===typeof a&&(a=a());return q(a)&&a.match("%v")?{pos:a,neg:a.replace("-","").replace("%v","-%v"),zero:a}:!a||!a.pos||!a.pos.match("%v")?!q(b)?b:c.settings.currency.format={pos:b,neg:b.replace("%v","-%v"),zero:b}:a}var c={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},w=Array.prototype.map,u=Array.isArray,v=Object.prototype.toString,o=c.unformat=c.parse=function(a,b){if(m(a))return j(a,function(a){return o(a,b)});a=a||0;if("number"===typeof a)return a;var b=b||".",c=RegExp("[^0-9-"+b+"]",["g"]),c=parseFloat((""+a).replace(/\((.*)\)/,"-$1").replace(c,"").replace(b,"."));return!isNaN(c)?c:0},y=c.toFixed=function(a,b){var b=n(b,c.settings.number.precision),d=Math.pow(10,b);return(Math.round(c.unformat(a)*d)/d).toFixed(b)},t=c.formatNumber=function(a,b,d,i){if(m(a))return j(a,function(a){return t(a,b,d,i)});var a=o(a),e=s(r(b)?b:{precision:b,thousand:d,decimal:i},c.settings.number),h=n(e.precision),f=0>a?"-":"",g=parseInt(y(Math.abs(a||0),h),10)+"",l=3<g.length?g.length%3:0;return f+(l?g.substr(0,l)+e.thousand:"")+g.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+e.thousand)+(h?e.decimal+y(Math.abs(a),h).split(".")[1]:"")},A=c.formatMoney=function(a,b,d,i,e,h){if(m(a))return j(a,function(a){return A(a,b,d,i,e,h)});var a=o(a),f=s(r(b)?b:{symbol:b,precision:d,thousand:i,decimal:e,format:h},c.settings.currency),g=x(f.format);return(0<a?g.pos:0>a?g.neg:g.zero).replace("%s",f.symbol).replace("%v",t(Math.abs(a),n(f.precision),f.thousand,f.decimal))};c.formatColumn=function(a,b,d,i,e,h){if(!a)return[];var f=s(r(b)?b:{symbol:b,precision:d,thousand:i,decimal:e,format:h},c.settings.currency),g=x(f.format),l=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,k=0,a=j(a,function(a){if(m(a))return c.formatColumn(a,f);a=o(a);a=(0<a?g.pos:0>a?g.neg:g.zero).replace("%s",f.symbol).replace("%v",t(Math.abs(a),n(f.precision),f.thousand,f.decimal));if(a.length>k)k=a.length;return a});return j(a,function(a){return q(a)&&a.length<k?l?a.replace(f.symbol,f.symbol+Array(k-a.length+1).join(" ")):Array(k-a.length+1).join(" ")+a:a})};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)exports=module.exports=c;exports.accounting=c}else"function"===typeof define&&define.amd?define('numberFormat',[],function(){return c}):(c.noConflict=function(a){return function(){p.accounting=a;c.noConflict=z;return c}}(p.accounting),p.accounting=c)})(this);
define('bindings/extensions',["knockout","numberFormat"],function(e,t){e.observable.fn.formatCurrency=function(n,i,a,r){var s=this;return s(s()?t.unformat(parseFloat(s())):null),s.readVal=e.computed(function(){return t.formatMoney(s(),n,i,a,r)}),s.writeVal=e.computed({read:function(){return t.toFixed(t.unformat(parseFloat(s())),2)},write:function(e){s(t.unformat(parseFloat(e)))}}),s}});
define('bindings/editor',["knockout","jquery"],function(e,t){e.bindingHandlers.liveEditor={init:function(t,n){var i=n();if(!e.isObservable(i))throw"liveEditor must be bound to an observable";i.editing=e.observable(!1),i.completed=e.computed(function(){return!i.editing()}),i.edit=function(){i.editing(!0)},i.stopEditing=function(){i.editing(!1)},e.applyBindingsToNode(t,{css:{completed:i.completed,editing:i.editing}})}},e.bindingHandlers.afterValueChanged={update:function(e,t,n,i){var a=n().value,r=t();a.subscribe(function(){r.call(i)})}};var n=13;e.bindingHandlers.enterKey={init:function(t,i,a,r){var s,o;s=function(e,t){t.keyCode===n&&i().call(this,e,t)},o=function(){return{keyup:s}},e.bindingHandlers.event.init(t,o,a,r)}},e.bindingHandlers.selectAndFocus={init:function(t,n,i){e.bindingHandlers.hasfocus.init(t,n,i),e.utils.registerEventHandler(t,"focus",function(){t.select()})},update:function(t,n){e.utils.unwrapObservable(n()),setTimeout(function(){e.bindingHandlers.hasfocus.update(t,n)},0)}},e.bindingHandlers.arrowKeysOn={init:function(n,i,a,r){var s=e.utils.unwrapObservable(i());if(s){var o={key38:function(e,i){var a=t(i.target),r=a.closest("[data-row-index]").first().attr("data-row-index"),s=a.closest("[data-col-index]").first().attr("data-col-index");t(n).find("[data-row-index="+(parseFloat(r)-1)+"]").find("[data-col-index="+parseFloat(s)+"]").focus()},key40:function(e,i){var a=t(i.target),r=a.closest("[data-row-index]").first().attr("data-row-index"),s=a.closest("[data-col-index]").first().attr("data-col-index");t(n).find("[data-row-index="+(parseFloat(r)+1)+"]").find("[data-col-index="+parseFloat(s)+"]").focus()}},l=function(t){var n,i=o["key"+t.keyCode],s=e.utils.unwrapObservable(a().modifier);return i?s&&!t[s]?!0:(n=i.call(r,r,t),void 0===n?!1:n):void 0};e.utils.registerEventHandler(n,"keyup",l)}}}});
define('languages',[],function(){var e={en_US:{AddedPriceListItems:"Item(s) added to Price List",AddFromCatalog_AddAll:"Add All",AddFromCatalog_AddSelected:"Add Selected",AddFromCatalog_CatalogTableTitle:"Catalog Items",AddFromCatalog_Title:"Catalog Item Picker",AddFromCatalogFailure:"Failure: PriceList item(s) not created",AddFromCatalogSuccess:"Success: PriceList item(s) created",BooleanFalse:"False",BooleanTrue:"True",ShowBulkUpdate:"Bulk Update",BulkEditor_Cancel:"Clear",BulkEditor_DefaultQty:"Default Qty",BulkEditor_DiscountPct:"Discount %",BulkEditor_IncludedQty:"Included Qty",BulkEditor_LockedDiscount:"Locked Discount",BulkEditor_LockedPrice:"Locked Price",BulkEditor_MaxQty:"Max Qty",BulkEditor_MaxQtyInfo:"Delete Max Qty from selected items",BulkEditor_MinimumCharge:"Minimum Charge",BulkEditor_MinQty:"Min Qty",BulkEditor_MinQtyInfo:"Delete Min Qty from selected items",BulkEditor_SetPriceTo:"Set Price To",BulkEditor_Submit:"Update",BulkEditor_Title:"Update Selected Items",CatalogItem:"Catalog Item",CatalogItemSearchFilter:"Catalog Item Search Filter",Classification:"Classification",CommitChanges:"Commit Changes",ConfigurePricebook:"Configure Your Price Book",CustomerName:"Customer",DefaultQty:"Def. Qty",DeleteSelected:"Delete Selected",Description:"Description",DescriptionOverride:"Description Override",Discount:"Disc %",EffectiveDate:"Effective Date",ErrorAboveMAx:"Error: The value is above the maximum",ErrorBelowMin:"Error: The value is below the minimum",ErrorNonNumeric:"Error: The value is not a number",ExpirationDate:"Expiration Date",FailedToAddPriceListItems:"Unable to add items to the Price List",HonorSequenceNumber:"Honor Sequence Number",ItemCode:"Item Code",ItemType:"Item Type",LockedDiscount:"Locked Disc.",LockedPrice:"Locked Price",MaxQty:"Max. Qty",MinimumCharge:"Min. Charge",MinQty:"Min. Qty",Name:"Name",NameDescripion:"Name - Description",OfficeName:"Office",paginatorNext:"Next",paginatorPrevious:"Previous",Price:"Price",PriceList:"Price Book",PriceListDetail:"Price Book Detail",PriceListItemClassificationFilter:"Classification Filter",PriceListItemSearchFilter:"PriceList Item Search Filter",PriceListItemTypeFilter:"Item Type",PriceListKeywordFilter:"Keyword search",PriceListName:"Name",SegmentName:"Segment",SequenceNumber:"Seq #",ShowOnlyItemsWithEquipment:"Only show items with an equipment option",SortByMostRecent:"Sort by Most Recent",UnitPrice:"Disc’d Price",UOM:"UOM"},fr:{AddedPriceListItems:"Article (s) ajouté à la liste des prix",AddFromCatalog_AddAll:"Ajouter tout",AddFromCatalog_AddSelected:"Ajouter la sélection",AddFromCatalog_CatalogTableTitle:"Articles du catalogue",AddFromCatalog_Title:"Catalogue Sélecteur d'objet",AddFromCatalogFailure:"Echec: Liste de prix article (s) pas créé",AddFromCatalogSuccess:"Succès: Liste de prix article (s) créé",BooleanFalse:"faux",BooleanTrue:"vrai",ShowBulkUpdate:"Bulk Update",BulkEditor_Cancel:"Effacer",BulkEditor_DefaultQty:"Par défaut Quantité",BulkEditor_DiscountPct:"Remise%",BulkEditor_IncludedQty:"Quantité fournie",BulkEditor_LockedDiscount:"Remise verrouillé",BulkEditor_LockedPrice:"Prix ​​verrouillé",BulkEditor_MaxQty:"Nombre maxi",BulkEditor_MaxQtyInfo:"Supprimer Max Quantité de produits sélectionnés",BulkEditor_MinimumCharge:"charge minimale",BulkEditor_MinQty:"Quantité de minute",BulkEditor_MinQtyInfo:"Supprimer Min Quantité d'articles sélectionnés",BulkEditor_SetPriceTo:"Set Prix Pour",BulkEditor_Submit:"mettre à jour",BulkEditor_Title:"Mettre à jour les éléments sélectionnés",CatalogItem:"Article catalogue",CatalogItemSearchFilter:"Catalogue d'article Filtre de recherche",Classification:"Classification",CommitChanges:"Valider les modifications",ConfigurePricebook:"Configurer votre Prix du livre",CustomerName:"Client",DefaultQty:"Qté par défaut",DeleteSelected:"Delete Selected",Description:"Description",DescriptionOverride:"Remplacer la description",Discount:"Réduction",EffectiveDate:"Entrée en vigueur",ErrorAboveMAx:"Erreur: La valeur est supérieure au maximum",ErrorBelowMin:"Erreur: La valeur est en dessous du minimum",ErrorNonNumeric:"Erreur: La valeur n'est pas un nombre",ExpirationDate:"Date d'expiration",FailedToAddPriceListItems:"Impossible d'ajouter des éléments à la liste de prix",HonorSequenceNumber:"Honore Num�ro de s�quence",ItemCode:"Code de l'article",ItemType:"Type d'élément",LockedDiscount:"Remise verrouillé",LockedPrice:"Prix ​​verrouillé",MaxQty:"Max. Qté",MinimumCharge:"charge minimal",MinQty:"Min. Qté",Name:"Nom",NameDescription:"Nom - Description",OfficeName:"Bureau",paginatorNext:"Suivant",paginatorPrevious:"Précédent",Price:"Prix",PriceList:"Livre Prix",PriceListDetail:"Détail livre Prix",PriceListItemClassificationFilter:"Classification filtre",PriceListItemSearchFilter:"Liste de prix article Filtre de recherche",PriceListItemTypeFilter:"Type de produit",PriceListKeywordFilter:"Recherche par mot clé",PriceListName:"Nom",SegmentName:"Segment",SequenceNumber:"Numéro de séquence",ShowOnlyItemsWithEquipment:"Afficher seulement les articles avec une option équipement",SortByMostRecent:"Trier par Les plus récentes",UnitPrice:"Prix ​​unitaire",UOM:"Emballage"}};return e});
define('modules/locale-settings',['require','numberFormat','languages'],function(require){var e=require("numberFormat"),t=require("languages"),n={EUR:{symbol:"€",position:"after"},USD:{symbol:"$",position:"before"}},i={en_US:{group:",",decimal:"."},es_ES:{group:".",decimal:","},fr_FR:{group:" ",decimal:","}};return{setDefaults:function(){var t=window.user||{},a=n[t.currency||"USD"],r=i[t.locale||"en_US"];e.settings.currency.symbol=a.symbol,e.settings.currency.format=a.position=="before"?"%s%v":"%v%s",e.settings.currency.thousand=r.group,e.settings.currency.decimal=r.decimal},i18n:function(){var e=window.user||{},n=e.language||"en_US";return t[n]}}});
define('bindings/i18n',["knockout","modules/locale-settings"],function(e,t){var n=t.i18n();e.bindingHandlers.i18n={init:function(t,i){var a=e.utils.unwrapObservable(i());e.applyBindingsToNode(t,{text:n[a]})}}});
(function(){if(!jQuery||!jQuery.jstree){var e=!1,t=!1,n=!1;(function(i){i.vakata={},i.vakata.css={get_css:function(e,t,n){e=e.toLowerCase();var i=n.cssRules||n.rules,a=0;do{if(i.length&&a>i.length+5)return!1;if(i[a].selectorText&&i[a].selectorText.toLowerCase()==e)return t===!0?(n.removeRule&&n.removeRule(a),n.deleteRule&&n.deleteRule(a),!0):i[a]}while(i[++a]);return!1},add_css:function(e,t){return i.jstree.css.get_css(e,!1,t)?!1:(t.insertRule?t.insertRule(e+" { }",0):t.addRule(e,null,0),i.vakata.css.get_css(e))},remove_css:function(e,t){return i.vakata.css.get_css(e,!0,t)},add_sheet:function(){}};var a=[],r=-1,s={},o={};i.fn.jstree=function(e){var t="string"==typeof e,n=Array.prototype.slice.call(arguments,1),r=this;if(t){if(e.substring(0,1)=="_")return r;this.each(function(){var t=a[i.data(this,"jstree_instance_id")],s=t&&i.isFunction(t[e])?t[e].apply(t,n):t;return"undefined"!=typeof s&&(e.indexOf("is_")===0||s!==!0&&s!==!1)?(r=s,!1):void 0})}else this.each(function(){var t=i.data(this,"jstree_instance_id"),r=[],o=e?i.extend({},!0,e):{},l=i(this),c=!1,d=[];r=r.concat(n),l.data("jstree")&&r.push(l.data("jstree")),o=r.length?i.extend.apply(null,[!0,o].concat(r)):o,"undefined"!=typeof t&&a[t]&&a[t].destroy(),t=parseInt(a.push({}),10)-1,i.data(this,"jstree_instance_id",t),o.plugins=i.isArray(o.plugins)?o.plugins:i.jstree.defaults.plugins.slice(),o.plugins.unshift("core"),o.plugins=o.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(","),c=i.extend(!0,{},i.jstree.defaults,o),c.plugins=o.plugins,i.each(s,function(e){i.inArray(e,c.plugins)===-1?(c[e]=null,delete c[e]):d.push(e)}),c.plugins=d,a[t]=new i.jstree._instance(t,i(this).addClass("jstree jstree-"+t),c),i.each(a[t]._get_settings().plugins,function(e,n){a[t].data[n]={}}),i.each(a[t]._get_settings().plugins,function(e,n){s[n]&&s[n].__init.apply(a[t])}),setTimeout(function(){a[t]&&a[t].init()},0)});return r},i.jstree={defaults:{plugins:[]},_focused:function(){return a[r]||null},_reference:function(e){if(a[e])return a[e];var t=i(e);return t.length||"string"!=typeof e||(t=i("#"+e)),t.length?a[t.closest(".jstree").data("jstree_instance_id")]||null:null},_instance:function(e,t,n){this.data={core:{}},this.get_settings=function(){return i.extend(!0,{},n)},this._get_settings=function(){return n},this.get_index=function(){return e},this.get_container=function(){return t},this.get_container_ul=function(){return t.children("ul:eq(0)")},this._set_settings=function(e){n=i.extend(!0,{},n,e)}},_fn:{},plugin:function(e,t){t=i.extend({},{__init:i.noop,__destroy:i.noop,_fn:{},defaults:!1},t),s[e]=t,i.jstree.defaults[e]=t.defaults,i.each(t._fn,function(t,n){n.plugin=e,n.old=i.jstree._fn[t],i.jstree._fn[t]=function(){var e,a=n,r=Array.prototype.slice.call(arguments),s=new i.Event("before.jstree"),o=!1;if(this.data.core.locked!==!0||"unlock"===t||"is_locked"===t){do{if(a&&a.plugin&&i.inArray(a.plugin,this._get_settings().plugins)!==-1)break;a=a.old}while(a);if(a){if(t.indexOf("_")===0)e=a.apply(this,r);else{if(e=this.get_container().triggerHandler(s,{func:t,inst:this,args:r,plugin:a.plugin}),e===!1)return;"undefined"!=typeof e&&(r=e),e=a.apply(i.extend({},this,{__callback:function(e){this.get_container().triggerHandler(t+".jstree",{inst:this,args:r,rslt:e,rlbk:o})},__rollback:function(){return o=this.get_rollback()},__call_old:function(e){return a.old.apply(this,e?Array.prototype.slice.call(arguments,1):r)}}),r)}return e}}},i.jstree._fn[t].old=n.old,i.jstree._fn[t].plugin=e})},rollback:function(e){e&&(i.isArray(e)||(e=[e]),i.each(e,function(e,t){a[t.i].set_rollback(t.h,t.d)}))}},i.jstree._fn=i.jstree._instance.prototype={},i(function(){var a=navigator.userAgent.toLowerCase(),r=(a.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],s=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(a)&&parseInt(r,10)==6){e=!0;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(o){}s+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}/msie/.test(a)&&parseInt(r,10)==7&&(t=!0,s+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "),!/compatible/.test(a)&&/mozilla/.test(a)&&parseFloat(r,10)<1.9&&(n=!0,s+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "),i.vakata.css.add_sheet({str:s,title:"jstree"})}),i.jstree.plugin("core",{__init:function(){this.data.core.locked=!1,this.data.core.to_open=this.get_settings().core.initially_open,this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:!1,animation:500,initially_open:[],initially_load:[],open_parents:!0,notify_plugins:!0,rtl:!1,load_open:!1,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus(),this._get_settings().core.rtl&&this.get_container().addClass("jstree-rtl").css("direction","rtl"),this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>"),this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18,this.get_container().delegate("li > ins","click.jstree",i.proxy(function(e){var t=i(e.target);this.toggle_node(t)},this)).bind("mousedown.jstree",i.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(){var e;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(t){}}}),this._get_settings().core.notify_plugins&&this.get_container().bind("load_node.jstree",i.proxy(function(e,t){var n=this._get_node(t.rslt.obj),a=this;-1===n&&(n=this.get_container_ul()),n.length&&n.find("li").each(function(){var e=i(this);e.data("jstree")&&i.each(e.data("jstree"),function(t,n){a.data[t]&&i.isFunction(a["_"+t+"_notify"])&&a["_"+t+"_notify"].call(a,e,n)})})},this)),this._get_settings().core.load_open&&this.get_container().bind("load_node.jstree",i.proxy(function(e,t){var n=this._get_node(t.rslt.obj),a=this;-1===n&&(n=this.get_container_ul()),n.length&&n.find("li.jstree-open:not(:has(ul))").each(function(){a.load_node(this,i.noop,i.noop)})},this)),this.__callback(),this.load_node(-1,function(){this.loaded(),this.reload_nodes()})},destroy:function(){var e,t=this.get_index(),n=this._get_settings(),o=this;if(i.each(n.plugins,function(e,t){try{s[t].__destroy.apply(o)}catch(n){}}),this.__callback(),this.is_focused())for(e in a)if(a.hasOwnProperty(e)&&e!=t){a[e].set_focus();break}t===r&&(r=-1),this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),i(document).unbind(".jstree-"+t).undelegate(".jstree-"+t),a[t]=null,delete a[t]},_core_notify:function(e,t){t.opened&&this.open_node(e,!1,!0)},lock:function(){this.data.core.locked=!0,this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7"),this.__callback({})},unlock:function(){this.data.core.locked=!1,this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1"),this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var e=this;this.data.core.to_open=[],this.get_container_ul().find("li.jstree-open").each(function(){this.id&&e.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(e.data.core.to_open)},save_loaded:function(){},reload_nodes:function(e){var t=this,n=!0,a=[],r=[];e||(this.data.core.reopen=!1,this.data.core.refreshing=!0,this.data.core.to_open=i.map(i.makeArray(this.data.core.to_open),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_load=i.map(i.makeArray(this.data.core.to_load),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.data.core.to_open.length&&(this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open))),this.data.core.to_load.length&&(i.each(this.data.core.to_load,function(e,t){return"#"==t?!0:(i(t).length?a.push(t):r.push(t),void 0)}),a.length&&(this.data.core.to_load=r,i.each(a,function(e,i){t._is_loaded(i)||(t.load_node(i,function(){t.reload_nodes(!0)},function(){t.reload_nodes(!0)}),n=!1)}))),this.data.core.to_open.length&&i.each(this.data.core.to_open,function(e,n){t.open_node(n,!1,!0)}),n&&(this.data.core.reopen&&clearTimeout(this.data.core.reopen),this.data.core.reopen=setTimeout(function(){t.__callback({},t)},50),this.data.core.refreshing=!1,this.reopen())},reopen:function(){var e=this;this.data.core.to_open.length&&i.each(this.data.core.to_open,function(t,n){e.open_node(n,!1,!0)}),this.__callback({})},refresh:function(e){var t=this;this.save_opened(),e||(e=-1),e=this._get_node(e),e||(e=-1),-1!==e?e.children("UL").remove():this.get_container_ul().empty(),this.load_node(e,function(){t.__callback({obj:e}),t.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(!this.is_focused()){var e=i.jstree._focused();e&&e.unset_focus(),this.get_container().addClass("jstree-focused"),r=this.get_index(),this.__callback()}},is_focused:function(){return r==this.get_index()},unset_focus:function(){this.is_focused()&&(this.get_container().removeClass("jstree-focused"),r=-1),this.__callback()},_get_node:function(e){var t=i(e,this.get_container());return t.is(".jstree")||-1==e?-1:(t=t.closest("li",this.get_container()),t.length?t:!1)},_get_next:function(e,t){return e=this._get_node(e),-1===e?this.get_container().find("> ul > li:first-child"):e.length?t?e.nextAll("li").size()>0?e.nextAll("li:eq(0)"):!1:e.hasClass("jstree-open")?e.find("li:eq(0)"):e.nextAll("li").size()>0?e.nextAll("li:eq(0)"):e.parentsUntil(".jstree","li").next("li").eq(0):!1},_get_prev:function(e,t){if(e=this._get_node(e),-1===e)return this.get_container().find("> ul > li:last-child");if(!e.length)return!1;if(t)return e.prevAll("li").length>0?e.prevAll("li:eq(0)"):!1;if(e.prev("li").length){for(e=e.prev("li").eq(0);e.hasClass("jstree-open");)e=e.children("ul:eq(0)").children("li:last");return e}var n=e.parentsUntil(".jstree","li:eq(0)");return n.length?n:!1},_get_parent:function(e){if(e=this._get_node(e),-1==e||!e.length)return!1;var t=e.parentsUntil(".jstree","li:eq(0)");return t.length?t:-1},_get_children:function(e){return e=this._get_node(e),-1===e?this.get_container().children("ul:eq(0)").children("li"):e.length?e.children("ul:eq(0)").children("li"):!1},get_path:function(e,t){var n=[],i=this;return e=this._get_node(e),-1!==e&&e&&e.length?(e.parentsUntil(".jstree","li").each(function(){n.push(t?this.id:i.get_text(this))}),n.reverse(),n.push(t?e.attr("id"):this.get_text(e)),n):!1},_get_string:function(e){return this._get_settings().core.strings[e]||e},is_open:function(e){return e=this._get_node(e),e&&-1!==e&&e.hasClass("jstree-open")},is_closed:function(e){return e=this._get_node(e),e&&-1!==e&&e.hasClass("jstree-closed")},is_leaf:function(e){return e=this._get_node(e),e&&-1!==e&&e.hasClass("jstree-leaf")},correct_state:function(e){return e=this._get_node(e),e&&-1!==e?(e.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:e}),void 0):!1},open_node:function(t,n,i){if(t=this._get_node(t),!t.length)return!1;if(!t.hasClass("jstree-closed"))return n&&n.call(),!1;var a=i||e?0:this._get_settings().core.animation,r=this;this._is_loaded(t)?(this._get_settings().core.open_parents&&t.parentsUntil(".jstree",".jstree-closed").each(function(){r.open_node(this,!1,!0)}),a&&t.children("ul").css("display","none"),t.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading"),a?t.children("ul").stop(!0,!0).slideDown(a,function(){this.style.display="",r.after_open(t)}):r.after_open(t),this.__callback({obj:t}),n&&n.call()):(t.children("a").addClass("jstree-loading"),this.load_node(t,function(){r.open_node(t,n,i)},n))},after_open:function(e){this.__callback({obj:e})},close_node:function(t,n){t=this._get_node(t);var i=n||e?0:this._get_settings().core.animation,a=this;return t.length&&t.hasClass("jstree-open")?(i&&t.children("ul").attr("style","display:block !important"),t.removeClass("jstree-open").addClass("jstree-closed"),i?t.children("ul").stop(!0,!0).slideUp(i,function(){this.style.display="",a.after_close(t)}):a.after_close(t),this.__callback({obj:t}),void 0):!1},after_close:function(e){this.__callback({obj:e})},toggle_node:function(e){return e=this._get_node(e),e.hasClass("jstree-closed")?this.open_node(e):e.hasClass("jstree-open")?this.close_node(e):void 0},open_all:function(e,t,n){e=e?this._get_node(e):-1,e&&-1!==e||(e=this.get_container_ul()),n?e=e.find("li.jstree-closed"):(n=e,e=e.is(".jstree-closed")?e.find("li.jstree-closed").addBack():e.find("li.jstree-closed"));var i=this;e.each(function(){var e=this;i._is_loaded(this)?i.open_node(this,!1,!t):i.open_node(this,function(){i.open_all(e,t,n)},!t)}),n.find("li.jstree-closed").length===0&&this.__callback({obj:n})},close_all:function(e,t){var n=this;e=e?this._get_node(e):this.get_container(),e&&-1!==e||(e=this.get_container_ul()),e.find("li.jstree-open").addBack().each(function(){n.close_node(this,!t)}),this.__callback({obj:e})},clean_node:function(e){e=e&&-1!=e?i(e):this.get_container_ul(),e=e.is("li")?e.find("li").addBack():e.find("li"),e.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed"),e.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove(),this.__callback({obj:e})},get_rollback:function(){return this.__callback(),{i:this.get_index(),h:this.get_container().children("ul").clone(!0),d:this.data}},set_rollback:function(e,t){this.get_container().empty().append(e),this.data=t,this.__callback()},load_node:function(e){this.__callback({obj:e})},_is_loaded:function(){return!0},create_node:function(e,t,n,a,r){e=this._get_node(e),t="undefined"==typeof t?"last":t;var s,o=i("<li />"),l=this._get_settings().core;if(-1!==e&&!e.length)return!1;if(!r&&!this._is_loaded(e))return this.load_node(e,function(){this.create_node(e,t,n,a,!0)}),!1;switch(this.__rollback(),"string"==typeof n&&(n={data:n}),n||(n={}),n.attr&&o.attr(n.attr),n.metadata&&o.data(n.metadata),n.state&&o.addClass("jstree-"+n.state),n.data||(n.data=this._get_string("new_node")),i.isArray(n.data)||(s=n.data,n.data=[],n.data.push(s)),i.each(n.data,function(e,t){s=i("<a />"),i.isFunction(t)&&(t=t.call(this,n)),"string"==typeof t?s.attr("href","#")[l.html_titles?"html":"text"](t):(t.attr||(t.attr={}),t.attr.href||(t.attr.href="#"),s.attr(t.attr)[l.html_titles?"html":"text"](t.title),t.language&&s.addClass(t.language)),s.prepend("<ins class='jstree-icon'>&#160;</ins>"),!t.icon&&n.icon&&(t.icon=n.icon),t.icon&&(t.icon.indexOf("/")===-1?s.children("ins").addClass(t.icon):s.children("ins").css("background","url('"+t.icon+"') center center no-repeat")),o.append(s)}),o.prepend("<ins class='jstree-icon'>&#160;</ins>"),-1===e&&(e=this.get_container(),"before"===t&&(t="first"),"after"===t&&(t="last")),t){case"before":e.before(o),s=this._get_parent(e);break;case"after":e.after(o),s=this._get_parent(e);break;case"inside":case"first":e.children("ul").length||e.append("<ul />"),e.children("ul").prepend(o),s=e;break;case"last":e.children("ul").length||e.append("<ul />"),e.children("ul").append(o),s=e;break;default:e.children("ul").length||e.append("<ul />"),t||(t=0),s=e.children("ul").children("li").eq(t),s.length?s.before(o):e.children("ul").append(o),s=e}return(-1===s||s.get(0)===this.get_container().get(0))&&(s=-1),this.clean_node(s),this.__callback({obj:o,parent:s}),a&&a.call(this,o),o},get_text:function(e){if(e=this._get_node(e),!e.length)return!1;var t=this._get_settings().core.html_titles;return e=e.children("a:eq(0)"),t?(e=e.clone(),e.children("INS").remove(),e.html()):(e=e.contents().filter(function(){return this.nodeType==3})[0],e.nodeValue)},set_text:function(e,t){if(e=this._get_node(e),!e.length)return!1;if(e=e.children("a:eq(0)"),this._get_settings().core.html_titles){var n=e.children("INS").clone();return e.html(t).prepend(n),this.__callback({obj:e,name:t}),!0}return e=e.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:e,name:t}),e.nodeValue=t},rename_node:function(e,t){e=this._get_node(e),this.__rollback(),e&&e.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))&&this.__callback({obj:e,name:t})},delete_node:function(e){if(e=this._get_node(e),!e.length)return!1;this.__rollback();var t=this._get_parent(e),n=i([]),a=this;return e.each(function(){n=n.add(a._get_prev(this))}),e=e.detach(),-1!==t&&t.find("> ul > li").length===0&&t.removeClass("jstree-open jstree-closed").addClass("jstree-leaf"),this.clean_node(t),this.__callback({obj:e,prev:n,parent:t}),e},prepare_move:function(e,t,n,a,r){var s={};if(s.ot=i.jstree._reference(e)||this,s.o=s.ot._get_node(e),s.r=-1===t?-1:this._get_node(t),s.p="undefined"==typeof n||n===!1?"last":n,!r&&o.o&&o.o[0]===s.o[0]&&o.r[0]===s.r[0]&&o.p===s.p)return this.__callback(o),a&&a.call(this,o),void 0;if(s.ot=i.jstree._reference(s.o)||this,s.rt=i.jstree._reference(s.r)||this,s.r!==-1&&s.r){if(!/^(before|after)$/.test(s.p)&&!this._is_loaded(s.r))return this.load_node(s.r,function(){this.prepare_move(e,t,n,a,!0)});switch(s.p){case"before":s.cp=s.r.index(),s.cr=s.rt._get_parent(s.r);break;case"after":s.cp=s.r.index()+1,s.cr=s.rt._get_parent(s.r);break;case"inside":case"first":s.cp=0,s.cr=s.r;break;case"last":s.cp=s.r.find(" > ul > li").length,s.cr=s.r;break;default:s.cp=s.p,s.cr=s.r}}else switch(s.cr=-1,s.p){case"first":case"before":case"inside":s.cp=0;break;case"after":case"last":s.cp=s.rt.get_container().find(" > ul > li").length;break;default:s.cp=s.p}s.np=s.cr==-1?s.rt.get_container():s.cr,s.op=s.ot._get_parent(s.o),s.cop=s.o.index(),s.op===-1&&(s.op=s.ot?s.ot.get_container():this.get_container()),!/^(before|after)$/.test(s.p)&&s.op&&s.np&&s.op[0]===s.np[0]&&s.o.index()<s.cp&&s.cp++,s.or=s.np.find(" > ul > li:nth-child("+(s.cp+1)+")"),o=s,this.__callback(o),a&&a.call(this,o)},check_move:function(){var e=o,t=!0,n=e.r===-1?this.get_container():e.r;if(!e||!e.o||e.or[0]===e.o[0])return!1;if(!e.cy){if(e.op&&e.np&&e.op[0]===e.np[0]&&e.cp-1===e.o.index())return!1;e.o.each(function(){return n.parentsUntil(".jstree","li").addBack().index(this)!==-1?(t=!1,!1):void 0})}return t},move_node:function(e,t,n,a,r,s){if(!r)return this.prepare_move(e,t,n,function(e){this.move_node(e,!1,!1,a,!0,s)});if(a&&(o.cy=!0),!s&&!this.check_move())return!1;this.__rollback();var l=!1;a?(l=e.o.clone(!0),l.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+this.id)})):l=e.o,e.or.length?e.or.before(l):(e.np.children("ul").length||i("<ul />").appendTo(e.np),e.np.children("ul:eq(0)").append(l));try{e.ot.clean_node(e.op),e.rt.clean_node(e.np),e.op.find("> ul > li").length||e.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}catch(c){}return a&&(o.cy=!0,o.oc=l),this.__callback(o),o},_get_move:function(){return o}}})})(jQuery),function(e){var t,n,i;e(function(){/msie/.test(navigator.userAgent.toLowerCase())?(n=e('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),i=e('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),t=n.width()-i.width(),n.add(i).remove()):(n=e("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),t=100-n.width(),n.parent().remove())}),e.jstree.plugin("ui",{__init:function(){this.data.ui.selected=e(),this.data.ui.last_selected=!1,this.data.ui.hovered=null,this.data.ui.to_select=this.get_settings().ui.initially_select,this.get_container().delegate("a","click.jstree",e.proxy(function(t){t.preventDefault(),t.currentTarget.blur(),e(t.currentTarget).hasClass("jstree-loading")||this.select_node(t.currentTarget,!0,t)},this)).delegate("a","mouseenter.jstree",e.proxy(function(t){e(t.currentTarget).hasClass("jstree-loading")||this.hover_node(t.target)},this)).delegate("a","mouseleave.jstree",e.proxy(function(t){e(t.currentTarget).hasClass("jstree-loading")||this.dehover_node(t.target)},this)).bind("reopen.jstree",e.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",e.proxy(function(){this.dehover_node(),this.save_selected()},this)).bind("set_rollback.jstree",e.proxy(function(){this.reselect()},this)).bind("close_node.jstree",e.proxy(function(t,n){var i=this._get_settings().ui,a=this._get_node(n.rslt.obj),r=a&&a.length?a.children("ul").find("a.jstree-clicked"):e(),s=this;i.selected_parent_close!==!1&&r.length&&r.each(function(){s.deselect_node(this),i.selected_parent_close==="select_parent"&&s.select_node(a)})},this)).bind("delete_node.jstree",e.proxy(function(e,t){var n=this._get_settings().ui.select_prev_on_delete,i=this._get_node(t.rslt.obj),a=i&&i.length?i.find("a.jstree-clicked"):[],r=this;a.each(function(){r.deselect_node(this)}),n&&a.length&&t.rslt.prev.each(function(){return this.parentNode?(r.select_node(this),!1):void 0})},this)).bind("move_node.jstree",e.proxy(function(e,t){t.rslt.cy&&t.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:!0,select_prev_on_delete:!0,disable_selecting_children:!1,initially_select:[]},_fn:{_get_node:function(t,n){if("undefined"==typeof t||null===t)return n?this.data.ui.selected:this.data.ui.last_selected;var i=e(t,this.get_container());return i.is(".jstree")||-1==t?-1:(i=i.closest("li",this.get_container()),i.length?i:!1)},_ui_notify:function(e,t){t.selected&&this.select_node(e,!1)},save_selected:function(){var e=this;this.data.ui.to_select=[],this.data.ui.selected.each(function(){this.id&&e.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}),this.__callback(this.data.ui.to_select)},reselect:function(){var t=this,n=this.data.ui.to_select;n=e.map(e.makeArray(n),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),e.each(n,function(e,n){n&&"#"!==n&&t.select_node(n)}),this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode}),this.__callback()},refresh:function(){return this.save_selected(),this.__call_old()},hover_node:function(e){return e=this._get_node(e),e.length?(e.hasClass("jstree-hovered")||this.dehover_node(),this.data.ui.hovered=e.children("a").addClass("jstree-hovered").parent(),this._fix_scroll(e),this.__callback({obj:e}),void 0):!1},dehover_node:function(){var e,t=this.data.ui.hovered;return t&&t.length?(e=t.children("a").removeClass("jstree-hovered").parent(),this.data.ui.hovered[0]===e[0]&&(this.data.ui.hovered=null),this.__callback({obj:t}),void 0):!1},select_node:function(e,t,n){if(e=this._get_node(e),-1==e||!e||!e.length)return!1;var i=this._get_settings().ui,a=i.select_multiple_modifier=="on"||i.select_multiple_modifier!==!1&&n&&n[i.select_multiple_modifier+"Key"],r=i.select_range_modifier!==!1&&n&&n[i.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==e[0]&&this.data.ui.last_selected.parent()[0]===e.parent()[0],s=this.is_selected(e),o=!0,l=this;if(t){if(i.disable_selecting_children&&a&&(e.parentsUntil(".jstree","li").children("a.jstree-clicked").length||e.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;switch(o=!1,!0){case r:this.data.ui.last_selected.addClass("jstree-last-selected"),e=e[e.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").addBack(),i.select_limit==-1||e.length<i.select_limit?(this.data.ui.last_selected.removeClass("jstree-last-selected"),this.data.ui.selected.each(function(){this!==l.data.ui.last_selected[0]&&l.deselect_node(this)}),s=!1,o=!0):o=!1;break;case s&&!a:this.deselect_all(),s=!1,o=!0;break;case!s&&!a:(i.select_limit==-1||i.select_limit>0)&&(this.deselect_all(),o=!0);break;case s&&a:this.deselect_node(e);break;case!s&&a:(i.select_limit==-1||this.data.ui.selected.length+1<=i.select_limit)&&(o=!0)}}o&&!s&&(r||(this.data.ui.last_selected=e),e.children("a").addClass("jstree-clicked"),i.selected_parent_open&&e.parents(".jstree-closed").each(function(){l.open_node(this,!1,!0)}),this.data.ui.selected=this.data.ui.selected.add(e),this._fix_scroll(e.eq(0)),this.__callback({obj:e,e:n}))},_fix_scroll:function(e){var n,i=this.get_container()[0];if(i.scrollHeight>i.offsetHeight){if(e=this._get_node(e),!e||-1===e||!e.length||!e.is(":visible"))return;n=e.offset().top-this.get_container().offset().top,0>n&&(i.scrollTop=i.scrollTop+n-1),n+this.data.core.li_height+(i.scrollWidth>i.offsetWidth?t:0)>i.offsetHeight&&(i.scrollTop=i.scrollTop+(n-i.offsetHeight+this.data.core.li_height+1+(i.scrollWidth>i.offsetWidth?t:0)))}},deselect_node:function(e){return e=this._get_node(e),e.length?(this.is_selected(e)&&(e.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(e),this.data.ui.last_selected.get(0)===e.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:e})),void 0):!1},toggle_select:function(e){return e=this._get_node(e),e.length?(this.is_selected(e)?this.deselect_node(e):this.select_node(e),void 0):!1},is_selected:function(e){return this.data.ui.selected.index(this._get_node(e))>=0},get_selected:function(t){return t?e(t).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(t){var n=t?e(t).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();n.children("a.jstree-clicked").removeClass("jstree-clicked"),this.data.ui.selected=e([]),this.data.ui.last_selected=!1,this.__callback({obj:n})}}}),e.jstree.defaults.plugins.push("ui")}(jQuery),function(e){e.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",e.proxy(function(e,t){if(this._get_settings().crrm.move.open_onmove){var n=this;t.rslt.np.parentsUntil(".jstree").addBack().filter(".jstree-closed").each(function(){n.open_node(this,!1,!0)})}},this))},defaults:{input_width_limit:200,move:{always_copy:!1,open_onmove:!0,default_position:"last",check_move:function(){return!0}}},_fn:{_show_input:function(t,n){t=this._get_node(t);var i=this._get_settings().core.rtl,a=this._get_settings().crrm.input_width_limit,r=t.children("ins").width(),s=t.find("> a:visible > ins").width()*t.find("> a:visible > ins").length,o=this.get_text(t),l=e("<div />",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=t.css("position","relative").append(e("<input />",{value:o,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:i?"auto":r+s+4+"px",right:i?r+s+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:e.proxy(function(){var e=t.children(".jstree-rename-input"),i=e.val();""===i&&(i=o),l.remove(),e.remove(),this.set_text(t,o),this.rename_node(t,i),n.call(this,t,i,o),t.css("position","")},this),keyup:function(e){var t=e.keyCode||e.which;return 27==t?(this.value=o,this.blur(),void 0):13==t?(this.blur(),void 0):(c.width(Math.min(l.text("pW"+this.value).width(),a)),void 0)},keypress:function(e){var t=e.keyCode||e.which;return 13==t?!1:void 0}})).children(".jstree-rename-input");this.set_text(t,""),l.css({fontFamily:c.css("fontFamily")||"",fontSize:c.css("fontSize")||"",fontWeight:c.css("fontWeight")||"",fontStyle:c.css("fontStyle")||"",fontStretch:c.css("fontStretch")||"",fontVariant:c.css("fontVariant")||"",letterSpacing:c.css("letterSpacing")||"",wordSpacing:c.css("wordSpacing")||""}),c.width(Math.min(l.text("pW"+c[0].value).width(),a))[0].select()},rename:function(e){e=this._get_node(e),this.__rollback();var t=this.__callback;this._show_input(e,function(e,n,i){t.call(this,{obj:e,new_name:n,old_name:i})})},create:function(t,n,i,a,r){var s,o=this;return t=this._get_node(t),t||(t=-1),this.__rollback(),s=this.create_node(t,n,i,function(t){var n=this._get_parent(t),i=e(t).index();a&&a.call(this,t),n.length&&n.hasClass("jstree-closed")&&this.open_node(n,!1,!0),r?o.__callback({obj:t,name:this.get_text(t),parent:n,position:i}):this._show_input(t,function(e,t){o.__callback({obj:e,name:t,parent:n,position:i})})})},remove:function(e){e=this._get_node(e,!0);var t=this._get_parent(e),n=this._get_prev(e);this.__rollback(),e=this.delete_node(e),e!==!1&&this.__callback({obj:e,prev:n,parent:t})},check_move:function(){if(!this.__call_old())return!1;var e=this._get_settings().crrm.move;return e.check_move.call(this,this._get_move())?!0:!1},move_node:function(e,t,n,i,a,r){var s=this._get_settings().crrm.move;return a?((s.always_copy===!0||s.always_copy==="multitree"&&e.rt.get_index()!==e.ot.get_index())&&(i=!0),this.__call_old(!0,e,t,n,i,!0,r),void 0):("undefined"==typeof n&&(n=s.default_position),"inside"!==n||s.default_position.match(/^(before|after)$/)||(n=s.default_position),this.__call_old(!0,e,t,n,i,!1,r))},cut:function(e){return e=this._get_node(e,!0),e&&e.length?(this.data.crrm.cp_nodes=!1,this.data.crrm.ct_nodes=e,this.__callback({obj:e}),void 0):!1},copy:function(e){return e=this._get_node(e,!0),e&&e.length?(this.data.crrm.ct_nodes=!1,this.data.crrm.cp_nodes=e,this.__callback({obj:e}),void 0):!1},paste:function(e){if(e=this._get_node(e),!e||!e.length)return!1;var t=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;return this.data.crrm.ct_nodes||this.data.crrm.cp_nodes?(this.data.crrm.ct_nodes&&(this.move_node(this.data.crrm.ct_nodes,e),this.data.crrm.ct_nodes=!1),this.data.crrm.cp_nodes&&this.move_node(this.data.crrm.cp_nodes,e,!1,!0),this.__callback({obj:e,nodes:t}),void 0):!1}}})}(jQuery),function(e){var t=[];e.jstree._themes=!1,e.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",e.proxy(function(){var e=this._get_settings().themes;
this.data.themes.dots=e.dots,this.data.themes.icons=e.icons,this.set_theme(e.theme,e.url)},this)).bind("loaded.jstree",e.proxy(function(){this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons()},this))},defaults:{theme:"default",url:!1,dots:!0,icons:!0},_fn:{set_theme:function(n,i){return n?(i||(i=e.jstree._themes+n+"/style.css"),e.inArray(i,t)==-1&&(e.vakata.css.add_sheet({url:i}),t.push(i)),this.data.themes.theme!=n&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=n),this.get_container().addClass("jstree-"+n),this.data.themes.dots?this.show_dots():this.hide_dots(),this.data.themes.icons?this.show_icons():this.hide_icons(),this.__callback(),void 0):!1},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0,this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1,this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0,this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1,this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()}}}),e(function(){e.jstree._themes===!1&&e("script").each(function(){return this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)?(e.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1):void 0}),e.jstree._themes===!1&&(e.jstree._themes="themes/")}),e.jstree.defaults.plugins.push("themes")}(jQuery),function(e){function t(t,n){var i,a=e.jstree._focused();return a&&a.data&&a.data.hotkeys&&a.data.hotkeys.enabled&&(i=a._get_settings().hotkeys[t])?i.call(a,n):void 0}var n=[];e.jstree.plugin("hotkeys",{__init:function(){if(typeof e.hotkeys=="undefined")throw"jsTree hotkeys: jQuery hotkeys plugin not included.";if(!this.data.ui)throw"jsTree hotkeys: jsTree UI plugin not included.";e.each(this._get_settings().hotkeys,function(i,a){a!==!1&&e.inArray(i,n)==-1&&(e(document).bind("keydown",i,function(e){return t(i,e)}),n.push(i))}),this.get_container().bind("lock.jstree",e.proxy(function(){this.data.hotkeys.enabled&&(this.data.hotkeys.enabled=!1,this.data.hotkeys.revert=!0)},this)).bind("unlock.jstree",e.proxy(function(){this.data.hotkeys.revert&&(this.data.hotkeys.enabled=!0)},this)),this.enable_hotkeys()},defaults:{up:function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},"ctrl+up":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},"shift+up":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_prev(e)),!1},down:function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},"ctrl+down":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},"shift+down":function(){var e=this.data.ui.hovered||this.data.ui.last_selected||-1;return this.hover_node(this._get_next(e)),!1},left:function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},"ctrl+left":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},"shift+left":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&(e.hasClass("jstree-open")?this.close_node(e):this.hover_node(this._get_prev(e))),!1},right:function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},"ctrl+right":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},"shift+right":function(){var e=this.data.ui.hovered||this.data.ui.last_selected;return e&&e.length&&(e.hasClass("jstree-closed")?this.open_node(e):this.hover_node(this._get_next(e))),!1},space:function(){return this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").click(),!1},"ctrl+space":function(e){return e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},"shift+space":function(e){return e.type="click",this.data.ui.hovered&&this.data.ui.hovered.children("a:eq(0)").trigger(e),!1},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=!0},disable_hotkeys:function(){this.data.hotkeys.enabled=!1}}})}(jQuery),function(e){e.jstree.plugin("json_data",{__init:function(){var e=this._get_settings().json_data;e.progressive_unload&&this.get_container().bind("after_close.jstree",function(e,t){t.rslt.obj.children("ul").remove()})},defaults:{data:!1,ajax:!1,correct_state:!0,progressive_render:!1,progressive_unload:!1},_fn:{load_node:function(e,t,n){var i=this;this.load_node_json(e,function(){i.__callback({obj:i._get_node(e)}),t.call(this)},n)},_is_loaded:function(t){var n=this._get_settings().json_data;return t=this._get_node(t),-1==t||!t||!n.ajax&&!n.progressive_render&&!e.isFunction(n.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").length>0},refresh:function(t){t=this._get_node(t);var n=this._get_settings().json_data;return t&&-1!==t&&n.progressive_unload&&(e.isFunction(n.data)||n.ajax)&&t.removeData("jstree_children"),this.__call_old()},load_node_json:function(t,n,i){var a,r=this.get_settings().json_data,s=function(){},o=function(){};if(t=this._get_node(t),t&&-1!==t&&(r.progressive_render||r.progressive_unload)&&!t.is(".jstree-open, .jstree-leaf")&&t.children("ul").children("li").length===0&&t.data("jstree_children"))return a=this._parse_json(t.data("jstree_children"),t),a&&(t.append(a),r.progressive_unload||t.removeData("jstree_children")),this.clean_node(t),n&&n.call(this),void 0;if(t&&-1!==t){if(t.data("jstree_is_loading"))return;t.data("jstree_is_loading",!0)}switch(!0){case!r.data&&!r.ajax:throw"Neither data nor ajax settings supplied.";case e.isFunction(r.data):r.data.call(this,t,e.proxy(function(e){e=this._parse_json(e,t),e?(-1!==t&&t?(t.append(e).children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(e.children()),this.clean_node(t),n&&n.call(this)):(-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),r.correct_state&&this.correct_state(t)):r.correct_state&&this.get_container().children("ul").empty(),i&&i.call(this))},this));break;case!!r.data&&!r.ajax||!!r.data&&!!r.ajax&&(!t||-1===t):t&&-1!=t||(a=this._parse_json(r.data,t),a?(this.get_container().children("ul").empty().append(a.children()),this.clean_node()):r.correct_state&&this.get_container().children("ul").empty()),n&&n.call(this);break;case!r.data&&!!r.ajax||!!r.data&&!!r.ajax&&t&&-1!==t:s=function(e,n,a){var s=this.get_settings().json_data.ajax.error;s&&s.call(this,e,n,a),-1!=t&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),"success"===n&&r.correct_state&&this.correct_state(t)):"success"===n&&r.correct_state&&this.get_container().children("ul").empty(),i&&i.call(this)},o=function(i,a,o){var l=this.get_settings().json_data.ajax.success;return l&&(i=l.call(this,i,a,o)||i),""===i||i&&i.toString&&i.toString().replace(/^[\s\n]+$/,"")===""||!e.isArray(i)&&!e.isPlainObject(i)?s.call(this,o,a,""):(i=this._parse_json(i,t),i?(-1!==t&&t?(t.append(i).children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(i.children()),this.clean_node(t),n&&n.call(this)):-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),r.correct_state&&(this.correct_state(t),n&&n.call(this))):r.correct_state&&(this.get_container().children("ul").empty(),n&&n.call(this)),void 0)},r.ajax.context=this,r.ajax.error=s,r.ajax.success=o,r.ajax.dataType||(r.ajax.dataType="json"),e.isFunction(r.ajax.url)&&(r.ajax.url=r.ajax.url.call(this,t)),e.isFunction(r.ajax.data)&&(r.ajax.data=r.ajax.data.call(this,t)),e.ajax(r.ajax)}},_parse_json:function(t,n,i){var a,r,s,o,l,c=!1,d=this._get_settings(),h=d.json_data,u=d.core.html_titles;if(!t)return c;if(h.progressive_unload&&n&&-1!==n&&n.data("jstree_children",c),e.isArray(t)){if(c=e("<ul>"),!t.length)return!1;for(r=0,s=t.length;s>r;r++)a=this._parse_json(t[r],n,!0),a.length&&(c=c.append(a));c=c.children()}else{if("string"==typeof t&&(t={data:t}),!t.data&&t.data!=="")return c;c=e("<li />"),t.attr&&c.attr(t.attr),t.metadata&&c.data(t.metadata),t.state&&c.addClass("jstree-"+t.state),e.isArray(t.data)||(a=t.data,t.data=[],t.data.push(a)),e.each(t.data,function(n,i){a=e("<a />"),e.isFunction(i)&&(i=i.call(this,t)),"string"==typeof i?a.attr("href","#")[u?"html":"text"](i):(i.attr||(i.attr={}),i.attr.href||(i.attr.href="#"),a.attr(i.attr)[u?"html":"text"](i.title),i.language&&a.addClass(i.language)),a.prepend("<ins class='jstree-icon'>&#160;</ins>"),!i.icon&&t.icon&&(i.icon=t.icon),i.icon&&(i.icon.indexOf("/")===-1?a.children("ins").addClass(i.icon):a.children("ins").css("background","url('"+i.icon+"') center center no-repeat")),c.append(a)}),c.prepend("<ins class='jstree-icon'>&#160;</ins>"),t.children&&(h.progressive_render&&t.state!=="open"?c.addClass("jstree-closed").data("jstree_children",t.children):(h.progressive_unload&&c.data("jstree_children",t.children),e.isArray(t.children)&&t.children.length&&(a=this._parse_json(t.children,n,!0),a.length&&(l=e("<ul />"),l.append(a),c.append(l)))))}return i||(o=e("<ul />"),o.append(c),c=o),c},get_json:function(t,n,i,a){var r,s,o,l,c,d,h=[],u=this._get_settings(),p=this;return t=this._get_node(t),t&&-1!==t||(t=this.get_container().find("> ul > li")),n=e.isArray(n)?n:["id","class"],!a&&this.data.types&&n.push(u.types.type_attr),i=e.isArray(i)?i:[],t.each(function(){o=e(this),r={data:[]},n.length&&(r.attr={}),e.each(n,function(e,t){s=o.attr(t),s&&s.length&&s.replace(/jstree[^ ]*/gi,"").length&&(r.attr[t]=(" "+s).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))}),o.hasClass("jstree-open")&&(r.state="open"),o.hasClass("jstree-closed")&&(r.state="closed"),o.data()&&(r.metadata=o.data()),l=o.children("a"),l.each(function(){c=e(this),i.length||e.inArray("languages",u.plugins)!==-1||c.children("ins").get(0).style.backgroundImage.length||c.children("ins").get(0).className&&c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").length?(d=!1,e.inArray("languages",u.plugins)!==-1&&e.isArray(u.languages)&&u.languages.length&&e.each(u.languages,function(e,t){return c.hasClass(t)?(d=t,!1):void 0}),s={attr:{},title:p.get_text(c,d)},e.each(i,function(e,t){s.attr[t]=(" "+(c.attr(t)||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")}),e.inArray("languages",u.plugins)!==-1&&e.isArray(u.languages)&&u.languages.length&&e.each(u.languages,function(e,t){return c.hasClass(t)?(s.language=t,!0):void 0}),c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(s.icon=c.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,"")),c.children("ins").get(0).style.backgroundImage.length&&(s.icon=c.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""))):s=p.get_text(c),l.length>1?r.data.push(s):r.data=s}),o=o.find("> ul > li"),o.length&&(r.children=p.get_json(o,n,i,!0)),h.push(r)}),h}}})}(jQuery),function(e){var t=!1;e.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(n){var i=this._get_settings().languages,a=!1,r=".jstree-"+this.get_index()+" a";if(!e.isArray(i)||i.length===0)return!1;if(e.inArray(n,i)==-1){if(!i[n])return!1;n=i[n]}return n==this.data.languages.current_language?!0:(a=e.vakata.css.get_css(r+"."+this.data.languages.current_language,!1,t),a!==!1&&(a.style.display="none"),a=e.vakata.css.get_css(r+"."+n,!1,t),a!==!1&&(a.style.display=""),this.data.languages.current_language=n,this.__callback(n),!0)},get_lang:function(){return this.data.languages.current_language},_get_string:function(t,n){var i=this._get_settings().languages,a=this._get_settings().core.strings;return e.isArray(i)&&i.length&&(n=n&&e.inArray(n,i)!=-1?n:this.data.languages.current_language),a[n]&&a[n][t]?a[n][t]:a[t]?a[t]:t},get_text:function(t,n){if(t=this._get_node(t)||this.data.ui.last_selected,!t.size())return!1;var i=this._get_settings().languages,a=this._get_settings().core.html_titles;return e.isArray(i)&&i.length?(n=n&&e.inArray(n,i)!=-1?n:this.data.languages.current_language,t=t.children("a."+n)):t=t.children("a:eq(0)"),a?(t=t.clone(),t.children("INS").remove(),t.html()):(t=t.contents().filter(function(){return this.nodeType==3})[0],t.nodeValue)},set_text:function(t,n,i){if(t=this._get_node(t)||this.data.ui.last_selected,!t.size())return!1;var a,r=this._get_settings().languages,s=this._get_settings().core.html_titles;return e.isArray(r)&&r.length?(i=i&&e.inArray(i,r)!=-1?i:this.data.languages.current_language,t=t.children("a."+i)):t=t.children("a:eq(0)"),s?(a=t.children("INS").clone(),t.html(n).prepend(a),this.__callback({obj:t,name:n,lang:i}),!0):(t=t.contents().filter(function(){return this.nodeType==3})[0],this.__callback({obj:t,name:n,lang:i}),t.nodeValue=n)},_load_css:function(){var n,i=this._get_settings().languages,a="/* languages css */",r=".jstree-"+this.get_index()+" a";if(e.isArray(i)&&i.length){for(this.data.languages.current_language=i[0],n=0;n<i.length;n++)a+=r+"."+i[n]+" {",i[n]!=this.data.languages.current_language&&(a+=" display:none; "),a+=" } ";t=e.vakata.css.add_sheet({str:a,title:"jstree-languages"})}},create_node:function(t,n,i,a){var r=this.__call_old(!0,t,n,i,function(t){var n,i=this._get_settings().languages,r=t.children("a");if(e.isArray(i)&&i.length){for(n=0;n<i.length;n++)r.is("."+i[n])||t.append(r.eq(0).clone().removeClass(i.join(" ")).addClass(i[n]));r.not("."+i.join(", .")).remove()}a&&a.call(this,t)});return r}}})}(jQuery),function(e){e.jstree.plugin("cookies",{__init:function(){if(typeof e.cookie=="undefined")throw"jsTree cookie: jQuery cookie plugin not included.";var t,n=this._get_settings().cookies;n.save_loaded&&(t=e.cookie(n.save_loaded),t&&t.length&&(this.data.core.to_load=t.split(","))),n.save_opened&&(t=e.cookie(n.save_opened),t&&t.length&&(this.data.core.to_open=t.split(","))),n.save_selected&&(t=e.cookie(n.save_selected),t&&t.length&&this.data.ui&&(this.data.ui.to_select=t.split(","))),this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",e.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",e.proxy(function(e){this._get_settings().cookies.auto_save&&this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace("jstree",""))},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:!0,cookie_options:{}},_fn:{save_cookie:function(t){if(!this.data.core.refreshing){var n=this._get_settings().cookies;if(!t)return n.save_loaded&&(this.save_loaded(),e.cookie(n.save_loaded,this.data.core.to_load.join(","),n.cookie_options)),n.save_opened&&(this.save_opened(),e.cookie(n.save_opened,this.data.core.to_open.join(","),n.cookie_options)),n.save_selected&&this.data.ui&&(this.save_selected(),e.cookie(n.save_selected,this.data.ui.to_select.join(","),n.cookie_options)),void 0;switch(t){case"open_node":case"close_node":n.save_opened&&(this.save_opened(),e.cookie(n.save_opened,this.data.core.to_open.join(","),n.cookie_options)),n.save_loaded&&(this.save_loaded(),e.cookie(n.save_loaded,this.data.core.to_load.join(","),n.cookie_options));break;case"select_node":case"deselect_node":n.save_selected&&this.data.ui&&(this.save_selected(),e.cookie(n.save_selected,this.data.ui.to_select.join(","),n.cookie_options))}}}}})}(jQuery),function(e){e.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",e.proxy(function(e,t){var n=this._get_node(t.rslt.obj);n=-1===n?this.get_container().children("ul"):n.children("ul"),this.sort(n)},this)).bind("rename_node.jstree create_node.jstree create.jstree",e.proxy(function(e,t){this.sort(t.rslt.obj.parent())},this)).bind("move_node.jstree",e.proxy(function(e,t){var n=t.rslt.np==-1?this.get_container():t.rslt.np;this.sort(n.children("ul"))},this))},defaults:function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},_fn:{sort:function(t){var n=this._get_settings().sort,i=this;t.append(e.makeArray(t.children("li")).sort(e.proxy(n,i))),t.find("> li > ul").each(function(){i.sort(e(this))}),this.clean_node(t)}}})}(jQuery),function(e){var t=!1,n=!1,i=!1,a=!1,r=!1,s=!1,o=!1,l=!1,c=!1;e.vakata.dnd={is_down:!1,is_drag:!1,helper:!1,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(t,n,i){e.vakata.dnd.is_drag&&e.vakata.drag_stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.MozUserSelect="none")}catch(a){}return e.vakata.dnd.init_x=t.pageX,e.vakata.dnd.init_y=t.pageY,e.vakata.dnd.user_data=n,e.vakata.dnd.is_down=!0,e.vakata.dnd.helper=e("<div id='vakata-dragged' />").html(i),e(document).bind("mousemove",e.vakata.dnd.drag),e(document).bind("mouseup",e.vakata.dnd.drag_stop),!1},drag:function(t){if(e.vakata.dnd.is_down){if(!e.vakata.dnd.is_drag){if(!(Math.abs(t.pageX-e.vakata.dnd.init_x)>5||Math.abs(t.pageY-e.vakata.dnd.init_y)>5))return;e.vakata.dnd.helper.appendTo("body"),e.vakata.dnd.is_drag=!0,e(document).triggerHandler("drag_start.vakata",{event:t,data:e.vakata.dnd.user_data})}if(t.type==="mousemove"){var n=e(document),i=n.scrollTop(),a=n.scrollLeft();t.pageY-i<20?(s&&"down"===o&&(clearInterval(s),s=!1),s||(o="up",s=setInterval(function(){e(document).scrollTop(e(document).scrollTop()-e.vakata.dnd.scroll_spd)},150))):s&&"up"===o&&(clearInterval(s),s=!1),e(window).height()-(t.pageY-i)<20?(s&&"up"===o&&(clearInterval(s),s=!1),s||(o="down",s=setInterval(function(){e(document).scrollTop(e(document).scrollTop()+e.vakata.dnd.scroll_spd)},150))):s&&"down"===o&&(clearInterval(s),s=!1),t.pageX-a<20?(r&&"right"===l&&(clearInterval(r),r=!1),r||(l="left",r=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()-e.vakata.dnd.scroll_spd)},150))):r&&"left"===l&&(clearInterval(r),r=!1),e(window).width()-(t.pageX-a)<20?(r&&"left"===l&&(clearInterval(r),r=!1),r||(l="right",r=setInterval(function(){e(document).scrollLeft(e(document).scrollLeft()+e.vakata.dnd.scroll_spd)},150))):r&&"right"===l&&(clearInterval(r),r=!1)}e.vakata.dnd.helper.css({left:t.pageX+e.vakata.dnd.helper_left+"px",top:t.pageY+e.vakata.dnd.helper_top+"px"}),e(document).triggerHandler("drag.vakata",{event:t,data:e.vakata.dnd.user_data})}},drag_stop:function(t){r&&clearInterval(r),s&&clearInterval(s),e(document).unbind("mousemove",e.vakata.dnd.drag),e(document).unbind("mouseup",e.vakata.dnd.drag_stop),e(document).triggerHandler("drag_stop.vakata",{event:t,data:e.vakata.dnd.user_data}),e.vakata.dnd.helper.remove(),e.vakata.dnd.init_x=0,e.vakata.dnd.init_y=0,e.vakata.dnd.user_data={},e.vakata.dnd.is_down=!1,e.vakata.dnd.is_drag=!1}},e(function(){var t="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";e.vakata.css.add_sheet({str:t,title:"vakata"})}),e.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:!1,after:!1,inside:!1,before:!1,off:!1,prepared:!1,w:0,to1:!1,to2:!1,cof:!1,cw:!1,ch:!1,i1:!1,i2:!1,mto:!1},this.get_container().bind("mouseenter.jstree",e.proxy(function(n){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(this.data.themes&&(i.attr("class","jstree-"+this.data.themes.theme),a&&a.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),n.currentTarget===n.target&&e.vakata.dnd.user_data.obj&&e(e.vakata.dnd.user_data.obj).length&&e(e.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==n.target)){var r,s=e.jstree._reference(n.target);s.data.dnd.foreign?(r=s._get_settings().dnd.drag_check.call(this,{o:t,r:s.get_container(),is_root:!0}),(r===!0||r.inside===!0||r.before===!0||r.after===!0)&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok")):(s.prepare_move(t,s.get_container(),"last"),s.check_move()&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok"))}},this)).bind("mouseup.jstree",e.proxy(function(n){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&n.currentTarget===n.target&&e.vakata.dnd.user_data.obj&&e(e.vakata.dnd.user_data.obj).length&&e(e.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==n.target){var i,a=e.jstree._reference(n.currentTarget);a.data.dnd.foreign?(i=a._get_settings().dnd.drag_check.call(this,{o:t,r:a.get_container(),is_root:!0}),(i===!0||i.inside===!0||i.before===!0||i.after===!0)&&a._get_settings().dnd.drag_finish.call(this,{o:t,r:a.get_container(),is_root:!0})):a.move_node(t,a.get_container(),"last",n[a._get_settings().dnd.copy_modifier+"Key"])}},this)).bind("mouseleave.jstree",e.proxy(function(t){return t.relatedTarget&&t.relatedTarget.id&&t.relatedTarget.id==="jstree-marker-line"?!1:(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),e.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")),void 0)},this)).bind("mousemove.jstree",e.proxy(function(t){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree){var n=this.get_container()[0];t.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(e.proxy(function(){this.scrollLeft+=e.vakata.dnd.scroll_spd},n),100)):t.pageX-24<this.data.dnd.cof.left?(this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i1=setInterval(e.proxy(function(){this.scrollLeft-=e.vakata.dnd.scroll_spd},n),100)):this.data.dnd.i1&&clearInterval(this.data.dnd.i1),t.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(e.proxy(function(){this.scrollTop+=e.vakata.dnd.scroll_spd},n),100)):t.pageY-24<this.data.dnd.cof.top?(this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.i2=setInterval(e.proxy(function(){this.scrollTop-=e.vakata.dnd.scroll_spd},n),100)):this.data.dnd.i2&&clearInterval(this.data.dnd.i2)}},this)).bind("scroll.jstree",e.proxy(function(){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&i&&a&&(i.hide(),a.hide())},this)).delegate("a","mousedown.jstree",e.proxy(function(e){return e.which===1?(this.start_drag(e.currentTarget,e),!1):void 0},this)).delegate("a","mouseenter.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&this.dnd_enter(t.currentTarget)},this)).delegate("a","mousemove.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&(n&&n.length&&n.children("a")[0]===t.currentTarget||this.dnd_enter(t.currentTarget),typeof this.data.dnd.off.top=="undefined"&&(this.data.dnd.off=e(t.target).offset()),this.data.dnd.w=(t.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height,this.data.dnd.w<0&&(this.data.dnd.w+=this.data.core.li_height),this.dnd_show())},this)).delegate("a","mouseleave.jstree",e.proxy(function(t){if(e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree){if(t.relatedTarget&&t.relatedTarget.id&&t.relatedTarget.id==="jstree-marker-line")return!1;i&&i.hide(),a&&a.hide(),this.data.dnd.mto=setTimeout(function(e){return function(){e.dnd_leave(t)}}(this),0)}},this)).delegate("a","mouseup.jstree",e.proxy(function(t){e.vakata.dnd.is_drag&&e.vakata.dnd.user_data.jstree&&this.dnd_finish(t)},this)),e(document).bind("drag_stop.vakata",e.proxy(function(){this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),this.data.dnd.i1&&clearInterval(this.data.dnd.i1),this.data.dnd.i2&&clearInterval(this.data.dnd.i2),this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,this.data.dnd.off=!1,this.data.dnd.prepared=!1,this.data.dnd.w=!1,this.data.dnd.to1=!1,this.data.dnd.to2=!1,this.data.dnd.i1=!1,this.data.dnd.i2=!1,this.data.dnd.active=!1,this.data.dnd.foreign=!1,i&&i.css({top:"-2000px"}),a&&a.css({top:"-2000px"})},this)).bind("drag_start.vakata",e.proxy(function(t,n){if(n.data.jstree){var i=e(n.event.target);i.closest(".jstree").hasClass("jstree-"+this.get_index())&&this.dnd_enter(i)}},this));var r=this._get_settings().dnd;r.drag_target&&e(document).delegate(r.drag_target,"mousedown.jstree-"+this.get_index(),e.proxy(function(n){t=n.target,e.vakata.dnd.drag_start(n,{jstree:!0,obj:n.target},"<ins class='jstree-icon'></ins>"+e(n.target).text()),this.data.themes&&(i&&i.attr("class","jstree-"+this.data.themes.theme),a&&a.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var r=this.get_container();this.data.dnd.cof=r.offset(),this.data.dnd.cw=parseInt(r.width(),10),this.data.dnd.ch=parseInt(r.height(),10),this.data.dnd.foreign=!0,n.preventDefault()},this)),r.drop_target&&e(document).delegate(r.drop_target,"mouseenter.jstree-"+this.get_index(),e.proxy(function(n){this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:t,r:e(n.target),e:n})&&e.vakata.dnd.helper.children("ins").attr("class","jstree-ok")},this)).delegate(r.drop_target,"mouseleave.jstree-"+this.get_index(),e.proxy(function(){this.data.dnd.active&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")},this)).delegate(r.drop_target,"mouseup.jstree-"+this.get_index(),e.proxy(function(n){this.data.dnd.active&&e.vakata.dnd.helper.children("ins").hasClass("jstree-ok")&&this._get_settings().dnd.drop_finish.call(this,{o:t,r:e(n.target),e:n})},this))},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(){return!0},drop_finish:e.noop,drag_target:".jstree-draggable",drag_finish:e.noop,drag_check:function(){return{after:!1,before:!1,inside:!0}}},_fn:{dnd_prepare:function(){if(n&&n.length){if(this.data.dnd.off=n.offset(),this._get_settings().core.rtl&&(this.data.dnd.off.right=this.data.dnd.off.left+n.width()),this.data.dnd.foreign){var e=this._get_settings().dnd.drag_check.call(this,{o:t,r:n});return this.data.dnd.after=e.after,this.data.dnd.before=e.before,this.data.dnd.inside=e.inside,this.data.dnd.prepared=!0,this.dnd_show()}return this.prepare_move(t,n,"before"),this.data.dnd.before=this.check_move(),this.prepare_move(t,n,"after"),this.data.dnd.after=this.check_move(),this._is_loaded(n)?(this.prepare_move(t,n,"inside"),this.data.dnd.inside=this.check_move()):this.data.dnd.inside=!1,this.data.dnd.prepared=!0,this.dnd_show()}},dnd_show:function(){if(this.data.dnd.prepared){var t,n=["before","inside","after"],r=!1,s=this._get_settings().core.rtl;switch(n=this.data.dnd.w<this.data.core.li_height/3?["before","inside","after"]:this.data.dnd.w<=this.data.core.li_height*2/3?this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]:["after","inside","before"],e.each(n,e.proxy(function(t,n){return this.data.dnd[n]?(e.vakata.dnd.helper.children("ins").attr("class","jstree-ok"),r=n,!1):void 0},this)),r===!1&&e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),t=s?this.data.dnd.off.right-18:this.data.dnd.off.left+10,r){case"before":i.css({left:t+"px",top:this.data.dnd.off.top-6+"px"}).show(),a&&a.css({left:t+8+"px",top:this.data.dnd.off.top-1+"px"}).show();break;case"after":i.css({left:t+"px",top:this.data.dnd.off.top+this.data.core.li_height-6+"px"}).show(),a&&a.css({left:t+8+"px",top:this.data.dnd.off.top+this.data.core.li_height-1+"px"}).show();break;case"inside":i.css({left:t+(s?-4:4)+"px",top:this.data.dnd.off.top+this.data.core.li_height/2-5+"px"}).show(),a&&a.hide();break;default:i.hide(),a&&a.hide()}return c=r,r}},dnd_open:function(){this.data.dnd.to2=!1,this.open_node(n,e.proxy(this.dnd_prepare,this),!0)},dnd_finish:function(e){this.data.dnd.foreign?(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside)&&this._get_settings().dnd.drag_finish.call(this,{o:t,r:n,p:c}):(this.dnd_prepare(),this.move_node(t,n,c,e[this._get_settings().dnd.copy_modifier+"Key"])),t=!1,n=!1,i.hide(),a&&a.hide()},dnd_enter:function(t){this.data.dnd.mto&&(clearTimeout(this.data.dnd.mto),this.data.dnd.mto=!1);var i=this._get_settings().dnd;this.data.dnd.prepared=!1,n=this._get_node(t),i.check_timeout?(this.data.dnd.to1&&clearTimeout(this.data.dnd.to1),this.data.dnd.to1=setTimeout(e.proxy(this.dnd_prepare,this),i.check_timeout)):this.dnd_prepare(),i.open_timeout?(this.data.dnd.to2&&clearTimeout(this.data.dnd.to2),n&&n.length&&n.hasClass("jstree-closed")&&(this.data.dnd.to2=setTimeout(e.proxy(this.dnd_open,this),i.open_timeout))):n&&n.length&&n.hasClass("jstree-closed")&&this.dnd_open()},dnd_leave:function(t){this.data.dnd.after=!1,this.data.dnd.before=!1,this.data.dnd.inside=!1,e.vakata.dnd.helper.children("ins").attr("class","jstree-invalid"),i.hide(),a&&a.hide(),n&&n[0]===t.target.parentNode&&(this.data.dnd.to1&&(clearTimeout(this.data.dnd.to1),this.data.dnd.to1=!1),this.data.dnd.to2&&(clearTimeout(this.data.dnd.to2),this.data.dnd.to2=!1))},start_drag:function(n,r){t=this._get_node(n),this.data.ui&&this.is_selected(t)&&(t=this._get_node(null,!0));var s=t.length>1?this._get_string("multiple_selection"):this.get_text(t),o=this.get_container();this._get_settings().core.html_titles||(s=s.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")),e.vakata.dnd.drag_start(r,{jstree:!0,obj:t},"<ins class='jstree-icon'></ins>"+s),this.data.themes&&(i&&i.attr("class","jstree-"+this.data.themes.theme),a&&a.attr("class","jstree-"+this.data.themes.theme),e.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)),this.data.dnd.cof=o.offset(),this.data.dnd.cw=parseInt(o.width(),10),this.data.dnd.ch=parseInt(o.height(),10),this.data.dnd.active=!0}}}),e(function(){var t="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }";
e.vakata.css.add_sheet({str:t,title:"jstree"}),i=e("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(e){return i.hide(),a.hide(),e.preventDefault(),e.stopImmediatePropagation(),!1}).appendTo("body"),a=e("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(e){return n&&n.length?(n.children("a").trigger(e),e.preventDefault(),e.stopImmediatePropagation(),!1):void 0}).bind("mouseleave",function(t){var r=e(t.relatedTarget);return(r.is(".jstree")||r.closest(".jstree").length===0)&&n&&n.length?(n.children("a").trigger(t),i.hide(),a.hide(),t.preventDefault(),t.stopImmediatePropagation(),!1):void 0}).appendTo("body"),e(document).bind("drag_start.vakata",function(e,t){t.data.jstree&&(i.show(),a&&a.show())}),e(document).bind("drag_stop.vakata",function(e,t){t.data.jstree&&(i.hide(),a&&a.hide())})})}(jQuery),function(e){e.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui,this.data.ui&&this.data.checkbox.noui&&(this.select_node=this.deselect_node=this.deselect_all=e.noop,this.get_selected=this.get_checked),this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",e.proxy(function(e,t){this._prepare_checkboxes(t.rslt.obj)},this)).bind("loaded.jstree",e.proxy(function(){this._prepare_checkboxes()},this)).delegate(this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox","click.jstree",e.proxy(function(e){return e.preventDefault(),this._get_node(e.target).hasClass("jstree-checked")?this.uncheck_node(e.target):this.check_node(e.target),this.data.ui&&this.data.checkbox.noui?(this.save_selected(),this.data.cookies&&this.save_cookie("select_node"),void 0):(e.stopImmediatePropagation(),!1)},this))},defaults:{override_ui:!1,two_state:!1,real_checkboxes:!1,checked_parent_open:!0,real_checkboxes_names:function(e){return["check_"+(e[0].id||Math.ceil(Math.random()*1e4)),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(e,t){t.checked&&this.check_node(e,!1)},_prepare_checkboxes:function(t){if(t=t&&-1!=t?this._get_node(t):this.get_container().find("> ul > li"),t!==!1){var n,i,a=this,r=this._get_settings().checkbox.two_state,s=this._get_settings().checkbox.real_checkboxes,o=this._get_settings().checkbox.real_checkboxes_names;t.each(function(){i=e(this),n=i.is("li")&&(i.hasClass("jstree-checked")||s&&i.children(":checked").length)?"jstree-checked":"jstree-unchecked",i.find("li").addBack().each(function(){var t,i=e(this);i.children("a"+(a.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(r?"jstree-unchecked":n),s&&(i.children(":checkbox").length?i.children(":checkbox").addClass("jstree-real-checkbox"):(t=o.call(a,i),i.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+t[0]+"' name='"+t[0]+"' value='"+t[1]+"' />"))),r?(i.hasClass("jstree-checked")||i.children(":checked").length)&&i.addClass("jstree-checked").children(":checkbox").prop("checked",!0):("jstree-checked"===n||i.hasClass("jstree-checked")||i.children(":checked").length)&&i.find("li").addBack().addClass("jstree-checked").children(":checkbox").prop("checked",!0)})}),r||t.find(".jstree-checked").parent().parent().each(function(){a._repair_state(this)})}},change_state:function(t,n){t=this._get_node(t);var i=!1,a=this._get_settings().checkbox.real_checkboxes;if(!t||-1===t)return!1;if(n=n===!1||n===!0?n:t.hasClass("jstree-checked"),this._get_settings().checkbox.two_state)n?(t.removeClass("jstree-checked").addClass("jstree-unchecked"),a&&t.children(":checkbox").prop("checked",!1)):(t.removeClass("jstree-unchecked").addClass("jstree-checked"),a&&t.children(":checkbox").prop("checked",!0));else{if(n){if(i=t.find("li").addBack(),!i.filter(".jstree-checked, .jstree-undetermined").length)return!1;i.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),a&&i.children(":checkbox").prop("checked",!1)}else{if(i=t.find("li").addBack(),!i.filter(".jstree-unchecked, .jstree-undetermined").length)return!1;i.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),a&&i.children(":checkbox").prop("checked",!0),this.data.ui&&(this.data.ui.last_selected=t),this.data.checkbox.last_selected=t}t.parentsUntil(".jstree","li").each(function(){var t=e(this);if(n){if(t.children("ul").children("li.jstree-checked, li.jstree-undetermined").length)return t.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),a&&t.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1),!1;t.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked"),a&&t.children(":checkbox").prop("checked",!1)}else{if(t.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length)return t.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),a&&t.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1),!1;t.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked"),a&&t.children(":checkbox").prop("checked",!0)}})}return this.data.ui&&this.data.checkbox.noui&&(this.data.ui.selected=this.get_checked()),this.__callback(t),!0},check_node:function(e){if(this.change_state(e,!1)){if(e=this._get_node(e),this._get_settings().checkbox.checked_parent_open){var t=this;e.parents(".jstree-closed").each(function(){t.open_node(this,!1,!0)})}this.__callback({obj:e})}},uncheck_node:function(e){this.change_state(e,!0)&&this.__callback({obj:this._get_node(e)})},check_all:function(){var e=this,t=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");t.each(function(){e.change_state(this,!1)}),this.__callback()},uncheck_all:function(){var e=this,t=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");t.each(function(){e.change_state(this,!0)}),this.__callback()},is_checked:function(e){return e=this._get_node(e),e.length?e.is(".jstree-checked"):!1},get_checked:function(e,t){return e=e&&-1!==e?this._get_node(e):this.get_container(),t||this._get_settings().checkbox.two_state?e.find(".jstree-checked"):e.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(e,t){return e=e&&-1!==e?this._get_node(e):this.get_container(),t||this._get_settings().checkbox.two_state?e.find(".jstree-unchecked"):e.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(e){if(e=this._get_node(e),e.length){if(this._get_settings().checkbox.two_state)return e.find("li").addBack().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",!0),void 0;var t=this._get_settings().checkbox.real_checkboxes,n=e.find("> ul > .jstree-checked").length,i=e.find("> ul > .jstree-undetermined").length,a=e.find("> ul > li").length;0===a?e.hasClass("jstree-undetermined")&&this.change_state(e,!1):0===n&&0===i?this.change_state(e,!0):n===a?this.change_state(e,!1):(e.parentsUntil(".jstree","li").addBack().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined"),t&&e.parentsUntil(".jstree","li").addBack().children(":checkbox").prop("checked",!1))}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var t=this,n=this.data.ui.to_select;n=e.map(e.makeArray(n),function(e){return"#"+e.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")}),this.deselect_all(),e.each(n,function(e,n){t.check_node(n)}),this.__callback()}else this.__call_old()},save_loaded:function(){var e=this;this.data.core.to_load=[],this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){this.id&&e.data.core.to_load.push("#"+this.id)})}}}),e(function(){var t=".jstree .jstree-real-checkbox { display:none; } ";e.vakata.css.add_sheet({str:t,title:"jstree"})})}(jQuery),function(e){e.vakata.xslt=function(t,n,i){var a,r,s,o=!1;if(o===!1&&window.ActiveXObject)try{o=new ActiveXObject("Msxml2.XSLTemplate"),r=new ActiveXObject("Msxml2.DOMDocument"),r.loadXML(t),s=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),s.loadXML(n),o.stylesheet=s,a=o.createProcessor(),a.input=r,a.transform(),o=a.output}catch(l){}t=e.parseXML(t),n=e.parseXML(n),o===!1&&"undefined"!=typeof XSLTProcessor&&(a=new XSLTProcessor,a.importStylesheet(n),o=a.transformToFragment(t,document),o=e("<div />").append(o).html()),o===!1&&typeof t.transformNode!="undefined"&&(o=t.transformNode(n)),i.call(null,o)};var t={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">	<xsl:call-template name="nodes">		<xsl:with-param name="node" select="/root" />	</xsl:call-template></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<ul>	<xsl:for-each select="$node/item">		<xsl:variable name="children" select="count(./item) &gt; 0" />		<li>			<xsl:attribute name="class">				<xsl:if test="position() = last()">jstree-last </xsl:if>				<xsl:choose>					<xsl:when test="@state = \'open\'">jstree-open </xsl:when>					<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>					<xsl:otherwise>jstree-leaf </xsl:otherwise>				</xsl:choose>				<xsl:value-of select="@class" />			</xsl:attribute>			<xsl:for-each select="@*">				<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">					<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>				</xsl:if>			</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>			<xsl:for-each select="content/name">				<a>				<xsl:attribute name="href">					<xsl:choose>					<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>					<xsl:otherwise>#</xsl:otherwise>					</xsl:choose>				</xsl:attribute>				<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>				<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>				<xsl:for-each select="@*">					<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">						<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>					</xsl:if>				</xsl:for-each>					<ins>						<xsl:attribute name="class">jstree-icon 							<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>						</xsl:attribute>						<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>						<xsl:text>&#xa0;</xsl:text>					</ins>					<xsl:copy-of select="./child::node()" />				</a>			</xsl:for-each>			<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>		</li>	</xsl:for-each>	</ul></xsl:template></xsl:stylesheet>',flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">	<ul>	<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">		<xsl:call-template name="nodes">			<xsl:with-param name="node" select="." />			<xsl:with-param name="is_last" select="number(position() = last())" />		</xsl:call-template>	</xsl:for-each>	</ul></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<xsl:param name="is_last" />	<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />	<li>	<xsl:attribute name="class">		<xsl:if test="$is_last = true()">jstree-last </xsl:if>		<xsl:choose>			<xsl:when test="@state = \'open\'">jstree-open </xsl:when>			<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>			<xsl:otherwise>jstree-leaf </xsl:otherwise>		</xsl:choose>		<xsl:value-of select="@class" />	</xsl:attribute>	<xsl:for-each select="@*">		<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">		<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>		</xsl:if>	</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>	<xsl:for-each select="content/name">		<a>		<xsl:attribute name="href">			<xsl:choose>			<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>			<xsl:otherwise>#</xsl:otherwise>			</xsl:choose>		</xsl:attribute>		<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>		<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>		<xsl:for-each select="@*">			<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">				<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>			</xsl:if>		</xsl:for-each>			<ins>				<xsl:attribute name="class">jstree-icon 					<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>				</xsl:attribute>				<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>				<xsl:text>&#xa0;</xsl:text>			</ins>			<xsl:copy-of select="./child::node()" />		</a>	</xsl:for-each>	<xsl:if test="$children">		<ul>		<xsl:for-each select="//item[@parent_id=$node/attribute::id]">			<xsl:call-template name="nodes">				<xsl:with-param name="node" select="." />				<xsl:with-param name="is_last" select="number(position() = last())" />			</xsl:call-template>		</xsl:for-each>		</ul>	</xsl:if>	</li></xsl:template></xsl:stylesheet>'},n=function(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};e.jstree.plugin("xml_data",{defaults:{data:!1,ajax:!1,xsl:"flat",clean_node:!1,correct_state:!0,get_skip_empty:!1,get_include_preamble:!0},_fn:{load_node:function(e,t,n){var i=this;this.load_node_xml(e,function(){i.__callback({obj:i._get_node(e)}),t.call(this)},n)},_is_loaded:function(t){var n=this._get_settings().xml_data;return t=this._get_node(t),-1==t||!t||!n.ajax&&!e.isFunction(n.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").size()>0},load_node_xml:function(t,n,i){var a=this.get_settings().xml_data,r=function(){},s=function(){};if(t=this._get_node(t),t&&-1!==t){if(t.data("jstree_is_loading"))return;t.data("jstree_is_loading",!0)}switch(!0){case!a.data&&!a.ajax:throw"Neither data nor ajax settings supplied.";case e.isFunction(a.data):a.data.call(this,t,e.proxy(function(i){this.parse_xml(i,e.proxy(function(i){i&&(i=i.replace(/ ?xmlns="[^"]*"/gi,""),i.length>10?(i=e(i),-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(i),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(i.children()),a.clean_node&&this.clean_node(t),n&&n.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),a.correct_state&&(this.correct_state(t),n&&n.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),n&&n.call(this)))},this))},this));break;case!!a.data&&!a.ajax||!!a.data&&!!a.ajax&&(!t||-1===t):t&&-1!=t||this.parse_xml(a.data,e.proxy(function(i){i?(i=i.replace(/ ?xmlns="[^"]*"/gi,""),i.length>10&&(i=e(i),this.get_container().children("ul").empty().append(i.children()),a.clean_node&&this.clean_node(t),n&&n.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),n&&n.call(this))},this));break;case!a.data&&!!a.ajax||!!a.data&&!!a.ajax&&t&&-1!==t:r=function(e,n,r){var s=this.get_settings().xml_data.ajax.error;s&&s.call(this,e,n,r),-1!==t&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),"success"===n&&a.correct_state&&this.correct_state(t)):"success"===n&&a.correct_state&&this.get_container().children("ul").empty(),i&&i.call(this)},s=function(i,s,o){i=o.responseText;var l=this.get_settings().xml_data.ajax.success;return l&&(i=l.call(this,i,s,o)||i),""===i||i&&i.toString&&i.toString().replace(/^[\s\n]+$/,"")===""?r.call(this,o,s,""):(this.parse_xml(i,e.proxy(function(i){i&&(i=i.replace(/ ?xmlns="[^"]*"/gi,""),i.length>10?(i=e(i),-1!==t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(i),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(i.children()),a.clean_node&&this.clean_node(t),n&&n.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),a.correct_state&&(this.correct_state(t),n&&n.call(this))):a.correct_state&&(this.get_container().children("ul").empty(),n&&n.call(this)))},this)),void 0)},a.ajax.context=this,a.ajax.error=r,a.ajax.success=s,a.ajax.dataType||(a.ajax.dataType="xml"),e.isFunction(a.ajax.url)&&(a.ajax.url=a.ajax.url.call(this,t)),e.isFunction(a.ajax.data)&&(a.ajax.data=a.ajax.data.call(this,t)),e.ajax(a.ajax)}},parse_xml:function(n,i){var a=this._get_settings().xml_data;e.vakata.xslt(n,t[a.xsl],i)},get_xml:function(t,i,a,r,s){var o,l,c,d,h,u="",p=this._get_settings(),f=this;return t||(t="flat"),s||(s=0),i=this._get_node(i),i&&-1!==i||(i=this.get_container().find("> ul > li")),a=e.isArray(a)?a:["id","class"],!s&&this.data.types&&e.inArray(p.types.type_attr,a)===-1&&a.push(p.types.type_attr),r=e.isArray(r)?r:[],s||(p.xml_data.get_include_preamble&&(u+='<?xml version="1.0" encoding="UTF-8"?>'),u+="<root>"),i.each(function(){u+="<item",c=e(this),e.each(a,function(e,t){var i=c.attr(t);p.xml_data.get_skip_empty&&"undefined"==typeof i||(u+=" "+t+'="'+n((" "+(i||"")).replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),c.hasClass("jstree-open")&&(u+=' state="open"'),c.hasClass("jstree-closed")&&(u+=' state="closed"'),"flat"===t&&(u+=' parent_id="'+n(s)+'"'),u+=">",u+="<content>",d=c.children("a"),d.each(function(){o=e(this),h=!1,u+="<name",e.inArray("languages",p.plugins)!==-1&&e.each(p.languages,function(e,t){return o.hasClass(t)?(u+=' lang="'+n(t)+'"',h=t,!1):void 0}),r.length&&e.each(r,function(e,t){var i=o.attr(t);p.xml_data.get_skip_empty&&"undefined"==typeof i||(u+=" "+t+'="'+n((" "+i||"").replace(/ jstree[^ ]*/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"')}),o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/^\s+$/gi,"").length&&(u+=' icon="'+n(o.children("ins").get(0).className.replace(/jstree[^ ]*|$/gi,"").replace(/\s+$/gi," ").replace(/^ /,"").replace(/ $/,""))+'"'),o.children("ins").get(0).style.backgroundImage.length&&(u+=' icon="'+n(o.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/gi,"").replace(/"/gi,""))+'"'),u+=">",u+="<![CDATA["+f.get_text(o,h)+"]]>",u+="</name>"}),u+="</content>",l=c[0].id||!0,c=c.find("> ul > li"),l=c.length?f.get_xml(t,c,a,r,l):"","nest"==t&&(u+=l),u+="</item>","flat"==t&&(u+=l)}),s||(u+="</root>"),u}}})}(jQuery),function(e){e().jquery.split(".")[1]>=8?(e.expr[":"].jstree_contains=e.expr.createPseudo(function(e){return function(t){return(t.textContent||t.innerText||"").toLowerCase().indexOf(e.toLowerCase())>=0}}),e.expr[":"].jstree_title_contains=e.expr.createPseudo(function(e){return function(t){return(t.getAttribute("title")||"").toLowerCase().indexOf(e.toLowerCase())>=0}})):(e.expr[":"].jstree_contains=function(e,t,n){return(e.textContent||e.innerText||"").toLowerCase().indexOf(n[3].toLowerCase())>=0},e.expr[":"].jstree_title_contains=function(e,t,n){return(e.getAttribute("title")||"").toLowerCase().indexOf(n[3].toLowerCase())>=0}),e.jstree.plugin("search",{__init:function(){this.data.search.str="",this.data.search.result=e(),this._get_settings().search.show_only_matches&&this.get_container().bind("search.jstree",function(t,n){e(this).children("ul").find("li").hide().removeClass("jstree-last"),n.rslt.nodes.parentsUntil(".jstree").addBack().show().filter("ul").each(function(){e(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){e(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})},defaults:{ajax:!1,search_method:"jstree_contains",show_only_matches:!1},_fn:{search:function(t,n){if(e.trim(t)==="")return this.clear_search(),void 0;var i=this.get_settings().search,a=this,r=function(){},s=function(){};return this.data.search.str=t,!n&&i.ajax!==!1&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0?(this.search.supress_callback=!0,r=function(){},s=function(e,t,n){var i=this.get_settings().search.ajax.success;i&&(e=i.call(this,e,t,n)||e),this.data.search.to_open=e,this._search_open()},i.ajax.context=this,i.ajax.error=r,i.ajax.success=s,e.isFunction(i.ajax.url)&&(i.ajax.url=i.ajax.url.call(this,t)),e.isFunction(i.ajax.data)&&(i.ajax.data=i.ajax.data.call(this,t)),i.ajax.data||(i.ajax.data={search_string:t}),(!i.ajax.dataType||/^json/.exec(i.ajax.dataType))&&(i.ajax.dataType="json"),e.ajax(i.ajax),void 0):(this.data.search.result.length&&this.clear_search(),this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+i.search_method+"("+this.data.search.str+")"),this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){a.open_node(this,!1,!0)}),this.__callback({nodes:this.data.search.result,str:t}),void 0)},clear_search:function(){this.data.search.result.removeClass("jstree-search"),this.__callback(this.data.search.result),this.data.search.result=e()},_search_open:function(){var t=this,n=!0,i=[],a=[];this.data.search.to_open.length&&(e.each(this.data.search.to_open,function(t,n){return"#"==n?!0:(e(n).length&&e(n).is(".jstree-closed")?i.push(n):a.push(n),void 0)}),i.length&&(this.data.search.to_open=a,e.each(i,function(e,n){t.open_node(n,function(){t._search_open(!0)})}),n=!1)),n&&this.search(this.data.search.str,!0)}}})}(jQuery),function(e){e.vakata.context={hide_on_mouseleave:!1,cnt:e("<div id='vakata-contextmenu' />"),vis:!1,tgt:!1,par:!1,func:!1,data:!1,rtl:!1,show:function(t,n,i,a,r,s,o){e.vakata.context.rtl=!!o;var l,c,d=e.vakata.context.parse(t);d&&(e.vakata.context.vis=!0,e.vakata.context.tgt=n,e.vakata.context.par=s||n||null,e.vakata.context.data=r||null,e.vakata.context.cnt.html(d).css({visibility:"hidden",display:"block",left:0,top:0}),e.vakata.context.hide_on_mouseleave&&e.vakata.context.cnt.one("mouseleave",function(){e.vakata.context.hide()}),l=e.vakata.context.cnt.height(),c=e.vakata.context.cnt.width(),i+c>e(document).width()&&(i=e(document).width()-(c+5),e.vakata.context.cnt.find("li > ul").addClass("right")),a+l>e(document).height()&&(a-=l+n[0].offsetHeight,e.vakata.context.cnt.find("li > ul").addClass("bottom")),e.vakata.context.cnt.css({left:i,top:a}).find("li:has(ul)").bind("mouseenter",function(){var t=e(document).width(),n=e(document).height(),i=e(this).children("ul").show();t!==e(document).width()&&i.toggleClass("right"),n!==e(document).height()&&i.toggleClass("bottom")}).bind("mouseleave",function(){e(this).children("ul").hide()}).end().css({visibility:"visible"}).show(),e(document).triggerHandler("context_show.vakata"))},hide:function(){e.vakata.context.vis=!1,e.vakata.context.cnt.attr("class","").css({visibility:"hidden"}),e(document).triggerHandler("context_hide.vakata")},parse:function(t,n){if(!t)return!1;var i="",a=!1,r=!0;return n||(e.vakata.context.func={}),i+="<ul>",e.each(t,function(t,n){return n?(e.vakata.context.func[t]=n.action,!r&&n.separator_before&&(i+="<li class='vakata-separator vakata-separator-before'></li>"),r=!1,i+="<li class='"+(n._class||"")+(n._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ",n.icon&&n.icon.indexOf("/")===-1&&(i+=" class='"+n.icon+"' "),n.icon&&n.icon.indexOf("/")!==-1&&(i+=" style='background:url("+n.icon+") center center no-repeat;' "),i+=">&#160;</ins><a href='#' rel='"+t+"'>",n.submenu&&(i+="<span style='float:"+(e.vakata.context.rtl?"left":"right")+";'>&raquo;</span>"),i+=n.label+"</a>",n.submenu&&(a=e.vakata.context.parse(n.submenu,!0),a&&(i+=a)),i+="</li>",n.separator_after&&(i+="<li class='vakata-separator vakata-separator-after'></li>",r=!0),void 0):!0}),i=i.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,""),i+="</ul>",e(document).triggerHandler("context_parse.vakata"),i.length>10?i:!1},exec:function(t){return e.isFunction(e.vakata.context.func[t])?(e.vakata.context.func[t].call(e.vakata.context.data,e.vakata.context.par),!0):!1}},e(function(){var t="#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";e.vakata.css.add_sheet({str:t,title:"vakata"}),e.vakata.context.cnt.delegate("a","click",function(e){e.preventDefault()}).delegate("a","mouseup",function(){!e(this).parent().hasClass("jstree-contextmenu-disabled")&&e.vakata.context.exec(e(this).attr("rel"))?e.vakata.context.hide():e(this).blur()}).delegate("a","mouseover",function(){e.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body"),e(document).bind("mousedown",function(t){e.vakata.context.vis&&!e.contains(e.vakata.context.cnt[0],t.target)&&e.vakata.context.hide()}),typeof e.hotkeys!="undefined"&&e(document).bind("keydown","up",function(t){if(e.vakata.context.vis){var n=e.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();n.length||(n=e.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()),n.addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault()}}).bind("keydown","down",function(t){if(e.vakata.context.vis){var n=e.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();n.length||(n=e.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()),n.addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault()}}).bind("keydown","right",function(t){e.vakata.context.vis&&(e.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault())}).bind("keydown","left",function(t){e.vakata.context.vis&&(e.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover"),t.stopImmediatePropagation(),t.preventDefault())}).bind("keydown","esc",function(t){e.vakata.context.hide(),t.preventDefault()}).bind("keydown","space",function(t){e.vakata.context.cnt.find(".vakata-hover").last().children("a").click(),t.preventDefault()})}),e.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",e.proxy(function(t){t.preventDefault(),e(t.currentTarget).hasClass("jstree-loading")||this.show_contextmenu(t.currentTarget,t.pageX,t.pageY)},this)).delegate("a","click.jstree",e.proxy(function(){this.data.contextmenu&&e.vakata.context.hide()},this)).bind("destroy.jstree",e.proxy(function(){this.data.contextmenu&&e.vakata.context.hide()},this)),e(document).bind("context_hide.vakata",e.proxy(function(){this.data.contextmenu=!1},this))},defaults:{select_node:!1,show_at_node:!0,items:{create:{separator_before:!1,separator_after:!0,label:"Create",action:function(e){this.create(e)}},rename:{separator_before:!1,separator_after:!1,label:"Rename",action:function(e){this.rename(e)}},remove:{separator_before:!1,icon:!1,separator_after:!1,label:"Delete",action:function(e){this.is_selected(e)?this.remove():this.remove(e)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){this.cut(e)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){this.copy(e)}},paste:{separator_before:!1,icon:!1,separator_after:!1,label:"Paste",action:function(e){this.paste(e)}}}}}},_fn:{show_contextmenu:function(t,n,i){t=this._get_node(t);var a=this.get_settings().contextmenu,r=t.children("a:visible:eq(0)"),s=!1,o=!1;a.select_node&&this.data.ui&&!this.is_selected(t)&&(this.deselect_all(),this.select_node(t,!0)),(a.show_at_node||"undefined"==typeof n||"undefined"==typeof i)&&(s=r.offset(),n=s.left,i=s.top+this.data.core.li_height),o=t.data("jstree")&&t.data("jstree").contextmenu?t.data("jstree").contextmenu:a.items,e.isFunction(o)&&(o=o.call(this,t)),this.data.contextmenu=!0,e.vakata.context.show(o,r,n,i,this,t,this._get_settings().core.rtl),this.data.themes&&e.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}})}(jQuery),function(t){t.jstree.plugin("types",{__init:function(){var n=this._get_settings().types;this.data.types.attach_to=[],this.get_container().bind("init.jstree",t.proxy(function(){var e=n.types,i=n.type_attr,a="",r=this;t.each(e,function(e,n){return t.each(n,function(e){/^(max_depth|max_children|icon|valid_children)$/.test(e)||r.data.types.attach_to.push(e)}),n.icon?((n.icon.image||n.icon.position)&&(a+="default"==e?".jstree-"+r.get_index()+" a > .jstree-icon { ":".jstree-"+r.get_index()+" li["+i+'="'+e+'"] > a > .jstree-icon { ',n.icon.image&&(a+=" background-image:url("+n.icon.image+"); "),a+=n.icon.position?" background-position:"+n.icon.position+"; ":" background-position:0 0; ",a+="} "),void 0):!0}),""!==a&&t.vakata.css.add_sheet({str:a,title:"jstree-types"})},this)).bind("before.jstree",t.proxy(function(e,n){var i,a,r=this._get_settings().types.use_data?this._get_node(n.args[0]):!1,s=r&&-1!==r&&r.length?r.data("jstree"):!1;if(s&&s.types&&s.types[n.func]===!1)return e.stopImmediatePropagation(),!1;if(t.inArray(n.func,this.data.types.attach_to)!==-1){if(!n.args[0]||!n.args[0].tagName&&!n.args[0].jquery)return;
if(i=this._get_settings().types.types,a=this._get_type(n.args[0]),(i[a]&&typeof i[a][n.func]!="undefined"||i["default"]&&typeof i["default"][n.func]!="undefined")&&this._check(n.func,n.args[0])===!1)return e.stopImmediatePropagation(),!1}},this)),e&&this.get_container().bind("load_node.jstree set_type.jstree",t.proxy(function(e,n){var i=n&&n.rslt&&n.rslt.obj&&n.rslt.obj!==-1?this._get_node(n.rslt.obj).parent():this.get_container_ul(),a=!1,r=this._get_settings().types;t.each(r.types,function(e,t){t.icon&&(t.icon.image||t.icon.position)&&(a="default"===e?i.find("li > a > .jstree-icon"):i.find("li["+r.type_attr+"='"+e+"'] > a > .jstree-icon"),t.icon.image&&a.css("backgroundImage","url("+t.icon.image+")"),a.css("backgroundPosition",t.icon.position||"0 0"))})},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:!1,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(e,t){t.type&&this._get_settings().types.use_data&&this.set_type(t.type,e)},_get_type:function(e){return e=this._get_node(e),e&&e.length?e.attr(this._get_settings().types.type_attr)||"default":!1},set_type:function(e,t){t=this._get_node(t);var n=t.length&&e?t.attr(this._get_settings().types.type_attr,e):!1;return n&&this.__callback({obj:t,type:e}),n},_check:function(e,n,i){n=this._get_node(n);var a=!1,r=this._get_type(n),s=0,o=this,l=this._get_settings().types,c=!1;if(-1===n){if(!l[e])return;a=l[e]}else{if(r===!1)return;c=l.use_data?n.data("jstree"):!1,c&&c.types&&typeof c.types[e]!="undefined"?a=c.types[e]:l.types[r]&&typeof l.types[r][e]!="undefined"?a=l.types[r][e]:l.types["default"]&&typeof l.types["default"][e]!="undefined"&&(a=l.types["default"][e])}return t.isFunction(a)&&(a=a.call(this,n)),"max_depth"===e&&-1!==n&&i!==!1&&l.max_depth!==-2&&0!==a&&n.children("a:eq(0)").parentsUntil(".jstree","li").each(function(t){return l.max_depth!==-1&&l.max_depth-(t+1)<=0?(a=0,!1):(s=0===t?a:o._check(e,this,!1),-1!==s&&0>=s-(t+1)?(a=0,!1):(s>=0&&(a>s-(t+1)||0>a)&&(a=s-(t+1)),l.max_depth>=0&&(l.max_depth-(t+1)<a||0>a)&&(a=l.max_depth-(t+1)),void 0))}),a},check_move:function(){if(!this.__call_old())return!1;var e,n=this._get_move(),i=n.rt._get_settings().types,a=n.rt._check("max_children",n.cr),r=n.rt._check("max_depth",n.cr),s=n.rt._check("valid_children",n.cr),o=0,l=1;if("none"===s)return!1;if(t.isArray(s)&&n.ot&&n.ot._get_type&&(n.o.each(function(){return t.inArray(n.ot._get_type(this),s)===-1?(l=!1,!1):void 0}),l===!1))return!1;if(i.max_children!==-2&&-1!==a&&(o=n.cr===-1?this.get_container().find("> ul > li").not(n.o).length:n.cr.find("> ul > li").not(n.o).length,o+n.o.length>a))return!1;if(i.max_depth!==-2&&-1!==r){if(l=0,0===r)return!1;if(typeof n.o.d=="undefined"){for(e=n.o;e.length>0;)e=e.find("> ul > li"),l++;n.o.d=l}if(r-n.o.d<0)return!1}return!0},create_node:function(e,n,i,a,r,s){if(!s&&(r||this._is_loaded(e))){var o,l="string"==typeof n&&n.match(/^before|after$/i)&&-1!==e?this._get_parent(e):this._get_node(e),c=this._get_settings().types,d=this._check("max_children",l),h=this._check("max_depth",l),u=this._check("valid_children",l);if("string"==typeof i&&(i={data:i}),i||(i={}),"none"===u)return!1;if(t.isArray(u))if(i.attr&&i.attr[c.type_attr]){if(t.inArray(i.attr[c.type_attr],u)===-1)return!1}else i.attr||(i.attr={}),i.attr[c.type_attr]=u[0];if(c.max_children!==-2&&-1!==d&&(o=-1===l?this.get_container().find("> ul > li").length:l.find("> ul > li").length,o+1>d))return!1;if(c.max_depth!==-2&&-1!==h&&0>h-1)return!1}return this.__call_old(!0,e,n,i,a,r,s)}}})}(jQuery),function(e){e.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(!0),this.data.html_data.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:!1,ajax:!1,correct_state:!0},_fn:{load_node:function(e,t,n){var i=this;this.load_node_html(e,function(){i.__callback({obj:i._get_node(e)}),t.call(this)},n)},_is_loaded:function(t){return t=this._get_node(t),-1==t||!t||!this._get_settings().html_data.ajax&&!e.isFunction(this._get_settings().html_data.data)||t.is(".jstree-open, .jstree-leaf")||t.children("ul").children("li").size()>0},load_node_html:function(t,n,i){var a,r=this.get_settings().html_data,s=function(){},o=function(){};if(t=this._get_node(t),t&&-1!==t){if(t.data("jstree_is_loading"))return;t.data("jstree_is_loading",!0)}switch(!0){case e.isFunction(r.data):r.data.call(this,t,e.proxy(function(i){i&&""!==i&&i.toString&&i.toString().replace(/^[\s\n]+$/,"")!==""?(i=e(i),i.is("ul")||(i=e("<ul />").append(i)),-1!=t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(i).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(i.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(t),n&&n.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),r.correct_state&&(this.correct_state(t),n&&n.call(this))):r.correct_state&&(this.get_container().children("ul").empty(),n&&n.call(this))},this));break;case!r.data&&!r.ajax:t&&-1!=t||(this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),n&&n.call(this);break;case!!r.data&&!r.ajax||!!r.data&&!!r.ajax&&(!t||-1===t):t&&-1!=t||(a=e(r.data),a.is("ul")||(a=e("<ul />").append(a)),this.get_container().children("ul").empty().append(a.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node()),n&&n.call(this);break;case!r.data&&!!r.ajax||!!r.data&&!!r.ajax&&t&&-1!==t:t=this._get_node(t),s=function(e,n,a){var s=this.get_settings().html_data.ajax.error;s&&s.call(this,e,n,a),-1!=t&&t.length?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),"success"===n&&r.correct_state&&this.correct_state(t)):"success"===n&&r.correct_state&&this.get_container().children("ul").empty(),i&&i.call(this)},o=function(i,a,o){var l=this.get_settings().html_data.ajax.success;return l&&(i=l.call(this,i,a,o)||i),""===i||i&&i.toString&&i.toString().replace(/^[\s\n]+$/,"")===""?s.call(this,o,a,""):(i?(i=e(i),i.is("ul")||(i=e("<ul />").append(i)),-1!=t&&t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.append(i).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),t.removeData("jstree_is_loading")):this.get_container().children("ul").empty().append(i.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon"),this.clean_node(t),n&&n.call(this)):t&&-1!==t?(t.children("a.jstree-loading").removeClass("jstree-loading"),t.removeData("jstree_is_loading"),r.correct_state&&(this.correct_state(t),n&&n.call(this))):r.correct_state&&(this.get_container().children("ul").empty(),n&&n.call(this)),void 0)},r.ajax.context=this,r.ajax.error=s,r.ajax.success=o,r.ajax.dataType||(r.ajax.dataType="html"),e.isFunction(r.ajax.url)&&(r.ajax.url=r.ajax.url.call(this,t)),e.isFunction(r.ajax.data)&&(r.ajax.data=r.ajax.data.call(this,t)),e.ajax(r.ajax)}}}}),e.jstree.defaults.plugins.push("html_data")}(jQuery),function(e){e.jstree.plugin("themeroller",{__init:function(){var t=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(n){e(n.currentTarget).hasClass("jstree-loading")||e(this).addClass(t.item_h)}).delegate("a","mouseleave.jstree",function(){e(this).removeClass(t.item_h)}).bind("init.jstree",e.proxy(function(e,t){t.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh"),this._themeroller(t.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",e.proxy(function(){this._themeroller()},this)).bind("close_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.obj)},this)).bind("delete_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.parent)},this)).bind("correct_state.jstree",e.proxy(function(e,n){n.rslt.obj.children("ins.jstree-icon").removeClass(t.opened+" "+t.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_open+" "+t.item_clsd).addClass(t.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",e.proxy(function(e,n){n.rslt.obj.children("a").addClass(t.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",e.proxy(function(){this.get_container().find("a."+t.item_a).removeClass(t.item_a).end().find("a.jstree-clicked").addClass(t.item_a)},this)).bind("dehover_node.jstree",e.proxy(function(e,n){n.rslt.obj.children("a").removeClass(t.item_h)},this)).bind("hover_node.jstree",e.proxy(function(e,n){this.get_container().find("a."+t.item_h).not(n.rslt.obj).removeClass(t.item_h),n.rslt.obj.children("a").addClass(t.item_h)},this)).bind("move_node.jstree",e.proxy(function(e,t){this._themeroller(t.rslt.o),this._themeroller(t.rslt.op)},this))},__destroy:function(){var t=this._get_settings().themeroller,n=["ui-icon"];e.each(t,function(e,t){t=t.split(" "),t.length&&(n=n.concat(t))}),this.get_container().removeClass("ui-widget-content").find("."+n.join(", .")).removeClass(n.join(" "))},_fn:{_themeroller:function(e){var t=this._get_settings().themeroller;e=e&&-1!=e?this._get_node(e):this.get_container_ul(),e=e&&-1!=e?e.parent():this.get_container_ul(),e.find("li.jstree-closed").children("ins.jstree-icon").removeClass(t.opened).addClass("ui-icon "+t.closed).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_leaf+" "+t.item_open).addClass(t.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(t.closed).addClass("ui-icon "+t.opened).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_leaf+" "+t.item_clsd).addClass(t.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(t.closed+" ui-icon "+t.opened).end().children("a").addClass(t.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(t.item_clsd,"").replace(t.item_open,"").replace(t.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(t.item_clsd+" "+t.item_open).addClass(t.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}}),e(function(){var t=".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }";e.vakata.css.add_sheet({str:t,title:"jstree"})})}(jQuery),function(e){e.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",e.proxy(function(t,n){var i,a,r=[],s=!0;return n.func=="move_node"&&n.args[4]===!0&&n.args[0].o&&n.args[0].o.length&&(n.args[0].o.children("a").each(function(){r.push(e(this).text().replace(/^\s+/g,""))}),s=this._check_unique(r,n.args[0].np.find("> ul > li").not(n.args[0].o),"move_node")),n.func=="create_node"&&(n.args[4]||this._is_loaded(n.args[0]))&&(i=this._get_node(n.args[0]),!n.args[1]||n.args[1]!=="before"&&n.args[1]!=="after"||(i=this._get_parent(n.args[0]),i&&-1!==i||(i=this.get_container())),typeof n.args[2]=="string"?r.push(n.args[2]):n.args[2]&&n.args[2].data?r.push(n.args[2].data):r.push(this._get_string("new_node")),s=this._check_unique(r,i.find("> ul > li"),"create_node")),n.func=="rename_node"&&(r.push(n.args[1]),a=this._get_node(n.args[0]),i=this._get_parent(a),i&&-1!==i||(i=this.get_container()),s=this._check_unique(r,i.find("> ul > li").not(a),"rename_node")),s?void 0:(t.stopPropagation(),!1)},this))},defaults:{error_callback:e.noop},_fn:{_check_unique:function(t,n,i){var a=[],r=!0;return n.children("a").each(function(){a.push(e(this).text().replace(/^\s+/g,""))}),a.length&&t.length?(e.each(t,function(t,n){return e.inArray(n,a)!==-1?(r=!1,!1):void 0}),r||this._get_settings().unique.error_callback.call(null,t,n,i),r):!0},check_move:function(){if(!this.__call_old())return!1;var t=this._get_move(),n=[];return t.o&&t.o.length?(t.o.children("a").each(function(){n.push(e(this).text().replace(/^\s+/g,""))}),this._check_unique(n,t.np.find("> ul > li").not(t.o),"check_move")):!0}}})}(jQuery),function(i){i.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui)throw"jsTree wholerow: jsTree UI plugin not included.";this.data.wholerow.html=!1,this.data.wholerow.to=!1,this.get_container().bind("init.jstree",i.proxy(function(){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",i.proxy(function(e,t){this._prepare_wholerow_span(t&&t.rslt&&t.rslt.obj?t.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",i.proxy(function(e,t){this.data.to&&clearTimeout(this.data.to),this.data.to=setTimeout(function(e,t){return function(){e._prepare_wholerow_ul(t)}}(this,t&&t.rslt&&t.rslt.obj?t.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",i.proxy(function(){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",i.proxy(function(e,t){t.rslt.obj.each(function(){var e=t.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((i(this).offset().top-t.inst.get_container().offset().top+t.inst.get_container()[0].scrollTop)/t.inst.data.core.li_height,10)+")");e.children("a").attr("class",t.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",i.proxy(function(e,t){if(this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:"")),e.type==="hover_node"){var n=this.get_container().find(" > .jstree-wholerow li:visible:eq("+parseInt((t.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height,10)+")");n.children("a").attr("class",t.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(e){var t=i(e.currentTarget);e.target.tagName==="A"||e.target.tagName==="INS"&&t.closest("li").is(".jstree-open, .jstree-closed")||(t.closest("li").children("a:visible:eq(0)").click(),e.stopImmediatePropagation())}).delegate("li","mouseover.jstree",i.proxy(function(e){return e.stopImmediatePropagation(),i(e.currentTarget).children(".jstree-hovered, .jstree-clicked").length?!1:(this.hover_node(e.currentTarget),!1)},this)).delegate("li","mouseleave.jstree",i.proxy(function(e){i(e.currentTarget).children("a").hasClass("jstree-hovered").length||this.dehover_node(e.currentTarget)},this)),(t||e)&&i.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove(),this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(e){e=e&&-1!=e?this._get_node(e):this.get_container().find("> ul > li"),e!==!1&&e.each(function(){i(this).find("li").addBack().each(function(){var e=i(this);return e.children(".jstree-wholerow-span").length?!0:(e.prepend("<span class='jstree-wholerow-span' style='width:"+e.parentsUntil(".jstree","li").length*18+"px;'>&#160;</span>"),void 0)})})},_prepare_wholerow_ul:function(){var e=this.get_container().children("ul").eq(0),n=e.html();e.addClass("jstree-wholerow-real"),this.data.wholerow.last_html!==n&&(this.data.wholerow.last_html=n,this.get_container().children(".jstree-wholerow").remove(),this.get_container().append(e.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(e.parent()[0].scrollWidth).css("top",(e.height()+(t?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id")}).end()))}}}),i(function(){var a=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";n&&(a+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } "),(t||e)&&(a+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } "),i.vakata.css.add_sheet({str:a,title:"jstree"})})}(jQuery),function(e){var t=["getChildren","getChildrenCount","getAttr","getName","getProps"],n=function(t,n){var i=!0;return t=t||{},n=[].concat(n),e.each(n,function(n,a){return e.isFunction(t[a])?void 0:(i=!1,!1)}),i};e.jstree.plugin("model",{__init:function(){if(!this.data.json_data)throw"jsTree model: jsTree json_data plugin not included.";this._get_settings().json_data.data=function(i,a){var r=-1==i?this._get_settings().model.object:i.data("jstree_model");return n(r,t)?(this._get_settings().model.async?r.getChildren(e.proxy(function(e){this.model_done(e,a)},this)):this.model_done(r.getChildren(),a),void 0):a.call(null,!1)}},defaults:{object:!1,id_prefix:!1,async:!1},_fn:{model_done:function(t,n){var i=[],a=this._get_settings(),r=this;e.isArray(t)||(t=[t]),e.each(t,function(t,n){var s=n.getProps()||{};s.attr=n.getAttr()||{},n.getChildrenCount()&&(s.state="closed"),s.data=n.getName(),e.isArray(s.data)||(s.data=[s.data]),r.data.types&&e.isFunction(n.getType)&&(s.attr[a.types.type_attr]=n.getType()),s.attr.id&&a.model.id_prefix&&(s.attr.id=a.model.id_prefix+s.attr.id),s.metadata||(s.metadata={}),s.metadata.jstree_model=n,i.push(s)}),n.call(null,i)}}})}(jQuery)}})();
define("jstree", ["jquery"], function(){});

define('bindings/tree-view',["knockout","jquery","jstree"],function(e,t){var n=function(e,i){if(e){var a;return t.each(e,function(e,t){a||(a=t.metadata.id==i?t:n(t.children,i))}),a}};e.bindingHandlers.treeView={update:function(i,a,r){var s=a(),o=r().value,l=e.utils.unwrapObservable(s),c={data:l},d=function(e){var n=o&&o.editing()&&(!e||!t(e.target).is(".view"));n&&o.editing(!1)};t(i).jstree({json_data:c,plugins:["themes","json_data","ui"]}).bind("select_node.jstree",function(e,t){if(r().value){var i=t.rslt.obj.data("id"),a=n(l,i);o(a.metadata)}}),e.utils.registerEventHandler(document,"keyup",function(e){var t=e.keyCode||e.which;return 27==t?(d(),void 0):void 0}),e.utils.registerEventHandler(document,"click",function(e){var n=t(i).has(e.target).length>0;n||d(e)}),e.utils.domNodeDisposal.addDisposeCallback(i,function(){t(i).jstree("destroy")})}}});
define('bindings/auto-size',["knockout","jquery"],function(e,t){e.bindingHandlers.autoSize={init:function(e){t(e).autoGrowInput({comfortZone:5,minWidth:20,maxWidth:2e3}).width(20)}},t.fn.autoGrowInput=function(e){return e=t.extend({maxWidth:1e3,minWidth:0,comfortZone:70},e),this.filter("input:text").each(function(){var n=e.minWidth||t(this).width(),i="",a=t(this),r=t("<div/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),letterSpacing:a.css("letterSpacing"),whiteSpace:"nowrap"}),s=function(){if(i!==(i=a.val())){var t=i.replace(/&/g,"&amp;").replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");r.html(t);var s=r.width(),o=s+e.comfortZone>=n?s+e.comfortZone:n,l=a.width(),c=l>o&&o>=n||o>n&&o<e.maxWidth;c&&a.width(o)}};r.insertAfter(a),t(this).bind("keyup keydown blur update focus",s)}),this}});
define('modules/input-mask',[],function(){var e={integerOnly:/^[0-9]+$/g,floatOnly:/^\d*\.?\d*$/g,numericOnly:/^-?[0-9]*\.?[0-9]*$/g,alphaOnly:/^[A-Za-z]+$/g};return function(t,n,i){if(!n)var n=window.event;n.keyCode?code=n.keyCode:n.which&&(code=n.which);var a=String.fromCharCode(code),r=t.value+a;return 27==code?(this.blur(),!1):n.ctrlKey||9==code||8==code||36==code||37==code||38==code||39==code&&(39!=code||"'"!=a)||40==code?void 0:r.match(e[i])?!0:!1}});
define('bindings/mask',["knockout","modules/input-mask"],function(e,t){var n=13;e.bindingHandlers.mask={init:function(e,i){e.onkeypress=function(a){return a.keyCode!=n?t(e,a,i()):void 0}}}});
define('bindings/flash',["knockout","jquery"],function(e,t){e.bindingHandlers.flash={init:function(e){t(e).hide()},update:function(n,i,a){var r=e.utils.unwrapObservable(i()),s=a();r?t(n).stop().hide().text(r).fadeIn(function(){clearTimeout(t(n).data("duration")),t(n).data("duration",setTimeout(function(){t(n).fadeOut(),i()(null)},s.flashDuration||e.bindingHandlers.flash.duration))}):(t(n).hide(),clearTimeout(t(n).data("duration")))},duration:6e3}});
define('bindings/tooltip',["knockout","jquery"],function(e,t){e.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},e.bindingHandlers.tooltip={update:function(n,i,a,r,s){var o=t(n),l=e.utils.unwrapObservable(i());if(l){var c=o.parents().find("#"+l.template).children().clone();e.applyBindingsToNode(c[0],{"with":l.data},s.$root),o.after(c),c.css("visibility","hidden");var d;o.mouseenter(function(e){clearTimeout(d);var t=function(){c.css("visibility","visible");var t=o.offset();c.offset({top:t.top,left:e.pageX+10})};d=setTimeout(t,250)}).mouseleave(function(){clearTimeout(d),d=setTimeout(function(){c.css("visibility","hidden")},100)}),c.mouseenter(function(){clearTimeout(d)}).mouseleave(function(){clearTimeout(d),d=setTimeout(function(){c.css("visibility","hidden")},100)})}}}});
define('bindings/init',['require','bindings/extensions','bindings/editor','bindings/i18n','bindings/tree-view','bindings/auto-size','bindings/mask','bindings/flash','bindings/tooltip'],function(require){return{init:function(){require("bindings/extensions"),require("bindings/editor"),require("bindings/i18n"),require("bindings/tree-view"),require("bindings/auto-size"),require("bindings/mask"),require("bindings/flash"),require("bindings/tooltip")}}});
define('api/filter',["jquery"],function(e){var t=function(e){var t=e.limit?e.limit>2e3?2e3:e.limit:2e3,n=e.offset?e.offset>2e3?2e3:e.offset:0;return" LIMIT "+t+" OFFSET "+n+" "},n=function(e){var t=e.sortby?" ORDER BY "+e.sortby:"",n=t?e.sortdir?e.sortdir.toUpperCase():"":"",i=t?"NULLS LAST":"";return t+" "+n+" "+i},i=function(i,a){for(var a=a||{},r=e.extend([],i),s=0;s<r.length;s++){var o=r[s].substring(r[s].indexOf("{")+1,r[s].indexOf("}")),l=new RegExp("{"+o+"}","g");o&&(r[s]=a[o]?r[s].replace(l,a[o]):"")}return r.push(n(a)),r.push(t(a)),r.join(" ")};return{apply:function(e,t){return i(e,t)}}});
define('api/soql',[],function(){return{catalogItemTypes:[" SELECT Id, Name, DeveloperName  "," FROM recordtype "," WHERE sobjecttype = '"+window.fxNamespacePrefix+"Catalog_Item__c' "],classifications:[" SELECT Id, Name, P__c, Breadcrumb__c "," FROM Classification__c "," WHERE Id != null "],priceList:[" SELECT Id, Name, Account__c, Account_Name__c, Office_Name__c, Effective_Date__c, Expiration_Date__c "," FROM Price_Book__c "," WHERE Id != null "," AND Id = '{priceListId}' "],priceListItems:[" SELECT Id, Name, Catalog_Description__c, Description_Override__c, Catalog_Classification__c, Catalog_Item_Code__c, Price__c, Catalog_Item__c, Catalog_Record_Type__c, Discount_Percent__c, Default_Quantity__c, Minimum_Quantity__c, Maximum_Quantity__c, Included_Quantity__c, Locked_Price_Markup__c, Requires_Parent_Item__c, Sequence_Number__c, Locked_Discount__c, Catalog_UOM__c, Catalog_Cost__c, Minimum_Charge__c  "," FROM Price_Book_Item__c  "," WHERE Id != null "," AND Price_Book__c = '{priceListId}' "," AND (Catalog_Item_Code__c LIKE '%{keyword}%' OR Catalog_Description__c LIKE '%{keyword}%' OR Description_Override__c LIKE '%{keyword}%') "," AND Catalog_Classification__c in ({classification}) "," AND Catalog_Record_Type__c = '{itemType}' "],catalogItems:["SELECT Id, Name_Unique__c, RecordTypeId, Description__c, Classification__c, Classification__r.Breadcrumb__c, Sequence_Number__c, UOM__c "," FROM Catalog_Item__c "," WHERE Id != null "," AND Id not in (SELECT Catalog_Item__c FROM Price_Book_Item__c WHERE Price_Book__c = '{priceListId}' ) "," AND Equipment_Selector__c in ({onlyShowEquipRequired}) "," AND (Name_Unique__c LIKE '%{keyword}%' OR Description__c LIKE '%{keyword}%') "," AND Classification__c in ({classification}) "," AND RecordTypeId = '{itemType}' "]}});
define('api/api',["jquery","knockout","api/filter","api/soql"],function(e,t,n,i){t.pauseableDependentObservable=function(e,n){var i="",a=t.observable(!1),r=t.dependentObservable(function(){return a()?i:e.call(n)},n);return r.reevaluatedCount=t.observable(0),r.subscribe(function(){this.reevaluatedCount(this.reevaluatedCount()+1)},r),r.pause=function(){i=this(),a(!0)}.bind(r),r.resume=function(){i="",a(!1)},r},t.subscribable.fn.subscribeChanged=function(e){var t;this.subscribe(function(e){t=e},void 0,"beforeChange"),this.subscribe(function(n){e(n,t,this)})};var a=function(t){var n=window.sforce,i=new e.Deferred;if(!n)throw"null exception: sforce";return n.connection.query(t,{onSuccess:function(t){var n=[];t.records&&(n=e.isArray(t.records)?t.records:[t.records]),i.resolve(n)},onFailure:i.reject}),i},r={trackChanges:function(n,i){var a=[],r=[];return e.each(i,function(i,s){var o=n[s],l=n.Id;l&&o&&t.isObservable(o)&&o.subscribeChanged(function(t,i){var c=null,d=new sforce.SObject(n.type);""===t&&(t=null),d.Id=l,d[s]=t;try{result=sforce.connection.update([d]),result.length==0||result[0].getBoolean("success")||(c=result[0].errors.message)}catch(u){c=u.faultstring}e.each(r,function(e,t){t()}),c&&(e.each(a,function(e,t){t(c)}),o(i))})}),{fail:function(e){a.push(e)},clear:function(e){r.push(e)}}},bulkUpdate:function(t){var n=[],i=new e.Deferred;if(t.length>0){var a=[];t.forEach(function(t){var n=new sforce.SObject(t.type),i=Object.keys(t);e.each(i,function(e,i){"type"!=i&&(n[i]=t[i])}),a.push(n)});var r=sforce.connection.update(a);r&&s(r,n)}return n.length>0?i.reject(n):i.resolve(),i.promise()},bulkCreate:function(t){var n=[],i=new e.Deferred;if(t.length>0){var a=[];t.forEach(function(t){var n=new sforce.SObject(t.type),i=Object.keys(t);e.each(i,function(e,i){"type"!=i&&(n[i]=t[i])}),a.push(n)});var r=sforce.connection.create(a);r&&s(r,n)}return n.length>0?i.reject(n):i.resolve(),i.promise()},bulkDelete:function(t){var n=[],i=new e.Deferred;if(t.length>0){var a=[];t.forEach(function(e){a.push(e.Id)});var r=sforce.connection.deleteIds(a);r&&s(r,n)}return n.length>0?i.reject(n):i.resolve(),i.promise()}},s=function(t,n){e.each(t,function(e,t){t.getBoolean("success")||n.indexOf(t.errors.message)==-1&&n.push(t.errors.message)})},o=function(){var e=i[l];return"string"==typeof e?void 0:function(t){return a(n.apply(e,t))}};for(var l in i)r[l]=o(l);return r});
define('modules/normalize-id',[],function(){return function(e){var e=e||"",t="";if(e=e.replace(/\"/g,""),!e||e.length!=15)return null;for(var n=0;3>n;n++){for(var i=0,a=0;5>a;a++){var r=e.charAt(5*n+a);r>="A"&&"Z">=r&&(i+=1<<a)}t+=25>=i?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(i):"012345".charAt(i-26)}return e+t}});
define('viewmodels/classification',["knockout","jquery","api/api"],function(e,t,n){var i=function(){this.classificationTree=e.observableArray([]),this.selectedClassification=e.observable(),this.list=e.observableArray([]),this.buildTree=function(n,i){var a=this,r=e.utils.arrayFilter(i,function(e){return e.P__c===n.Id?n:void 0});return r.sort(function(e,t){return e.Name==t.Name?0:e.Name<t.Name?-1:1}),{data:n.Name,metadata:{id:n.Id,breadcrumb:n.Breadcrumb__c,item:n,matches:"ItemClassification"==n.Breadcrumb__c?null:this.getMatches(n.Breadcrumb__c)},children:t.map(r,function(e){return a.buildTree(e,i)})}},this.activate=function(){var i=this;n.classifications().done(function(n){list=e.observableArray(n);var a=t.grep(list(),function(e){return!e.P__c});i.classificationTree(t.map(a,function(e){return i.buildTree(e,list())}))})},this.getMatchesByBreadcrumb=function(t){var n=e.utils.arrayFilter(list(),function(e){return e.Breadcrumb__c.indexOf(t)!=-1});return e.utils.arrayMap(n,function(e){return e.Id})},this.getMatches=function(t){var n=null;if(t){var i=this.getMatchesByBreadcrumb(t);n="",e.utils.arrayForEach(i,function(e){n&&(n+=","),n+="'"+e+"'"})}return n},e.utils.extend(this.selectedClassification,{items:this.classificationTree,activate:this.activate,classificationTree:this.classificationTree,buildTree:this.buildTree,getMatchesByBreadcrumb:this.getMatchesByBreadcrumb,getMatches:this.getMatches})};return i});
define('modules/pager',["knockout"],function(e){function t(t,n){function i(){var e=this.limit()*(this.page()-1);this.paginated(t().slice(e,e+this.limit()))}var a=!(!n||!n.source);t.pager=this,t.paginated=this.paginated=e.observableArray([]),this.page=e.observable(1),this.totalCount=e.computed({read:function(){return a?this.totalCount.value:e.utils.unwrapObservable(t).length},write:function(e){this.totalCount.value=e},deferEvaluation:!0,owner:this}),this.totalPages=e.computed({read:function(){var t=e.utils.unwrapObservable(this.totalCount)||0,n=e.utils.unwrapObservable(this.limit),i=Math.ceil(t/n);return 0===i?1:i},deferEvaluation:!0,owner:this}),this.limit=e.isObservable(n.limit)?n.limit:e.observable(n.limit||25),e.computed(function(){t(),a||i.call(this)},this),e.computed(function(){a||i.call(this)},this),e.computed(function(){this.limit(),this.page(1)},this),e.computed(function(){[this.limit(),this.page()],a&&n.source.call(t)},this),e.computed(function(){a&&this.paginated(t().slice(0,this.limit()))},this)}return t.prototype.next=function(){var e=this.page();e<this.totalPages()&&this.page(e+1)},t.prototype.previous=function(){var e=this.page();this.page(1===e?1:e-1)},t.prototype.first=function(){this.page(1)},t.prototype.last=function(){this.page(this.totalPages())},e.observableArray.fn.paginate=function(e){return e=e||{},this.pager=new t(this,e),this},{paginate:function(e,t){if(!e||!e.paginate)throw new Error("Pagination can only be applied to observableArrays");e.paginate(t)}}});
/*
===============================================================================
    Author:     Eric M. Barnard - @ericmbarnard                                
    License:    MIT (http://opensource.org/licenses/mit-license.php)           
                                                                               
    Description: Validation Library for KnockoutJS                             
===============================================================================
*/
(function(a){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?a(require("knockout"),exports):typeof define=="function"&&define.amd?define('validation',["knockout","exports"],a):a(ko,ko.validation={})})(function(a,b){function k(a,c,d){return c.validator(a(),d.params===undefined?!0:d.params)?!0:(a.error=b.formatMessage(d.message||c.message,d.params),a.__valid__(!1),!1)}function l(a,c,d){a.isValidating(!0);var e=function(e){var f=!1,g="";if(!a.__valid__()){a.isValidating(!1);return}e.message?(f=e.isValid,g=e.message):f=e,f||(a.error=b.formatMessage(g||d.message||c.message,d.params),a.__valid__(f)),a.isValidating(!1)};c.validator(a(),d.params||!0,e)}if(typeof a===undefined)throw"Knockout is required, please ensure it is loaded before loading this validation plug-in";var c=b;a.validation=c;var d={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateElement:!1,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",grouping:{deep:!1,observable:!0}},e=a.utils.extend({},d),f=["required","pattern","min","max","step"],g=["email","number","date"],h=function(a){window.setImmediate?window.setImmediate(a):window.setTimeout(a,0)},i=function(){var a=(new Date).getTime(),b={},c="__ko_validation__";return{isArray:function(a){return a.isArray||Object.prototype.toString.call(a)==="[object Array]"},isObject:function(a){return a!==null&&typeof a=="object"},values:function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a, c)&&b.push(a[c]);return b},getValue:function(a){return typeof a=="function"?a():a},hasAttribute:function(a,b){return a.getAttribute(b)!==null},getAttribute:function(a,b){return a.getAttribute(b)},setAttribute:function(a,b,c){return a.setAttribute(b,c)},isValidatable:function(a){return a&&a.rules&&a.isValid&&a.isModified},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},newId:function(){return a+=1},getConfigOptions:function(a){var b=i.contextFor(a);return b||e},setDomData:function(a,d){var e=a[c];e||(a[c]=e=i.newId()),b[e]=d},getDomData:function(a){var d=a[c];return d?b[d]:undefined},contextFor:function(a){switch(a.nodeType){case 1:case 8:var b=i.getDomData(a);if(b)return b;if(a.parentNode)return i.contextFor(a.parentNode)}return undefined},isEmptyVal:function(a){if(a===undefined)return!0;if(a===null)return!0;if(a==="")return!0}}}(),j=function(){var c=0;return{utils:i,init:function(d,f){if(c>0&&!f)return;d=d||{},d.errorElementClass=d.errorElementClass||d.errorClass||e.errorElementClass,d.errorMessageClass=d.errorMessageClass||d.errorClass||e.errorMessageClass,a.utils.extend(e,d),e.registerExtenders&&b.registerExtenders(),c=1},configure:function(a){b.init(a)},reset:function(){e=$.extend(e,d)},group:function(b,c){var c=a.utils.extend(e.grouping,c),d=a.observableArray([]),f=null,g=function h(b,e){var f=[],g=a.utils.unwrapObservable(b);e=e!==undefined?e:c.deep?1:-1,a.isObservable(b)&&(b.isValid||b.extend({validatable:!0}),d.push(b)),g&&(i.isArray(g)?f=g:i.isObject(g)&&(f=i.values(g))),e!==0&&a.utils.arrayForEach(f,function(a){a&&!a.nodeType&&h(a,e+1)})};return c.observable?(g(b),f=a.computed(function(){var b=[];return a.utils.arrayForEach(d(),function(a){a.isValid()||b.push(a.error)}),b})):f=function(){var c=[];return d([]),g(b),a.utils.arrayForEach(d(),function(a){a.isValid()||c.push(a.error)}),c},f.showAllMessages=function(b){b==undefined&&(b=!0),f(),a.utils.arrayForEach(d(),function(a){a.isModified(b)})},b.errors=f,b.isValid=function(){return b.errors().length===0},b.isAnyMessageShown=function(){var b=!1;return f(),a.utils.arrayForEach(d(),function(a){!a.isValid()&&a.isModified()&&(b=!0)}),b},f},formatMessage:function(a,b){return typeof a=="function"?a(b):a.replace(/\{0\}/gi,b)},addRule:function(a,b){return a.extend({validatable:!0}),a.rules.push(b),a},addAnonymousRule:function(a,c){var d=i.newId();c.message===undefined&&(c.message="Error"),b.rules[d]=c,b.addRule(a,{rule:d,params:c.params})},addExtender:function(c){a.extenders[c]=function(a,d){return d.message||d.onlyIf?b.addRule(a,{rule:c,message:d.message,params:i.isEmptyVal(d.params)?!0:d.params,condition:d.onlyIf}):b.addRule(a,{rule:c,params:d})}},registerExtenders:function(){if(e.registerExtenders)for(var c in b.rules)b.rules.hasOwnProperty(c)&&(a.extenders[c]||b.addExtender(c))},insertValidationMessage:function(a){var b=document.createElement("SPAN");return b.className=i.getConfigOptions(a).errorMessageClass,i.insertAfter(a,b),b},parseInputValidationAttributes:function(c,d){a.utils.arrayForEach(f,function(a){i.hasAttribute(c,a)&&b.addRule(d(),{rule:a,params:c.getAttribute(a)||!0})});var e=c.getAttribute("type");a.utils.arrayForEach(g,function(a){a==e&&b.addRule(d(),{rule:a=="date"?"dateISO":a,params:!0})})},writeInputValidationAttributes:function(b,c){var d=c();if(!d||!d.rules)return;var e=d.rules();a.utils.arrayForEach(f,function(c){var d,f=a.utils.arrayFirst(e,function(a){return a.rule.toLowerCase()===c.toLowerCase()});if(!f)return;d=f.params,f.rule=="pattern"&&f.params instanceof RegExp&&(d=f.params.source),b.setAttribute(c,d)}),e=null}}}();a.utils.extend(c,j),c.rules={},c.rules.required={validator:function(a,b){var c=/^\s+|\s+$/g,d;return a===undefined||a===null?!b:(d=a,typeof a=="string"&&(d=a.replace(c,"")),b?(d+"").length>0:!0)},message:"This field is required."},c.rules.min={validator:function(a,b){return i.isEmptyVal(a)||a>=b},message:"Please enter a value greater than or equal to {0}."},c.rules.max={validator:function(a,b){return i.isEmptyVal(a)||a<=b},message:"Please enter a value less than or equal to {0}."},c.rules.minLength={validator:function(a,b){return i.isEmptyVal(a)||a.length>=b},message:"Please enter at least {0} characters."},c.rules.maxLength={validator:function(a,b){return i.isEmptyVal(a)||a.length<=b},message:"Please enter no more than {0} characters."},c.rules.pattern={validator:function(a,b){return i.isEmptyVal(a)||a.toString().match(b)!=null},message:"Please check this value."},c.rules.step={validator:function(a,b){return i.isEmptyVal(a)||a*100%(b*100)===0},message:"The value must increment by {0}"},c.rules.email={validator:function(a,b){return b?i.isEmptyVal(a)||b&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a):!0},message:"Please enter a proper email address"},c.rules.date={validator:function(a,b){return b?i.isEmptyVal(a)||b&&!/Invalid|NaN/.test(new Date(a)):!0},message:"Please enter a proper date"},c.rules.dateISO={validator:function(a,b){return b?i.isEmptyVal(a)||b&&/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a):!0},message:"Please enter a proper date"},c.rules.number={validator:function(a,b){return b?i.isEmptyVal(a)||b&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a):!0},message:"Please enter a number"},c.rules.digit={validator:function(a,b){return b?i.isEmptyVal(a)||b&&/^\d+$/.test(a):!0},message:"Please enter a digit"},c.rules.phoneUS={validator:function(a,b){return b?typeof a!="string"?!1:i.isEmptyVal(a)?!0:(a=a.replace(/\s+/g,""),b&&a.length>9&&a.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)):!0},message:"Please specify a valid phone number"},c.rules.equal={validator:function(a,b){var c=b;return a===i.getValue(c)},message:"Values must equal"},c.rules.notEqual={validator:function(a,b){var c=b;return a!==i.getValue(c)},message:"Please choose another value."},c.rules.unique={validator:function(b,c){var d=i.getValue(c.collection),e=i.getValue(c.externalValue),f=0;return!b||!d?!0:(a.utils.arrayFilter(a.utils.unwrapObservable(d),function(a){b===(c.valueAccessor?c.valueAccessor(a):a)&&f++}),f<(e!==undefined&&b!==e?1:2))},message:"Please make sure the value is unique."},function(){c.registerExtenders()}(),a.bindingHandlers.validationCore=function(){return{init:function(c,d,e,f,g){var j=i.getConfigOptions(c);j.parseInputAttributes&&h(function(){b.parseInputValidationAttributes(c,d)});if(j.insertMessages&&i.isValidatable(d())){var k=b.insertValidationMessage(c);j.messageTemplate?a.renderTemplate(j.messageTemplate,{field:d()},null,k,"replaceNode"):a.applyBindingsToNode(k,{validationMessage:d()})}j.writeInputAttributes&&i.isValidatable(d())&&b.writeInputValidationAttributes(c,d),j.decorateElement&&i.isValidatable(d())&&a.applyBindingsToNode(c,{validationElement:d()})},update:function(a,b,c,d,e){}}}(),function(){var b=a.bindingHandlers.value.init;a.bindingHandlers.value.init=function(c,d,e,f,g){return b(c,d,e),a.bindingHandlers.validationCore.init(c,d,e,f,g)}}(),a.bindingHandlers.validationMessage={update:function(b,c){var d=c(),e=i.getConfigOptions(b),f=a.utils.unwrapObservable(d),g=null,h=!1,j=!1;d.extend({validatable:!0}),h=d.isModified(),j=d.isValid();var k=function(){return!e.messagesOnModified||h?j?null:d.error:null},l=function(){return!e.messagesOnModified||h?!j:!1};a.bindingHandlers.text.update(b,k),a.bindingHandlers.visible.update(b,l)}},a.bindingHandlers.validationElement={update:function(b,c){var d=c(),e=i.getConfigOptions(b),f=a.utils.unwrapObservable(d),g=null,h=!1,j=!1;d.extend({validatable:!0}),h=d.isModified(),j=d.isValid();var k=function(){var a={},b=h?!j:!1;return e.decorateElement||(b=!1),a[e.errorElementClass]=b,a};a.bindingHandlers.css.update(b,k);if(!e.errorsAsTitle)return;var l=i.getAttribute(b,"data-orig-title"),m=b.title,n=i.getAttribute(b,"data-orig-title")=="true",o=function(){if(!e.errorsAsTitleOnModified||h)return j?{title:l||m,"data-orig-title":null}:{title:d.error,"data-orig-title":l||m}};a.bindingHandlers.attr.update(b,o)}},a.bindingHandlers.validationOptions=function(){return{init:function(b,c,d,f,g){var h=a.utils.unwrapObservable(c());if(h){var j=a.utils.extend({},e);a.utils.extend(j,h),i.setDomData(b,j)}}}}(),a.extenders.validation=function(c,d){return a.utils.arrayForEach(i.isArray(d)?d:[d],function(a){b.addAnonymousRule(c,a)}),c},a.extenders.validatable=function(c,d){if(d&&!i.isValidatable(c)){c.error=null,c.rules=a.observableArray(),c.isValidating=a.observable(!1),c.__valid__=a.observable(!0),c.isModified=a.observable(!1);var e=a.computed(function(){var a=c(),d=c.rules();return b.validateObservable(c),!0});c.isValid=a.computed(function(){return c.__valid__()});var f=c.subscribe(function(){c.isModified(!0)});c._disposeValidation=function(){c.isValid.dispose(),c.rules.removeAll(),c.isModified._subscriptions.change=[],c.isValidating._subscriptions.change=[],c.__valid__._subscriptions.change=[],f.dispose(),e.dispose(),delete c.rules,delete c.error,delete c.isValid,delete c.isValidating,delete c.__valid__,delete c.isModified}}else d===!1&&i.isValidatable(c)&&c._disposeValidation&&c._disposeValidation();return c},c.validateObservable=function(a){var c=0,d,e,f=a.rules(),g=f.length;for(;c<g;c++){e=f[c];if(e.condition&&!e.condition())continue;d=b.rules[e.rule];if(d.async||e.async)l(a,d,e);else if(!k(a,d,e))return!1}return a.error=null,a.__valid__(!0),!0},a.validatedObservable=function(c){if(!b.utils.isObject(c))return a.observable(c).extend({validatable:!0});var d=a.observable(c);return d.errors=b.group(c),d.isValid=a.computed(function(){return d.errors().length===0}),d},c.localize=function(a){var c,d;for(d in a)b.rules.hasOwnProperty(d)&&(b.rules[d].message=a[d])},a.applyBindingsWithValidation=function(c,d,e){var f=arguments.length,g,h;f>2?(g=d,h=e):f<2?g=document.body:arguments[1].nodeType?g=d:h=arguments[1],b.init(),h&&b.utils.setDomData(g,h),a.applyBindings(c,d)};var m=a.applyBindings;a.applyBindings=function(a,c){b.init(),m(a,c)}});
define('modules/validation-rules',["knockout","validation","modules/locale-settings"],function(e,t,n){var i=n.i18n(),a=function(e,t){return!e||e>=t},r=function(e,t){return!e||t>=e},o=function(e){return!e||!isNaN(parseFloat(e))&&isFinite(e)};return t.rules.min={validator:a,message:i.ErrorBelowMin},t.rules.max={validator:r,message:i.ErrorAboveMAx},t.rules.number={validator:o,message:i.ErrorNonNumeric},{required:"required",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength",pattern:"pattern",email:"email",date:"date",dateISO:"dateISO",number:"number",digit:"digit",equal:"equal",notEqual:"notEqual",unique:"unique",requiredIf:"requiredIf",mustEqual:"mustEqual",minDuration:"minDuration",maxDuration:"maxDuration"}});
define('modules/events',["jquery"],function(e){var t=e({});return t});
define('viewmodels/bulk-editor',["knockout","jquery","api/api","validation","modules/validation-rules","modules/events"],function(e,t,n,i,a,r){var o="$",s=e.observableArray([]),c=(e.observable(!1),e.observable(!1),e.observableArray([])),l=e.observable(!1),d={Discount_Percent__c:e.observable(),Default_Quantity__c:e.observable(),Locked_Discount__c:e.observable(),Included_Quantity__c:e.observable(),Minimum_Quantity__c:e.observable(),Maximum_Quantity__c:e.observable(),Minimum_Charge__c:e.observable(),Locked_Price_Markup__c:e.observable(),deleteMin:e.observable(!1),deleteMax:e.observable(!1),directionList:e.observableArray(["Above","Below"]),currencyTypeList:e.observableArray(["%",o]),sourceList:e.observableArray(["Current Price","Cost"]),selectedDirection:e.observable(),selectedCurrencyType:e.observable(),selectedSource:e.observable(),adjustmentValue:e.observable()},u=function(){l(!1),this.form.Discount_Percent__c(null),this.form.Default_Quantity__c(null),this.form.Locked_Discount__c(null),this.form.Included_Quantity__c(null),this.form.Minimum_Quantity__c(null),this.form.Maximum_Quantity__c(null),this.form.Minimum_Charge__c(null),this.form.Locked_Price_Markup__c(null),this.form.adjustmentValue(null),this.form.selectedCurrencyType("%"),this.form.selectedSource("Current Price"),this.form.selectedDirection("Above"),c([])},h=function(){l(!1);var e=this,i=t.map(s(),function(t){return new p(t,e.form)});window.mixpanel&&window.mixpanel.track&&window.mixpanel.track("Price Book Builder : Bulk Editor Update clicked",window.user.info),n.bulkUpdate(i).fail(function(e){c(e)}).done(function(){u.call(e),r.trigger("pricelist-items.refresh")})},f=function(e){if(!d.adjustmentValue())return null;var t=parseFloat(d.adjustmentValue()),n=parseFloat(e[d.selectedSource()=="Current Price"?"Price__c":"Catalog_Cost__c"]()),i=function(e){var n=d.selectedCurrencyType()==o?t:e*(t/100);return d.selectedDirection()=="Above"?e+n:e-n};return i(n)},p=function(e,t){this.Id=e.Id,this.type=e.type,t.Discount_Percent__c()&&(this.Discount_Percent__c=t.Discount_Percent__c()),t.Default_Quantity__c()&&(this.Default_Quantity__c=t.Default_Quantity__c()),t.Locked_Discount__c()&&(this.Locked_Discount__c=t.Locked_Discount__c()),t.Included_Quantity__c()&&(this.Included_Quantity__c=t.Included_Quantity__c()),t.Minimum_Charge__c()&&(this.Minimum_Charge__c=t.Minimum_Charge__c()),t.Locked_Price_Markup__c()&&(this.Locked_Price_Markup__c=t.Locked_Price_Markup__c()),(t.Minimum_Quantity__c()||t.deleteMin())&&(this.Minimum_Quantity__c=t.deleteMin()?null:t.Minimum_Quantity__c()),(t.Maximum_Quantity__c()||t.deleteMax())&&(this.Maximum_Quantity__c=t.deleteMax()?null:t.Maximum_Quantity__c());var n=f(e);null!==n&&void 0!==n&&(this.Price__c=n)},g=function(){_.call(this.form)},_=function(){var e=0,t=100;i.addRule(this.Discount_Percent__c,{rule:a.number,params:this.Discount_Percent__c}),i.addRule(this.Discount_Percent__c,{rule:a.min,params:e}),i.addRule(this.Discount_Percent__c,{rule:a.max,params:t}),i.addRule(this.Default_Quantity__c,{rule:a.number,params:this.Default_Quantity__c}),i.addRule(this.Default_Quantity__c,{rule:a.min,params:e}),i.addRule(this.Included_Quantity__c,{rule:a.number,params:this.Included_Quantity__c}),i.addRule(this.Included_Quantity__c,{rule:a.min,params:e}),i.addRule(this.Minimum_Quantity__c,{rule:a.number,params:this.Minimum_Quantity__c}),i.addRule(this.Minimum_Quantity__c,{rule:a.min,params:e}),i.addRule(this.Maximum_Quantity__c,{rule:a.number,params:this.Maximum_Quantity__c}),i.addRule(this.Maximum_Quantity__c,{rule:a.min,params:e}),i.addRule(this.Minimum_Charge__c,{rule:a.number,params:this.Minimum_Charge__c}),i.addRule(this.Minimum_Charge__c,{rule:a.min,params:e}),i.addRule(this.adjustmentValue,{rule:a.number,params:this.adjustmentValue}),i.group(this)},m=e.computed(function(){return c().length==0});return s.subscribe(function(){s().length<2&&(d.deleteMin(!1),d.deleteMax(!1))}),{form:d,selectedItems:s,showBulkUpdate:l,activate:g,clear:u,update:h,isValid:m,serverErrorMsgList:c,editorFor:function(t){e.computed(function(){s(e.utils.arrayFilter(t(),function(e){return e.selected()?e:void 0}))})}}});
define('viewmodels/filters',["knockout","jquery","api/api","viewmodels/classification"],function(e,t,n,i){var a=function(){this.keywordFilter=e.observable(),this.itemTypes=e.observableArray([]),this.selectedItemType=e.observable(),this.classificationFilter=(new i).selectedClassification,this.resetFilters=function(){this.keywordFilter(null),this.selectedItemType(null),this.classificationFilter(null)},this.activate=function(){this.classificationFilter.activate(),n.catalogItemTypes().done(this.itemTypes)}};return a});
define('viewmodels/catalog',["knockout","jquery","api/api","viewmodels/filters","modules/pager","modules/events","modules/locale-settings","bindings/tooltip"],function(e,t,n,i,a,r,o){var s=e.observableArray([]),c=e.observable(null),l=e.observable(!0),d=e.observable(!1),u=e.observable(null),h=new i,f=e.observable(!1),p=e.observable(null),g=o.i18n(),_=e.computed({read:c,write:function(e){l(c()==e?!l():!0),c(e)}}),m=function(){var i=e.utils.arrayFilter(s(),function(e){return e.selected()}),a=t.map(i,function(e){return new y(e)});window.mixpanel&&window.mixpanel.track&&window.mixpanel.track("Price Book Builder : Catalog Items Add Selected",window.user.info),n.bulkCreate(a).fail(function(){p(g.FailedToAddPriceListItems)}).done(function(){r.trigger("pricelist-items.newitems",[i.length]),s.selectAll(!1),x()})},v=function(){var e=t.map(s(),function(e){return new y(e)});window.mixpanel&&window.mixpanel.track&&window.mixpanel.track("Price Book Builder : Catalog Items Add All",window.user.info),n.bulkCreate(e).fail(function(){p(g.FailedToAddPriceListItems)}).done(function(){r.trigger("pricelist-items.newitems",[s().length]),s.selectAll(!1),x()})},y=function(e){this.type="Price_Book_Item__c",this.Sequence_Number__c=e.Sequence_Number__c,this.Price_Book__c=u(),this.Discount_Percent__c=0,this.Minimum_Charge__c=0,this.Default_Quantity__c=1,this.Catalog_Item__c=e.Id,this.Included_Quantity__c=0,this.Pricing_Method__c="Straight Price",this.Price__c=0},b=function(){f(!f())},x=function(){var e={keyword:h.keywordFilter(),onlyShowEquipRequired:d()?"'Required', 'Optional'":null,priceListId:u(),itemType:h.selectedItemType()?h.selectedItemType().Id:null,classification:h.classificationFilter()?h.classificationFilter().matches:null,sortby:c(),sortdir:l()?"ASC":"DESC"};n.catalogItems(e).done(function(e){s(t.map(e,function(e){return new k(e)})),s().length>0&&s.pager.first()})},k=function(n){t.extend(this,n),this.Name_Unique__c=e.observable(n.Name_Unique__c),this.Description__c=e.observable(n.Description__c),this.Classification__c=e.observable(n.Classification__c),this.ClassificationBreadcrumb=e.observable(n.Classification__r.Breadcrumb__c),this.UOM=e.observable(n.UOM__c),this.selected=e.observable(!1)};return a.paginate(s,{limit:10}),s.selectAll=e.computed({read:function(){var t=e.utils.arrayFirst(s(),function(e){return!e.selected()});return null==t},write:function(t){e.utils.arrayForEach(s(),function(e){e.selected(t)})}}),{items:s,filters:e.observable(h),activate:function(t){h.activate(),u(t),e.computed(x)},sortBy:_,sortAscending:l,onlyShowEquipRequired:d,addAll:v,addSelected:m,toggleCatalogScreen:b,showCatalog:f,lastActionError:p}});
define('viewmodels/pricelist-items',["knockout","jquery","api/api","viewmodels/classification","modules/pager","viewmodels/bulk-editor","validation","modules/validation-rules","viewmodels/filters","viewmodels/catalog","modules/events","modules/locale-settings"],function(e,t,n,i,a,r,s,o,c,l,d,u){var h=e.observableArray([]),f=e.observable(),p=e.observable("Sequence_Number__c"),g=e.observable(!0),_=e.observableArray([]),m=!1,v=new c,y=u.i18n(),b=e.observable(),x=e.observable(!1),k=(e.observableArray([]),e.computed({read:p,write:function(e){g(p()==e?!g():!0),p(e)}})),j=function(){p()=="LastModifiedDate DESC, CreatedDate"?p("LastModifiedDate DESC, CreatedDate "):p("LastModifiedDate DESC, CreatedDate"),g(!1)},w=function(){var e={priceListId:f(),keyword:v.keywordFilter(),itemType:v.selectedItemType()?v.selectedItemType().DeveloperName:null,classification:v.classificationFilter()?v.classificationFilter().matches:null,sortby:p(),sortdir:g()?"ASC":"DESC"};n.priceListItems(e).done(function(e){h(t.map(e,function(e){return new PriceListItem(e)})),h().length>0&&h.pager.first()})},C=function(e){return(100-e.Discount_Percent__c())/100*e.Price__c()},T=function(){if(N().length!=0){var e=confirm("Are you sure you want to delete the selected item(s)?");e&&n.bulkDelete(N()).fail(function(e){_(e)}).done(function(){d.trigger("pricelist-items.refresh")})}},A=function(){N().length!=0&&(x(!0),r.showBulkUpdate(!0))},N=e.computed(function(){return e.utils.arrayFilter(h(),function(e){return e.selected()?e:void 0})}),S=e.computed(function(){return _().length==0});return PriceListItem=function(i){t.extend(this,i),this.Sequence_Number__c=e.observable(parseFloat(i.Sequence_Number__c)),this.Price__c=e.observable(i.Price__c).formatCurrency(symbol=""),this.Catalog_Cost__c=e.observable(i.Catalog_Cost__c),this.Locked_Price_Markup__c=e.observable(i.Locked_Price_Markup__c=="true"),this.Description_Override__c=e.observable(i.Description_Override__c),this.Discount_Percent__c=e.observable(parseFloat(i.Discount_Percent__c)),this.Locked_Discount__c=e.observable(i.Locked_Discount__c=="true"),this.Minimum_Charge__c=e.observable(i.Minimum_Charge__c).formatCurrency(symbol=""),this.Default_Quantity__c=e.observable(i.Default_Quantity__c?parseInt(i.Default_Quantity__c):null),this.Minimum_Quantity__c=e.observable(i.Minimum_Quantity__c?parseInt(i.Minimum_Quantity__c):null),this.Maximum_Quantity__c=e.observable(i.Maximum_Quantity__c?parseInt(i.Maximum_Quantity__c):null),this.Catalog_Item__c=e.observable(i.Catalog_Item__c),this.selected=e.observable(!1),this.UnitPrice=e.observable(C(this)).formatCurrency(symbol="");var a=this,r=n.trackChanges(this,["Price__c","Discount_Percent__c","Minimum_Charge__c","Default_Quantity__c","Minimum_Quantity__c","Maximum_Quantity__c","Locked_Price_Markup__c","Locked_Discount__c","Description_Override__c","Sequence_Number__c"]);r.fail(function(e){m=!0,_.push(e)}),r.clear(function(){return m?(m=!1,void 0):(_([]),a.UnitPrice(C(a)),void 0)})},a.paginate(h,{limit:10}),h.selectAll=e.computed({read:function(){var t=e.utils.arrayFirst(h(),function(e){return!e.selected()});return null==t},write:function(t){var n=h();e.utils.arrayForEach(n,function(e){e.selected(t)})}}),d.on("pricelist-items.refresh",function(){h.selectAll&&h.selectAll(!1),w()}),d.on("pricelist-items.newitems",function(e,t){b(t+" "+y.AddedPriceListItems),h.selectAll&&h.selectAll(!1),w()}),r.editorFor(h),{items:h,activate:function(t){f(t),r.activate(),v.activate(),l.activate(t),e.computed(w)},sortAscending:g,sortBy:k,sortByMostRecent:j,deleteSelected:T,activateBulkUpdate:A,bulkEditor:e.observable(r),filters:e.observable(v),catalog:e.observable(l),errorList:_,isValid:S,lastAction:b,showBulkUpdate:x,selectedItems:N}});
define('viewmodels/pricelist',["knockout","api/api","modules/normalize-id","viewmodels/pricelist-items"],function(e,t,n,i){var a=e.observable(),r=e.observable(),s=e.observable(),o=e.observable(),c=e.observable(),l=e.observable(),d=e.observable(),u=e.observable(),h=function(){var e={priceListId:n(a())};t.priceList(e).done(function(e){r(e[0].Name||"--"),s(e[0].Account__c),o(e[0].Account_Name__c||"--"),c(e[0].Office_Name__c||"--"),l(e[0].Segment_Name__c||"--"),d(e[0].Effective_Date__c||"--"),u(e[0].Expiration_Date__c||"--"),$("html > head > title").length&&($("html > head > title")[0].innerHTML="Price Book Builder: "+r()+" ~ "+$("html > head > title")[0].innerHTML)})};return window.mixpanel&&window.mixpanel.track&&window.mixpanel.track("Price Book Builder Loaded",window.user.info),{priceListId:a,priceListName:r,customerId:s,customerName:o,officeName:c,segmentName:l,effectiveDate:d,expirationDate:u,activate:function(e){a(e&&e.id?e.id:null),i.activate(a()),h()},priceListItems:e.observable(i)}});
require.config({baseUrl:"app",paths:{text:"durandal/amd/text",jquery:"../scripts/jquery-1.9.1",knockout:"../scripts/knockout-2.2.1",validation:"../scripts/knockout.validation.min",jstree:"../scripts/jquery.jstree",numberFormat:"../scripts/accounting.min"},shim:{jstree:{deps:["jquery"]}}}),define('main',["jquery","durandal/app","durandal/viewLocator","bindings/init","viewmodels/pricelist","modules/locale-settings"],function(e,t,i,r,o,a){t.start().then(function(){i.useConvention(),a.setDefaults(),r.init(),t.setRoot(o)})});
define('text',{load: function(id){throw new Error("Dynamic load not allowed: " + id);}});
define('text!views/bulk-editor.html',[],function () { return '<div class="bulk_edit_section bSubBlock" data-bind="visible: showBulkUpdate()">\r\n    <form>\r\n        <h3 class="bulk_edit_section_legend lbHeader" data-bind="i18n: \'BulkEditor_Title\'"></h3>\r\n        <div>\r\n            <div class="serverErrorMessage" data-bind="visible: !isValid()">\r\n                <ul class="serverErrorMessage" data-bind="visible: !isValid(), foreach: serverErrorMsgList()">\r\n                    <li data-bind="text: $data"></li>\r\n                </ul>\r\n            </div>\r\n            <div class="lbBody" data-bind="with: form">\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="discountPct" data-bind="i18n: \'BulkEditor_DiscountPct\'"></label>\r\n                    <input id="discountPct" name="discountPct" type="text" data-bind="value: Discount_Percent__c, css: { error: !Discount_Percent__c.isValid() }"></input>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="discounPct" data-bind="i18n: \'BulkEditor_DefaultQty\'"></label>\r\n                    <input id="discountPct" type="text" data-bind="value: Default_Quantity__c, css: { error: !Default_Quantity__c.isValid() }"></input>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel" for="discountQty" data-bind="i18n: \'BulkEditor_IncludedQty\'"></label>\r\n                    <input id="discountQty" type="text" data-bind="value: Included_Quantity__c, css: { error: !Included_Quantity__c.isValid() }"></input>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="lockedDiscount" data-bind="i18n: \'BulkEditor_LockedDiscount\'"></label>\r\n                    <input id="lockedDiscount" type="radio" Group="lockedDiscountGroup" value="True" data-bind="checked: Locked_Discount__c">\r\n                        <span data-bind="i18n: \'BooleanTrue\'"></span>\r\n                    </input>\r\n                    <input id="lockedDiscount" type="radio" Group="lockedDiscountGroup" value="False" data-bind="checked: Locked_Discount__c">\r\n                        <span data-bind="i18n: \'BooleanFalse\'"></span>\r\n                    </input>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="minQty" data-bind="i18n: \'BulkEditor_MinQty\'"></label>\r\n                    <input id="minQty" type="text" data-bind="value: Minimum_Quantity__c, css: { error: !Minimum_Quantity__c.isValid() }, disable: deleteMin"></input>\r\n                    <span>\r\n                        <input type="checkbox" data-bind="checked: deleteMin">\r\n                            <span data-bind="i18n: \'BulkEditor_MinQtyInfo\'"></span>\r\n                        </input>\r\n                    </span>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="maxQty" data-bind="i18n: \'BulkEditor_MaxQty\'"></label>\r\n                    <input id="maxQty" type="text" data-bind="value: Maximum_Quantity__c, css: { error: !Maximum_Quantity__c.isValid() }, disable: deleteMax"></input>\r\n                    <span>\r\n                        <input type="checkbox" data-bind="checked: deleteMax" data-bind="i18n: \'BulkEditor_MaxQtyInfo\'">\r\n                            <span data-bind="i18n: \'BulkEditor_MaxQtyInfo\'"></span>\r\n                        </input>\r\n                    </span>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="minimumCharge" data-bind="i18n: \'BulkEditor_MinimumCharge\'"></label>\r\n                    <input id="minimumCharge" type="text" data-bind="value: Minimum_Charge__c, css: { error: !Minimum_Charge__c.isValid() }"></input>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="lockedPrice" data-bind="i18n: \'BulkEditor_LockedPrice\'"></label>\r\n                    <input id="lockedPrice" type="radio" group="lockedPriceGroup" value="True" data-bind="checked: Locked_Price_Markup__c">\r\n                        <span data-bind="i18n: \'BooleanTrue\'"></span>\r\n                    </input>\r\n                    <input id="lockedPrice" type="radio" group="lockedPriceGroup" value="False" data-bind="checked: Locked_Price_Markup__c">\r\n                        <span data-bind="i18n: \'BooleanFalse\'"></span>\r\n                    </input>\r\n                </div>\r\n                <div class="bulk-editor-field">\r\n                    <label class="fieldlabel bulk-editor__label" for="setPriceTo" data-bind="i18n: \'BulkEditor_SetPriceTo\'"></label>\r\n                    <input id="setPriceto" type="text" data-bind="value: adjustmentValue"></input>\r\n                    <select data-bind="options: currencyTypeList, value: selectedCurrencyType"></select>\r\n                    <select data-bind="options: directionList, value: selectedDirection"></select>\r\n                    <select data-bind="options: sourceList, value: selectedSource"></select>\r\n                </div>\r\n            </div>\r\n            <div class="form-actions">\r\n                <button type="btn" data-bind="click: update, enable: form.errors().length == 0"><span data-bind="i18n: \'BulkEditor_Submit\'"></span></button>\r\n                <button class="btn" data-bind="click: clear"><span data-bind="i18n: \'BulkEditor_Cancel\'"></span></button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>';});

define('text!views/catalog.html',[],function () { return '<div>\r\n    <div id="tooltip-template" data-bind="stopBinding: true">\r\n        <div data-bind="with: details" class="individualPalette lookupHoverDetail lookupHoverDetailOverridable" styleHIDE=" position: absolute; " >\r\n            <div data-bind="attr: {id: Id}" class="topLeft">\r\n              <div class="bPageBlock">\r\n                <div class="bSubBlock">\r\n                  <table border="0" cellpadding="0" cellspacing="0">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>\r\n                          <span class="page-block title" data-bind="i18n: \'CatalogItem\'"></span>\r\n                        </td>\r\n                        <td class="pbButton" style="display: none;">\r\n                          <input value=" View " class="btn" name="view" \r\n                          onclick="navigateToUrl(\'/a06i00000012JCd\',null,\'view\');" title="View" type="button" />\r\n                          <input value=" Edit " class="btn" id="a06i00000012JCd_mru_edit" name="edit"\r\n                          onclick="navigateToUrl(\'/a06i00000012JCd/e?retURL=%2Fa06i00000012JCd\',null,\'edit\');" title="Edit"\r\n                          type="button" />\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div class="pbBody">\r\n                  <table class="detailList" border="0" cellpadding="0" cellspacing="0">\r\n                    <tbody>\r\n\r\n                        <tr>\r\n                            <td class=\'labelCol\' data-bind="i18n: \'Name\'"></td>\r\n                            <td class=\'dataCol\' data-bind="text: Name_Unique__c" ></td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\'labelCol\' data-bind="i18n: \'Description\'"></td>\r\n                            <td class=\'dataCol\' data-bind="text: Description__c" ></td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\'labelCol\' data-bind="i18n: \'Classification\'"></td>\r\n                            <td class=\'dataCol\' data-bind="text: ClassificationBreadcrumb, attr: {title: ClassificationBreadcrumb}" ></td> \r\n                        </tr>\r\n                        <tr>\r\n                            <td class=\'labelCol\' data-bind="i18n: \'UOM\'"></td>\r\n                            <td class=\'dataCol\' data-bind="text: UOM" ></td> \r\n                        </tr>\r\n                        <tr >\r\n                            <td class=\'labelCol last\' data-bind="i18n: \'SequenceNumber\'"></td>\r\n                            <td class=\'dataCol last\' data-bind="text: Sequence_Number__c" ></td> \r\n                        </tr>\r\n\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div class="pbFooter secondaryPalette">\r\n                  <div class="bg"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n    <aside class="floating-section" data-bind="css: {expanded : showCatalog}">\r\n        <aside class="container__handle" data-bind="click: toggleCatalogScreen">\r\n            <span class="handle" data-bind="css: {\'handle--shown\': showCatalog}"></span>\r\n        </aside>\r\n        <div class="catalog-section-header" data-bind="i18n: \'AddFromCatalog_Title\'"></div>\r\n        <div class="catalog-section">\r\n            <div>\r\n                <div class="cataloglist-filterview">\r\n                    <div class="bFilterView">\r\n                        <fieldset>\r\n                            <legend data-bind="i18n: \'CatalogItemSearchFilter\'"></legend>\r\n                            <div data-bind="compose: filters"></div>\r\n                        </fieldset>\r\n                    </div>\r\n                </div>\r\n                <div class="catalog_filter_options">\r\n                        <input data-bind="checked: onlyShowEquipRequired" class="catalog-filter-options--right" type="checkbox">\r\n                            <span data-bind="i18n: \'ShowOnlyItemsWithEquipment\'"></span>\r\n                        </input>\r\n                </div>\r\n            </div>\r\n            <div class="catalog_selection_options">\r\n                <span>\r\n                    <button data-bind="click: addSelected" type="button">\r\n                        <span data-bind="i18n: \'AddFromCatalog_AddSelected\'"></span>\r\n                    </button>\r\n                    <button data-bind="click: addAll" type="button">\r\n                        <span data-bind="i18n: \'AddFromCatalog_AddAll\'"></span>\r\n                    </button>\r\n                </span>\r\n                <div id="lastActionContainer">\r\n                    <div id="messageError" class="failure-message" data-bind="flash: lastActionError"></div>\r\n                </div>\r\n            </div>\r\n            <div class="bPageBlock">\r\n                <div class="pbHeader pbTitle" style="margin: 5px">\r\n                    <h2 data-bind="i18n: \'AddFromCatalog_CatalogTableTitle\'"></h2>\r\n                </div>\r\n                <div class="pbBody">\r\n                    <div class="catalog-items-list">\r\n                        <table class="list" cellpadding="0" cellspacing="0">\r\n                            <thead>\r\n                                <tr class="header">\r\n                                   <th class="list__column">\r\n                                        <input name="selectAll" type="checkbox" data-bind="checked: items.selectAll"></input>\r\n                                    </th>\r\n                                    <th class="list__column__sortable left-align" data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Name_Unique__c\'}, click: function () { sortBy(\'Name_Unique__c\') }">\r\n                                        <span data-bind="i18n: \'ItemCode\'"></span>\r\n                                        <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Name_Unique__c\'"></i>\r\n                                    </th>\r\n                                    <th class="list__column__sortable left-align" data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Description__c\'}, click: function () { sortBy(\'Description__c\') }">\r\n                                        <span data-bind="i18n: \'CatalogItem\'"></span>\r\n                                        <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Description__c\'"></i>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody data-bind="foreach: items.paginated">\r\n                                <tr class="dataRow list__row">\r\n                                    <td>\r\n                                        <input type="checkbox" data-bind="checked: selected"></input>\r\n                                    </td>\r\n                                    <td>\r\n                                        <a class="catalog-item-column" data-bind="text: Name_Unique__c, attr: { href: location.protocol + \'//\' + location.host + \'/\' + Id }, tooltip: {template: \'tooltip-template\', data: $data}" target="_blank"></a>\r\n                                    </td>\r\n                                    <td>\r\n                                        <span class="catalog-item-column" data-bind="text: Description__c"></span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div class="bottomNav" data-bind="compose: { view: \'paginator.html\' }"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </aside>\r\n</div>\r\n';});

define('text!views/filters.html',[],function () { return '<span class="bFilterView">\r\n    <span class="bFilter">\r\n        <span class="sub-filter">\r\n            <label class="fieldlabel" data-bind="i18n: \'PriceListKeywordFilter\'"></label>\r\n            <input type="text"\r\n                data-bind="value: keywordFilter,  valueUpdate: \'keyup\'"\r\n                autocomplete="off">\r\n            </input>\r\n        </span>\r\n        <span class="sub-filter">\r\n            <label class="fieldlabel" data-bind="i18n: \'PriceListItemTypeFilter\'"></label>\r\n            <select name="itemType" data-bind="\r\n                options: itemTypes,\r\n                optionsText: \'Name\',\r\n                value: selectedItemType,\r\n                optionsCaption: \'Choose...\'">\r\n            </select>\r\n        </span>\r\n        <span class="sub-filter classification-filter">\r\n            <label class="fieldlabel" data-bind="i18n: \'PriceListItemClassificationFilter\'"></label>\r\n            <span class="classificationFilter" data-bind="liveEditor: classificationFilter">\r\n                <a class="view" href="#"  data-bind="\r\n                    click: classificationFilter.edit, \r\n                    with: classificationFilter() || {}">\r\n                    <!-- ko text: $data.breadcrumb || \'Select Classification\'-->\r\n                    <!-- /ko -->\r\n                </a>\r\n                <span class="edit classification" data-bind="\r\n                    treeView: classificationFilter.items,\r\n                    value: classificationFilter,\r\n                    afterValueChanged: classificationFilter.stopEditing">\r\n                </span>\r\n            </span>\r\n        </span>\r\n        <a href="#"\r\n            class="view search-clear"\r\n            title="clear filters"\r\n            data-bind="click: resetFilters, visible: keywordFilter() || selectedItemType() || (classificationFilter() && !classificationFilter.editing())">\r\n        </a>\r\n    </span>\r\n</span>\r\n';});

define('text!views/paginator.html',[],function () { return '<div data-bind="with: items.pager">\r\n    <div class="paginator">\r\n        <span class="left">\r\n            <span class="paginator__pagesize" data-bind="liveEditor: page">\r\n                <a href="#" class="view" data-bind="click: page.edit">\r\n                    <span data-bind="text: (page() * limit()) - limit() + 1"></span>-\r\n                    <span data-bind="text: page() * limit() > totalCount() ? totalCount() : page() * limit()"></span>\r\n                    <span> of </span>\r\n                    <span data-bind="text: totalCount()"></span><span data-bind="\r\n                        text: totalCount() == 2000 ? \'+\' : \'\'"></span>\r\n                </a>\r\n                <select class="edit" data-bind="\r\n                    options: [10, 25, 50, 100, 200],\r\n                    value: limit, \r\n                    event: { change: page.stopEditing }">\r\n                </select>\r\n            </span>\r\n        </span>\r\n        <span class="prevNextLinks">\r\n            <a href="#" class="prevNext paginator__link" data-bind="click: first">\r\n                <i class="paginator__icon paginator__icon--first" \r\n                    data-bind="css: { \'paginator__icon--off\' : page() == 1 }"></i>\r\n            </a>\r\n            <a href="#" class="prevNext paginator__link" data-bind="click: previous">\r\n                <i class="paginator__icon paginator__icon--previous" \r\n                    data-bind="css: { \'paginator__icon--off\' : page() == 1 }"></i>\r\n                <span data-bind="i18n: \'paginatorPrevious\', \r\n                    css: { \'paginator__link--off\' : page() == 1 }"></span>\r\n            </a>\r\n            <a href="#" class="prevNext paginator__link" data-bind="click: next">\r\n                <span data-bind="i18n: \'paginatorNext\', \r\n                css: { \'paginator__link--off\' : page() == totalPages() }"></span>\r\n                <i class="paginator__icon paginator__icon--next" \r\n                    data-bind="css: { \'paginator__icon--off\' : page() == totalPages() }"></i>\r\n            </a>\r\n            <a href="#" class="prevNext paginator__link" data-bind="click: last">\r\n                <i class="paginator__icon paginator__icon--last" \r\n                    data-bind="css: { \'paginator__icon--off\' : page() == totalPages() }"></i>\r\n            </a>\r\n        </span>\r\n    </div>\r\n    <div class="clearingBox"></div>\r\n</div>';});

define('text!views/pricelist-items.html',[],function () { return '<div data-bind="compose: catalog"></div>\r\n<div class="bRelatedList">\r\n    <div class="pricelist">\r\n        <div class="pricelist-filterview">\r\n            <div class="bFilterView">\r\n                <fieldset class="bSubBlock">\r\n                    <legend data-bind="i18n: \'PriceListItemSearchFilter\'"></legend>\r\n                    <div data-bind="compose: filters"></div>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <span>\r\n                <a href="#" data-bind="i18n: \'SortByMostRecent\', click: sortByMostRecent"></a>\r\n                <span class="success-message" data-bind="flash: lastAction"></span>\r\n            </span>\r\n        </div>\r\n        <div class="bPageBlock">\r\n            <div class="pbHeader pbTitle" style="margin: 5px">\r\n                <h2 data-bind="i18n: \'ConfigurePricebook\'"></h2>\r\n            </div>\r\n            <div class="pbBody">\r\n                <div class="serverErrorMessage" data-bind="visible: !isValid()">\r\n                    <ul class="serverErrorMessage" data-bind="visible: !isValid(), foreach: errorList()">\r\n                        <li data-bind="text: $data"></li>\r\n                    </ul>\r\n                </div>\r\n                <table class="list" cellpadding="0" cellspacing="0">\r\n                    <thead>\r\n                        <tr class="header">\r\n                            <th class="list__column">\r\n                                <input name="selectAll" type="checkbox" data-bind="checked: items.selectAll"></input>\r\n                            </th>\r\n                            <th class="list__column__sortable" \r\n                                data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Sequence_Number__c\'}, click: function () { sortBy(\'Sequence_Number__c\') }">\r\n                                <span data-bind="i18n: \'SequenceNumber\'"></span>\r\n                                <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Sequence_Number__c\'" ></i>\r\n                            </th>\r\n                            <th class="list__column__sortable" \r\n                                data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Catalog_Item_Code__c\'}, click: function () { sortBy(\'Catalog_Item_Code__c\') }">\r\n                                <span data-bind="i18n: \'ItemCode\'"></span>\r\n                                <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Catalog_Item_Code__c\'" ></i>\r\n                            </th>\r\n                            <th class="list__column__sortable" \r\n                                data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Catalog_Description__c\'}, click: function () { sortBy(\'Catalog_Description__c\') }">\r\n                                <span data-bind="i18n: \'CatalogItem\'"></span>\r\n                                <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Catalog_Description__c\'" ></i>\r\n                            </th>\r\n                            <th class="list__column__sortable" \r\n                                data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Description_Override__c\'}, click: function () { sortBy(\'Description_Override__c\') }">\r\n                                <span data-bind="i18n: \'DescriptionOverride\'"></span>\r\n                                <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Description_Override__c\'" ></i>\r\n                            </th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'Price\'"></th>\r\n                            <th class="list__column center-align" data-bind="i18n: \'LockedPrice\'"></th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'Discount\'"></th>\r\n                            <th class="list__column center-align" data-bind="i18n: \'LockedDiscount\'"></th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'UnitPrice\'"></th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'MinimumCharge\'"></th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'DefaultQty\'"></th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'MinQty\'"></th>\r\n                            <th class="list__column right-align" data-bind="i18n: \'MaxQty\'"></th>\r\n                            <th class="list__column__sortable"\r\n                                data-bind="css: { \'list__column__sortable--selected\': sortBy() == \'Catalog_Record_Type__c\'}, click: function () { sortBy(\'Catalog_Record_Type__c\') }">\r\n                                <span data-bind="i18n: \'ItemType\'"></span>\r\n                                <i class="list__sort" data-bind="css: {\'list__sort--asc\': sortAscending}, visible: sortBy() == \'Catalog_Record_Type__c\'" ></i>\r\n                            </th>\r\n                            <th class="list__column" data-bind="i18n: \'UOM\'"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody data-bind="foreach: items.paginated, arrowKeysOn:true">\r\n                        <tr data-bind="attr:{\'data-row-index\' : $index }, css: { last: $index()+1 == $parent.items().length }" class="dataRow list__row">\r\n                            <td>\r\n                                <input type="checkbox" data-bind="checked: selected" data-col-index="0"></input>\r\n                            </td>\r\n                            <td data-bind="liveEditor: Sequence_Number__c, event: { click: function () { Sequence_Number__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Sequence_Number__c.editing(),\r\n                                    event: { focus: Sequence_Number__c.edit }"></input>\r\n                                <a data-col-index="1" class="view" href="#" data-bind="\r\n                                    text: Sequence_Number__c, \r\n                                    event: { focus: Sequence_Number__c.edit }"></a>\r\n                                <input data-col-index="1" class="edit" data-bind="\r\n                                    value: Sequence_Number__c, \r\n                                    enterKey: Sequence_Number__c.stopEditing, \r\n                                    selectAndFocus: Sequence_Number__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'numericOnly\',\r\n                                    event: { blur: Sequence_Number__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td>\r\n                                <a class="arrow-goto" data-bind="attr: { href: location.protocol + \'//\' + location.host + \'/\' + Id }" data-col-index="2" title="go to price book item"></a>\r\n                                <span data-bind="text: Catalog_Item_Code__c"></span>\r\n                            </td>\r\n                            <td>\r\n                                <a class="arrow-goto" data-bind="attr: { href: location.protocol + \'//\' + location.host + \'/\' + Catalog_Item__c() }" data-col-index="3" title="go to catalog item"></a>\r\n                                <span data-bind="text: Catalog_Description__c"></span>\r\n                            </td>\r\n                            <td data-bind="liveEditor: Description_Override__c, event: { click: function () { Description_Override__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Description_Override__c.editing(),\r\n                                    event: { focus: Description_Override__c.edit }"></input>\r\n                                <a data-col-index="4" class="view" href="#" data-bind="\r\n                                    text: Description_Override__c, \r\n                                    event: { focus: Description_Override__c.edit }"></a>\r\n                                <input data-col-index="4" class="edit" data-bind="\r\n                                    value: Description_Override__c, \r\n                                    enterKey: Description_Override__c.stopEditing, \r\n                                    selectAndFocus: Description_Override__c.editing, \r\n                                    autoSize: true, \r\n                                    event: { blur: Description_Override__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td class="right-align" data-bind="liveEditor: Price__c, event: { click: function () { Price__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Price__c.editing(),\r\n                                    event: { focus: Price__c.edit }"></input>\r\n                                <a data-col-index="5" class="view" href="#" data-bind="\r\n                                    text: Price__c.readVal, \r\n                                    event: { focus: Price__c.edit }"></a>\r\n                                <input data-col-index="5" class="edit right-align" data-bind="\r\n                                    value: Price__c.writeVal, \r\n                                    enterKey: Price__c.stopEditing, \r\n                                    selectAndFocus: Price__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'floatOnly\',\r\n                                    event: { blur: Price__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td class="center-align">\r\n                                <input type="checkbox" data-col-index="6" data-bind="\r\n                                        checked: Locked_Price_Markup__c"></input>\r\n                            </td>\r\n                            <td class="right-align" data-bind="liveEditor: Discount_Percent__c, event: { click: function () { Discount_Percent__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Discount_Percent__c.editing(),\r\n                                    event: { focus: Discount_Percent__c.edit }"></input>\r\n                                <a data-col-index="7" class="view" href="#" data-bind="\r\n                                    text: Discount_Percent__c, \r\n                                    event: { focus: Discount_Percent__c.edit }"></a>\r\n                                <input data-col-index="7" class="edit right-align" data-bind="\r\n                                    value: Discount_Percent__c, \r\n                                    enterKey: Discount_Percent__c.stopEditing, \r\n                                    selectAndFocus: Discount_Percent__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'floatOnly\',\r\n                                    event: { blur: Discount_Percent__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td class="center-align">\r\n                                <input type="checkbox" data-col-index="8" data-bind="\r\n                                        checked: Locked_Discount__c" ></input>\r\n                            </td>\r\n                            <td class="right-align">\r\n                                <span style="display:inline-block" data-bind="text: UnitPrice.readVal"></span>\r\n                            </td>\r\n                            <td class="right-align" data-bind="liveEditor: Minimum_Charge__c, event: { click: function () { Minimum_Charge__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Minimum_Charge__c.editing(),\r\n                                    event: { focus: Minimum_Charge__c.edit }"></input>\r\n                                <a data-col-index="9" class="view" href="#" data-bind="\r\n                                    text: Minimum_Charge__c, \r\n                                    event: { focus: Minimum_Charge__c.edit }"></a>\r\n                                <input data-col-index="9" class="edit right-align" data-bind="\r\n                                    value: Minimum_Charge__c, \r\n                                    enterKey: Minimum_Charge__c.stopEditing, \r\n                                    selectAndFocus: Minimum_Charge__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'floatOnly\',\r\n                                    event: { blur: Minimum_Charge__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td class="right-align" data-bind="liveEditor: Default_Quantity__c, event: { click: function () { Default_Quantity__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Default_Quantity__c.editing(),\r\n                                    event: { focus: Default_Quantity__c.edit }"></input>\r\n                                <a data-col-index="10" class="view" href="#" data-bind="\r\n                                    text: Default_Quantity__c, \r\n                                    event: { focus: Default_Quantity__c.edit }"></a>\r\n                                <input data-col-index="10" class="edit right-align" data-bind="\r\n                                    value: Default_Quantity__c, \r\n                                    enterKey: Default_Quantity__c.stopEditing, \r\n                                    selectAndFocus: Default_Quantity__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'integerOnly\',\r\n                                    event: { blur: Default_Quantity__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td class="right-align" data-bind="liveEditor: Minimum_Quantity__c, event: { click: function () { Minimum_Quantity__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Minimum_Quantity__c.editing(),\r\n                                    event: { focus: Minimum_Quantity__c.edit }"></input>\r\n                                <a data-col-index="11" class="view" href="#" data-bind="\r\n                                    text: Minimum_Quantity__c, \r\n                                    event: { focus: Minimum_Quantity__c.edit }"></a>\r\n                                <input data-col-index="11" class="edit right-align" data-bind="\r\n                                    value: Minimum_Quantity__c, \r\n                                    enterKey: Minimum_Quantity__c.stopEditing, \r\n                                    selectAndFocus: Minimum_Quantity__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'integerOnly\',\r\n                                    event: { blur: Minimum_Quantity__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td class="right-align" data-bind="liveEditor: Maximum_Quantity__c, event: { click: function () { Maximum_Quantity__c.edit(); } }">\r\n                                <input class="null-placeholder" data-bind="\r\n                                    visible: !Maximum_Quantity__c.editing(),\r\n                                    event: { focus: Maximum_Quantity__c.edit }"></input>\r\n                                <a data-col-index="12" class="view" href="#" data-bind="\r\n                                    text: Maximum_Quantity__c, \r\n                                    event: { focus: Maximum_Quantity__c.edit }"></a>\r\n                                <input data-col-index="12" class="edit right-align" data-bind="\r\n                                    value: Maximum_Quantity__c, \r\n                                    enterKey: Maximum_Quantity__c.stopEditing, \r\n                                    selectAndFocus: Maximum_Quantity__c.editing, \r\n                                    autoSize: true,\r\n                                    mask: \'integerOnly\',\r\n                                    event: { blur: Maximum_Quantity__c.stopEditing }" ></input>\r\n                            </td>\r\n                            <td>\r\n                                <span data-bind="text: Catalog_Record_Type__c"></span>\r\n                            </td>\r\n                            <td>\r\n                                <span data-bind="text: Catalog_UOM__c"></span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <div class="bottomNav" data-bind="compose: { view: \'paginator.html\' }"></div>\r\n            </div>\r\n\r\n            <div class="form-actions">\r\n                <button type="btn" data-bind="click: deleteSelected, css: {disabled: selectedItems().length == 0}"><span data-bind="i18n: \'DeleteSelected\'"></span></button>\r\n                <button type="btn" data-bind="click: activateBulkUpdate, css: {disabled: selectedItems().length == 0}"><span data-bind="i18n: \'ShowBulkUpdate\'"></span></button>\r\n            </div>\r\n        </div>\r\n        <span class="small" data-bind="visible: selectedItems().length < 2">Select two or more Price Book items for bulk updates</span>\r\n        <div data-bind="compose: bulkEditor"></div>\r\n    </div>\r\n</div>';});

define('text!views/pricelist.html',[],function () { return '<div data-bind="visible: priceListId">\r\n\t<div  class="page-title">\r\n\t\t<p class="small" data-bind="i18n: \'PriceList\'"></p>\r\n\t\t<a class="h2" data-bind="text: priceListName, attr: { href: location.protocol + \'//\' + location.host + \'/\' + priceListId() }"></a>\r\n\t</div>\r\n\r\n\t<fieldset class="pricelist-detail bSubBlock">\r\n\t\t<legend data-bind="i18n: \'PriceListDetail\'"></legend>\r\n\t\t<span>\r\n\t\t\t<label class="fieldlabel" data-bind="i18n: \'CustomerName\'"></label>\r\n\t\t\t<a data-bind="text: customerName(), attr: { href: location.protocol + \'//\' + location.host + \'/\' + customerId() }"></a>\r\n\t\t</span>\r\n\t\t<span>\r\n\t\t\t<label class="fieldlabel" data-bind="i18n: \'OfficeName\'"></label>\r\n\t\t\t<label data-bind="text: officeName"></label>\r\n\t\t</span>\r\n\t\t<span>\r\n\t\t\t<label class="fieldlabel" data-bind="i18n: \'SegmentName\'"></label>\r\n\t\t\t<label data-bind="text: segmentName"></label>\r\n\t\t</span>\r\n\t\t<span>\r\n\t\t\t<label class="fieldlabel" data-bind="i18n: \'EffectiveDate\'"></label>\r\n\t\t\t<label data-bind="text: effectiveDate"></label>\r\n\t\t</span>\r\n\t\t<span>\r\n\t\t\t<label class="fieldlabel" data-bind="i18n: \'ExpirationDate\'"></label>\r\n\t\t\t<label data-bind="text: expirationDate"></label>\r\n\t\t</span>\r\n\t</fieldset>\r\n</div>\r\n<div data-bind="compose: priceListItems"></div>';});

require(["main"]);
}());