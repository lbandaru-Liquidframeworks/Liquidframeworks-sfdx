(function () {
var requirejs,require,define;!function(e){function t(e,t){var n,i,r,a,o,s,c,l,u,h,d=t&&t.split("/"),p=g.map,f=p&&p["*"]||{};if(e&&"."===e.charAt(0)&&t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),l=0;l<e.length;l+=1)if(h=e[l],"."===h)e.splice(l,1),l-=1;else if(".."===h){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((d||f)&&p){for(n=e.split("/"),l=n.length;l>0;l-=1){if(i=n.slice(0,l).join("/"),d)for(u=d.length;u>0;u-=1)if(r=p[d.slice(0,u).join("/")],r&&(r=r[i])){a=r,o=l;break}if(a)break;!s&&f&&f[i]&&(s=f[i],c=l)}!a&&s&&(a=s,o=c),a&&(n.splice(0,o,a),e=n.join("/"))}return e}function n(t,n){return function(){return u.apply(e,v.call(arguments,0).concat([t,n]))}}function i(e){return function(n){return t(n,e)}}function r(e){return function(t){p[e]=t}}function a(t){if(f.hasOwnProperty(t)){var n=f[t];delete f[t],m[t]=!0,l.apply(e,n)}if(!p.hasOwnProperty(t)&&!m.hasOwnProperty(t))throw new Error("No "+t);return p[t]}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,n){requirejs.onResourceLoad&&e&&requirejs.onResourceLoad({defined:t},{id:e},n)}function c(e){return function(){return g&&g.config&&g.config[e]||{}}}var l,u,h,d,p={},f={},g={},m={},v=[].slice;h=function(e,n){var r,s=o(e),c=s[0];return e=s[1],c&&(c=t(c,n),r=a(c)),c?e=r&&r.normalize?r.normalize(e,i(n)):t(e,n):(e=t(e,n),s=o(e),c=s[0],e=s[1],c&&(r=a(c))),{f:c?c+"!"+e:e,n:e,pr:c,p:r}},d={require:function(e){return n(e)},exports:function(e){var t=p[e];return"undefined"!=typeof t?t:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:c(e)}}},l=function(t,i,o,c){var l,u,g,v,b,y,N=[];if(c=c||t,"function"==typeof o){for(i=!i.length&&o.length?["require","exports","module"]:i,b=0;b<i.length;b+=1)if(v=h(i[b],c),u=v.f,"require"===u)N[b]=d.require(t);else if("exports"===u)N[b]=d.exports(t),y=!0;else if("module"===u)l=N[b]=d.module(t);else if(p.hasOwnProperty(u)||f.hasOwnProperty(u)||m.hasOwnProperty(u))N[b]=a(u);else{if(!v.p)throw new Error(t+" missing "+u);v.p.load(v.n,n(c,!0),r(u),{}),N[b]=p[u]}g=o.apply(p[t],N),t&&(l&&l.exports!==e&&l.exports!==p[t]?p[t]=l.exports:g===e&&y||(p[t]=g))}else t&&(p[t]=o);s(t,p,N)},requirejs=require=u=function(t,n,i,r,o){return"string"==typeof t?d[t]?d[t](n):a(h(t,n).f):(t.splice||(g=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},"function"==typeof i&&(i=r,r=o),r?l(e,t,n,i):setTimeout(function(){l(e,t,n,i)},15),u)},u.config=function(e){return g=e,u},define=function(e,t,n){t.splice||(n=t,t=[]),f[e]=[e,t,n]},define.amd={jQuery:!0}}();
define("../vendor/require/almond-custom", function(){});

require.config({paths:{jquery:"../vendor/jquery-1.10.2.min",knockout:"../vendor/knockout-3.0.0",durandal:"../vendor/durandal",plugins:"../vendor/durandal/plugins",text:"../vendor/require/text",handlebars:"../vendor/handlebars",accounting:"../vendor/accounting.min",moment:"../vendor/moment-1.7.2.min",jSignature:"../vendor/jSignature.min",base64PolyFill:"../vendor/base64.min"},shim:{handlebars:{exports:"Handlebars"},jSignature:{deps:["jquery"],exports:"$"}}});
define("require-config", function(){});

/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);
define('durandal/system',["require","jquery"],function(require,e){function t(e){var t="[object "+e+"]";n["is"+e]=function(e){return o.call(e)==t}}var n,i=!1,r=Object.keys,a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=!1,c=Array.isArray,l=Array.prototype.slice;if(Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log)try{["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}catch(u){s=!0}require.on&&require.on("moduleLoaded",function(module,e){n.setModuleId(module,e)}),"undefined"!=typeof requirejs&&(requirejs.onResourceLoad=function(e,t){n.setModuleId(e.defined[t.id],t.id)});var h=function(){},d=function(){try{if("undefined"!=typeof console&&"function"==typeof console.log)if(window.opera)for(var e=0;e<arguments.length;)console.log("Item "+(e+1)+": "+arguments[e]),e++;else 1==l.call(arguments).length&&"string"==typeof l.call(arguments)[0]?console.log(l.call(arguments).toString()):console.log.apply(console,l.call(arguments));else Function.prototype.bind&&!s||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,l.call(arguments))}catch(t){}},p=function(e){if(e instanceof Error)throw console.log(e.stack),e;throw new Error(e)};n={version:"2.0.0-pre",noop:h,getModuleId:function(e){return e?"function"==typeof e?e.prototype.__moduleId__:"string"==typeof e?null:e.__moduleId__:null},setModuleId:function(e,t){return e?"function"==typeof e?(e.prototype.__moduleId__=t,void 0):("string"!=typeof e&&(e.__moduleId__=t),void 0):void 0},resolveObject:function(module){return n.isFunction(module)?new module:module},debug:function(e){return 1==arguments.length&&(i=e,i?(this.log=d,this.error=p,this.log("Debug:Enabled")):(this.log("Debug:Disabled"),this.log=h,this.error=h)),i},log:h,error:h,assert:function(e,t){e||n.error(new Error(t||"Assert:Failed"))},defer:function(t){return e.Deferred(t)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},acquire:function(){var e,t=arguments[0],i=!1;return n.isArray(t)?(e=t,i=!0):e=l.call(arguments,0),this.defer(function(t){require(e,function(){var e=arguments;setTimeout(function(){e.length>1||i?t.resolve(l.call(e,0)):t.resolve(e[0])},1)},function(e){t.reject(e)})}).promise()},extend:function(e){for(var t=l.call(arguments,1),n=0;n<t.length;n++){var i=t[n];if(i)for(var r in i)e[r]=i[r]}return e},wait:function(e){return n.defer(function(t){setTimeout(t.resolve,e)}).promise()}},n.keys=r||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)a.call(e,n)&&(t[t.length]=n);return t},n.isElement=function(e){return!(!e||1!==e.nodeType)},n.isArray=c||function(e){return"[object Array]"==o.call(e)},n.isObject=function(e){return e===Object(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isPromise=function(e){return e&&n.isFunction(e.then)};for(var f=["Arguments","Function","String","Number","Date","RegExp"],g=0;g<f.length;g++)t(f[g]);return n});
define('durandal/viewEngine',["durandal/system","jquery"],function(e,t){var n;return n=t.parseHTML?function(e){return t.parseHTML(e)}:function(e){return t(e).get()},{viewExtension:".html",viewPlugin:"text",isViewUrl:function(e){return-1!==e.indexOf(this.viewExtension,e.length-this.viewExtension.length)},convertViewUrlToViewId:function(e){return e.substring(0,e.length-this.viewExtension.length)},convertViewIdToRequirePath:function(e){return this.viewPlugin+"!"+e+this.viewExtension},parseMarkup:n,processMarkup:function(e){var t=this.parseMarkup(e);return this.ensureSingleElement(t)},ensureSingleElement:function(e){if(1==e.length)return e[0];for(var n=[],i=0;i<e.length;i++){var r=e[i];if(8!=r.nodeType){if(3==r.nodeType){var a=/\S/.test(r.nodeValue);if(!a)continue}n.push(r)}}return n.length>1?t(n).wrapAll('<div class="durandal-wrapper"></div>').parent().get(0):n[0]},createView:function(t){var n=this,i=this.convertViewIdToRequirePath(t);return e.defer(function(r){e.acquire(i).then(function(e){var i=n.processMarkup(e);i.setAttribute("data-view",t),r.resolve(i)}).fail(function(e){n.createFallbackView(t,i,e).then(function(e){e.setAttribute("data-view",t),r.resolve(e)})})}).promise()},createFallbackView:function(t,n){var i=this,r='View Not Found. Searched for "'+t+'" via path "'+n+'".';return e.defer(function(e){e.resolve(i.processMarkup('<div class="durandal-view-404">'+r+"</div>"))}).promise()}}});
define('durandal/viewLocator',["durandal/system","durandal/viewEngine"],function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.getAttribute("data-view");if(r==t)return i}}function i(e){return(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")}return{useConvention:function(e,t,n){e=e||"viewmodels",t=t||"views",n=n||t;var r=new RegExp(i(e),"gi");this.convertModuleIdToViewId=function(e){return e.replace(r,t)},this.translateViewIdToArea=function(e,t){return t&&"partial"!=t?n+"/"+t+"/"+e:n+"/"+e}},locateViewForObject:function(t,n){var i;if(t.getView&&(i=t.getView()))return this.locateView(i,null,n);if(t.viewUrl)return this.locateView(t.viewUrl,null,n);var r=e.getModuleId(t);return r?this.locateView(this.convertModuleIdToViewId(r),null,n):this.locateView(this.determineFallbackViewId(t),null,n)},convertModuleIdToViewId:function(e){return e},determineFallbackViewId:function(e){var t=/function (.{1,})\(/,n=t.exec(e.constructor.toString()),i=n&&n.length>1?n[1]:"";return"views/"+i},translateViewIdToArea:function(e){return e},locateView:function(i,r,a){if("string"==typeof i){var o;if(o=t.isViewUrl(i)?t.convertViewUrlToViewId(i):i,r&&(o=this.translateViewIdToArea(o,r)),a){var s=n(a,o);if(s)return e.defer(function(e){e.resolve(s)}).promise()}return t.createView(o)}return e.defer(function(e){e.resolve(i)}).promise()}}});
!function(){!function(t){var e=this||(0,eval)("this"),n=e.document,i=e.navigator,r=e.jQuery,a=e.JSON;!function(t){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(module.exports||exports):"function"==typeof define&&define.amd?define('knockout',["exports"],t):t(e.ko={})}(function(o){function s(t,e){return null===t||typeof t in c?t===e:!1}function u(t,e,n,i){l.d[t]={init:function(t){return l.a.f.set(t,g,{}),{controlsDescendantBindings:!0}},update:function(t,r,a,o,s){a=l.a.f.get(t,g),r=l.a.c(r()),o=!n!=!r;var u=!a.ob;(u||e||o!==a.Db)&&(u&&(a.ob=l.a.Ya(l.e.childNodes(t),!0)),o?(u||l.e.S(t,l.a.Ya(a.ob)),l.Ta(i?i(s,r):s,t)):l.e.Z(t),a.Db=o)}},l.g.Y[t]=!1,l.e.P[t]=!0}var l="undefined"!=typeof o?o:{};l.b=function(t,e){for(var n=t.split("."),i=l,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=e},l.s=function(t,e,n){t[e]=n},l.version="3.0.0",l.b("version",l.version),l.a=function(){function o(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function s(t,e){if("input"!==l.a.v(t)||!t.type||"click"!=e.toLowerCase())return!1;var n=t.type;return"checkbox"==n||"radio"==n}var u={},c={};u[i&&/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],u.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(u,function(t,e){if(e.length)for(var n=0,i=e.length;i>n;n++)c[e[n]]=t});var h={propertychange:!0},p=n&&function(){for(var e=3,i=n.createElement("div"),r=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return e>4?e:t}();return{$a:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(t,e){for(var n=0,i=t.length;i>n;n++)e(t[n])},l:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},Ua:function(t,e,n){for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i]))return t[i];return null},ia:function(t,e){var n=l.a.l(t,e);n>=0&&t.splice(n,1)},Va:function(t){t=t||[];for(var e=[],n=0,i=t.length;i>n;n++)0>l.a.l(e,t[n])&&e.push(t[n]);return e},ha:function(t,e){t=t||[];for(var n=[],i=0,r=t.length;r>i;i++)n.push(e(t[i]));return n},ga:function(t,e){t=t||[];for(var n=[],i=0,r=t.length;r>i;i++)e(t[i])&&n.push(t[i]);return n},X:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,i=e.length;i>n;n++)t.push(e[n]);return t},V:function(t,e,n){var i=l.a.l(l.a.Ha(t),e);0>i?n&&t.push(e):n||t.splice(i,1)},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},K:o,Da:function(t,e){if(!t)return t;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=e(t[n],n,t));return i},wa:function(t){for(;t.firstChild;)l.removeNode(t.firstChild)},Vb:function(t){t=l.a.Q(t);for(var e=n.createElement("div"),i=0,r=t.length;r>i;i++)e.appendChild(l.L(t[i]));return e},Ya:function(t,e){for(var n=0,i=t.length,r=[];i>n;n++){var a=t[n].cloneNode(!0);r.push(e?l.L(a):a)}return r},S:function(t,e){if(l.a.wa(t),e)for(var n=0,i=e.length;i>n;n++)t.appendChild(e[n])},nb:function(t,e){var n=t.nodeType?[t]:t;if(0<n.length){for(var i=n[0],r=i.parentNode,a=0,o=e.length;o>a;a++)r.insertBefore(e[a],i);for(a=0,o=n.length;o>a;a++)l.removeNode(n[a])}},$:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);if(1<t.length){var n=t[0],i=t[t.length-1];for(t.length=0;n!==i;)if(t.push(n),n=n.nextSibling,!n)return;t.push(i)}}return t},qb:function(t,e){7>p?t.setAttribute("selected",e):t.selected=e},la:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ec:function(t,e){for(var n=[],i=(t||"").split(e),r=0,a=i.length;a>r;r++){var o=l.a.la(i[r]);""!==o&&n.push(o)}return n},ac:function(t,e){return t=t||"",e.length>t.length?!1:t.substring(0,e.length)===e},Gb:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},va:function(t){return l.a.Gb(t,t.ownerDocument.documentElement)},Ra:function(t){return!!l.a.Ua(t,l.a.va)},v:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},r:function(t,e,n){var i=p&&h[e];if(i||"undefined"==typeof r)if(i||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var a=function(e){n.call(t,e)},o="on"+e;t.attachEvent(o,a),l.a.C.ea(t,function(){t.detachEvent(o,a)})}else t.addEventListener(e,n,!1);else{if(s(t,e)){var u=n;n=function(t,e){var n=this.checked;e&&(this.checked=!0!==e.Ab),u.call(this,t),this.checked=n}}r(t).bind(e,n)}},da:function(t,i){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if("undefined"!=typeof r){var a=[];s(t,i)&&a.push({Ab:t.checked}),r(t).trigger(i,a)}else if("function"==typeof n.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");a=n.createEvent(c[i]||"HTMLEvents"),a.initEvent(i,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(a)}else{if("undefined"==typeof t.fireEvent)throw Error("Browser doesn't support triggering events");s(t,i)&&(t.checked=!0!==t.checked),t.fireEvent("on"+i)}},c:function(t){return l.M(t)?t():t},Ha:function(t){return l.M(t)?t.t():t},ma:function(t,e,n){if(e){var i=/\S+/g,r=t.className.match(i)||[];l.a.n(e.match(i),function(t){l.a.V(r,t,n)}),t.className=r.join(" ")}},Ma:function(e,i){var r=l.a.c(i);(null===r||r===t)&&(r="");var a=l.e.firstChild(e);!a||3!=a.nodeType||l.e.nextSibling(a)?l.e.S(e,[n.createTextNode(r)]):a.data=r,l.a.Jb(e)},pb:function(t,e){if(t.name=e,7>=p)try{t.mergeAttributes(n.createElement("<input name='"+t.name+"'/>"),!1)}catch(i){}},Jb:function(t){p>=9&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},Hb:function(t){if(p){var e=t.style.width;t.style.width=0,t.style.width=e}},Zb:function(t,e){t=l.a.c(t),e=l.a.c(e);for(var n=[],i=t;e>=i;i++)n.push(i);return n},Q:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e},cc:6===p,dc:7===p,ja:p,ab:function(t,e){for(var n=l.a.Q(t.getElementsByTagName("input")).concat(l.a.Q(t.getElementsByTagName("textarea"))),i="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},r=[],a=n.length-1;a>=0;a--)i(n[a])&&r.push(n[a]);return r},Wb:function(t){return"string"==typeof t&&(t=l.a.la(t))?a&&a.parse?a.parse(t):new Function("return "+t)():null},Na:function(t,e,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(l.a.c(t),e,n)},Xb:function(t,e,i){i=i||{};var r=i.params||{},a=i.includeFields||this.$a,s=t;if("object"==typeof t&&"form"===l.a.v(t))for(var s=t.action,u=a.length-1;u>=0;u--)for(var c=l.a.ab(t,a[u]),h=c.length-1;h>=0;h--)r[c[h].name]=c[h].value;e=l.a.c(e);var p=n.createElement("form");p.style.display="none",p.action=s,p.method="post";for(var f in e)t=n.createElement("input"),t.name=f,t.value=l.a.Na(l.a.c(e[f])),p.appendChild(t);o(r,function(t,e){var i=n.createElement("input");i.name=t,i.value=e,p.appendChild(i)}),n.body.appendChild(p),i.submitter?i.submitter(p):p.submit(),setTimeout(function(){p.parentNode.removeChild(p)},0)}}}(),l.b("utils",l.a),l.b("utils.arrayForEach",l.a.n),l.b("utils.arrayFirst",l.a.Ua),l.b("utils.arrayFilter",l.a.ga),l.b("utils.arrayGetDistinctValues",l.a.Va),l.b("utils.arrayIndexOf",l.a.l),l.b("utils.arrayMap",l.a.ha),l.b("utils.arrayPushAll",l.a.X),l.b("utils.arrayRemoveItem",l.a.ia),l.b("utils.extend",l.a.extend),l.b("utils.fieldsIncludedWithJsonPost",l.a.$a),l.b("utils.getFormFields",l.a.ab),l.b("utils.peekObservable",l.a.Ha),l.b("utils.postJson",l.a.Xb),l.b("utils.parseJson",l.a.Wb),l.b("utils.registerEventHandler",l.a.r),l.b("utils.stringifyJson",l.a.Na),l.b("utils.range",l.a.Zb),l.b("utils.toggleDomNodeCssClass",l.a.ma),l.b("utils.triggerEvent",l.a.da),l.b("utils.unwrapObservable",l.a.c),l.b("utils.objectForEach",l.a.K),l.b("utils.addOrRemoveItem",l.a.V),l.b("unwrap",l.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments);return t=n.shift(),function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}),l.a.f=new function(){function e(e,a){var o=e[i];if(!o||"null"===o||!r[o]){if(!a)return t;o=e[i]="ko"+n++,r[o]={}}return r[o]}var n=0,i="__ko__"+(new Date).getTime(),r={};return{get:function(n,i){var r=e(n,!1);return r===t?t:r[i]},set:function(n,i,r){(r!==t||e(n,!1)!==t)&&(e(n,!0)[i]=r)},clear:function(t){var e=t[i];return e?(delete r[e],t[i]=null,!0):!1},D:function(){return n++ +i}}},l.b("utils.domData",l.a.f),l.b("utils.domData.clear",l.a.f.clear),l.a.C=new function(){function e(e,n){var r=l.a.f.get(e,i);return r===t&&n&&(r=[],l.a.f.set(e,i,r)),r}function n(t){var i=e(t,!1);if(i)for(var i=i.slice(0),a=0;a<i.length;a++)i[a](t);if(l.a.f.clear(t),"function"==typeof r&&"function"==typeof r.cleanData&&r.cleanData([t]),o[t.nodeType])for(i=t.firstChild;t=i;)i=t.nextSibling,8===t.nodeType&&n(t)}var i=l.a.f.D(),a={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{ea:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},mb:function(n,r){var a=e(n,!1);a&&(l.a.ia(a,r),0==a.length&&l.a.f.set(n,i,t))},L:function(t){if(a[t.nodeType]&&(n(t),o[t.nodeType])){var e=[];l.a.X(e,t.getElementsByTagName("*"));for(var i=0,r=e.length;r>i;i++)n(e[i])}return t},removeNode:function(t){l.L(t),t.parentNode&&t.parentNode.removeChild(t)}}},l.L=l.a.C.L,l.removeNode=l.a.C.removeNode,l.b("cleanNode",l.L),l.b("removeNode",l.removeNode),l.b("utils.domNodeDisposal",l.a.C),l.b("utils.domNodeDisposal.addDisposeCallback",l.a.C.ea),l.b("utils.domNodeDisposal.removeDisposeCallback",l.a.C.mb),function(){l.a.Fa=function(t){var i;if("undefined"!=typeof r){if(r.parseHTML)i=r.parseHTML(t)||[];else if((i=r.clean([t]))&&i[0]){for(t=i[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{var a=l.a.la(t).toLowerCase();for(i=n.createElement("div"),a=a.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!a.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!a.indexOf("<td")||!a.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],t="ignored<div>"+a[1]+t+a[2]+"</div>","function"==typeof e.innerShiv?i.appendChild(e.innerShiv(t)):i.innerHTML=t;a[0]--;)i=i.lastChild;i=l.a.Q(i.lastChild.childNodes)}return i},l.a.Ka=function(e,n){if(l.a.wa(e),n=l.a.c(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),"undefined"!=typeof r)r(e).html(n);else for(var i=l.a.Fa(n),a=0;a<i.length;a++)e.appendChild(i[a])}}(),l.b("utils.parseHtmlFragment",l.a.Fa),l.b("utils.setHtml",l.a.Ka),l.u=function(){function e(t,n){if(t)if(8==t.nodeType){var i=l.u.jb(t.nodeValue);null!=i&&n.push({Fb:t,Tb:i})}else if(1==t.nodeType)for(var i=0,r=t.childNodes,a=r.length;a>i;i++)e(r[i],n)}var n={};return{Ca:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[e]=t,"<!--[ko_memo:"+e+"]-->"},ub:function(e,i){var r=n[e];if(r===t)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,i||[]),!0}finally{delete n[e]}},vb:function(t,n){var i=[];e(t,i);for(var r=0,a=i.length;a>r;r++){var o=i[r].Fb,s=[o];n&&l.a.X(s,n),l.u.ub(i[r].Tb,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},jb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}}(),l.b("memoization",l.u),l.b("memoization.memoize",l.u.Ca),l.b("memoization.unmemoize",l.u.ub),l.b("memoization.parseMemoText",l.u.jb),l.b("memoization.unmemoizeDomNodeAndDescendants",l.u.vb),l.xa={throttle:function(t,e){t.throttleEvaluation=e;var n=null;return l.h({read:t,write:function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}})},notify:function(t,e){t.equalityComparer="always"==e?null:s}};var c={undefined:1,"boolean":1,number:1,string:1};l.b("extenders",l.xa),l.sb=function(t,e,n){this.target=t,this.qa=e,this.Eb=n,l.s(this,"dispose",this.B)},l.sb.prototype.B=function(){this.Qb=!0,this.Eb()},l.ca=function(){this.F={},l.a.extend(this,l.ca.fn),l.s(this,"subscribe",this.T),l.s(this,"extend",this.extend),l.s(this,"getSubscriptionsCount",this.Lb)};var h="change";l.ca.fn={T:function(t,e,n){n=n||h;var i=new l.sb(this,e?t.bind(e):t,function(){l.a.ia(this.F[n],i)}.bind(this));return this.F[n]||(this.F[n]=[]),this.F[n].push(i),i},notifySubscribers:function(t,e){if(e=e||h,this.cb(e))try{l.i.Wa();for(var n,i=this.F[e].slice(0),r=0;n=i[r];++r)n&&!0!==n.Qb&&n.qa(t)}finally{l.i.end()}},cb:function(t){return this.F[t]&&this.F[t].length},Lb:function(){var t=0;return l.a.K(this.F,function(e,n){t+=n.length}),t},extend:function(t){var e=this;return t&&l.a.K(t,function(t,n){var i=l.xa[t];"function"==typeof i&&(e=i(e,n)||e)}),e}},l.fb=function(t){return null!=t&&"function"==typeof t.T&&"function"==typeof t.notifySubscribers},l.b("subscribable",l.ca),l.b("isSubscribable",l.fb),l.i=function(){var t=[];return{Wa:function(e){t.push(e&&{qa:e,Za:[]})},end:function(){t.pop()},lb:function(e){if(!l.fb(e))throw Error("Only subscribable things can act as dependencies");if(0<t.length){var n=t[t.length-1];!n||0<=l.a.l(n.Za,e)||(n.Za.push(e),n.qa(e))}},p:function(e,n,i){try{return t.push(null),e.apply(n,i||[])}finally{t.pop()}}}}(),l.q=function(t){function e(){return 0<arguments.length?(e.equalityComparer&&e.equalityComparer(n,arguments[0])||(e.O(),n=arguments[0],e.N()),this):(l.i.lb(e),n)}var n=t;return l.ca.call(e),e.t=function(){return n},e.N=function(){e.notifySubscribers(n)},e.O=function(){e.notifySubscribers(n,"beforeChange")},l.a.extend(e,l.q.fn),l.s(e,"peek",e.t),l.s(e,"valueHasMutated",e.N),l.s(e,"valueWillMutate",e.O),e},l.q.fn={equalityComparer:s};var p=l.q.Yb="__ko_proto__";l.q.fn[p]=l.q,l.ya=function(e,n){return null===e||e===t||e[p]===t?!1:e[p]===n?!0:l.ya(e[p],n)},l.M=function(t){return l.ya(t,l.q)},l.gb=function(t){return"function"==typeof t&&t[p]===l.q||"function"==typeof t&&t[p]===l.h&&t.Nb?!0:!1},l.b("observable",l.q),l.b("isObservable",l.M),l.b("isWriteableObservable",l.gb),l.ba=function(t){if(t=t||[],"object"!=typeof t||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=l.q(t),l.a.extend(t,l.ba.fn),t.extend({trackArrayChanges:!0})},l.ba.fn={remove:function(t){for(var e=this.t(),n=[],i="function"!=typeof t||l.M(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var a=e[r];i(a)&&(0===n.length&&this.O(),n.push(a),e.splice(r,1),r--)}return n.length&&this.N(),n},removeAll:function(e){if(e===t){var n=this.t(),i=n.slice(0);return this.O(),n.splice(0,n.length),this.N(),i}return e?this.remove(function(t){return 0<=l.a.l(e,t)}):[]},destroy:function(t){var e=this.t(),n="function"!=typeof t||l.M(t)?function(e){return e===t}:t;this.O();for(var i=e.length-1;i>=0;i--)n(e[i])&&(e[i]._destroy=!0);this.N()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=l.a.l(e,t)}):[]},indexOf:function(t){var e=this();return l.a.l(e,t)},replace:function(t,e){var n=this.indexOf(t);n>=0&&(this.O(),this.t()[n]=e,this.N())}},l.a.n("pop push reverse shift sort splice unshift".split(" "),function(t){l.ba.fn[t]=function(){var e=this.t();return this.O(),this.Xa(e,t,arguments),e=e[t].apply(e,arguments),this.N(),e}}),l.a.n(["slice"],function(t){l.ba.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),l.b("observableArray",l.ba);var f="arrayChange";l.xa.trackArrayChanges=function(t){function e(){if(!n){n=!0;var e=t.notifySubscribers;t.notifySubscribers=function(t,n){return n&&n!==h||++r,e.apply(this,arguments)};var a=[].concat(t.t()||[]);i=null,t.T(function(e){if(e=[].concat(e||[]),t.cb(f)){var n;(!i||r>1)&&(i=l.a.ra(a,e,{sparse:!0})),n=i,n.length&&t.notifySubscribers(n,f)}a=e,i=null,r=0})}}if(!t.Xa){var n=!1,i=null,r=0,a=t.T;t.T=t.subscribe=function(t,n,i){return i===f&&e(),a.apply(this,arguments)},t.Xa=function(t,e,a){function o(t,e,n){s.push({status:t,value:e,index:n})}if(n&&!r){var s=[],u=t.length,l=a.length,c=0;switch(e){case"push":c=u;case"unshift":for(e=0;l>e;e++)o("added",a[e],c+e);break;case"pop":c=u-1;case"shift":u&&o("deleted",t[c],c);break;case"splice":e=Math.min(Math.max(0,0>a[0]?u+a[0]:a[0]),u);for(var u=1===l?u:Math.min(e+(a[1]||0),u),l=e+l-2,c=Math.max(u,l),h=2;c>e;++e,++h)u>e&&o("deleted",t[e],e),l>e&&o("added",a[h],e);break;default:return}i=s}}}},l.h=function(e,n,i){function r(){l.a.n(k,function(t){t.B()}),k=[]}function a(){var t=s.throttleEvaluation;t&&t>=0?(clearTimeout(x),x=setTimeout(o,t)):o()}function o(){if(!p){if(b&&b()){if(!f)return y(),h=!0,void 0}else f=!1;p=!0;try{var e=l.a.ha(k,function(t){return t.target});l.i.Wa(function(n){var i;0<=(i=l.a.l(e,n))?e[i]=t:k.push(n.T(a))});for(var i=n?d.call(n):d(),r=e.length-1;r>=0;r--)e[r]&&k.splice(r,1)[0].B();h=!0,s.equalityComparer&&s.equalityComparer(c,i)||(s.notifySubscribers(c,"beforeChange"),c=i,s.notifySubscribers(c))}finally{l.i.end(),p=!1}k.length||y()}}function s(){if(0<arguments.length){if("function"!=typeof g)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return g.apply(n,arguments),this}return h||o(),l.i.lb(s),c}function u(){return!h||0<k.length}var c,h=!1,p=!1,f=!1,d=e;if(d&&"object"==typeof d?(i=d,d=i.read):(i=i||{},d||(d=i.read)),"function"!=typeof d)throw Error("Pass a function that returns the value of the ko.computed");var g=i.write,m=i.disposeWhenNodeIsRemoved||i.I||null,v=i.disposeWhen||i.ua,b=v,y=r,k=[],x=null;return n||(n=i.owner),s.t=function(){return h||o(),c},s.Kb=function(){return k.length},s.Nb="function"==typeof i.write,s.B=function(){y()},s.aa=u,l.ca.call(s),l.a.extend(s,l.h.fn),l.s(s,"peek",s.t),l.s(s,"dispose",s.B),l.s(s,"isActive",s.aa),l.s(s,"getDependenciesCount",s.Kb),m&&(f=!0,m.nodeType&&(b=function(){return!l.a.va(m)||v&&v()})),!0!==i.deferEvaluation&&o(),m&&u()&&(y=function(){l.a.C.mb(m,y),r()},l.a.C.ea(m,y)),s},l.Pb=function(t){return l.ya(t,l.h)},o=l.q.Yb,l.h[o]=l.q,l.h.fn={equalityComparer:s},l.h.fn[o]=l.h,l.b("dependentObservable",l.h),l.b("computed",l.h),l.b("isComputed",l.Pb),function(){function e(r,a,o){if(o=o||new i,r=a(r),"object"!=typeof r||null===r||r===t||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var s=r instanceof Array?[]:{};return o.save(r,s),n(r,function(n){var i=a(r[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":s[n]=i;break;case"object":case"undefined":var u=o.get(i);s[n]=u!==t?u:e(i,a,o)}}),s}function n(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(n in t)e(n)}function i(){this.keys=[],this.Qa=[]}l.tb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(t){for(var e=0;l.M(t)&&10>e;e++)t=t();return t})},l.toJSON=function(t,e,n){return t=l.tb(t),l.a.Na(t,e,n)},i.prototype={save:function(t,e){var n=l.a.l(this.keys,t);n>=0?this.Qa[n]=e:(this.keys.push(t),this.Qa.push(e))},get:function(e){return e=l.a.l(this.keys,e),e>=0?this.Qa[e]:t}}}(),l.b("toJS",l.tb),l.b("toJSON",l.toJSON),function(){l.k={o:function(e){switch(l.a.v(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?l.a.f.get(e,l.d.options.Ea):7>=l.a.ja?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?l.k.o(e.options[e.selectedIndex]):t;default:return e.value}},na:function(e,n){switch(l.a.v(e)){case"option":switch(typeof n){case"string":l.a.f.set(e,l.d.options.Ea,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=n;break;default:l.a.f.set(e,l.d.options.Ea,n),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof n?n:""}break;case"select":""===n&&(n=t),(null===n||n===t)&&(e.selectedIndex=-1);for(var i=e.options.length-1;i>=0;i--)if(l.k.o(e.options[i])==n){e.selectedIndex=i;break}1<e.size||-1!==e.selectedIndex||(e.selectedIndex=0);break;default:(null===n||n===t)&&(n=""),e.value=n}}}}(),l.b("selectExtensions",l.k),l.b("selectExtensions.readValue",l.k.o),l.b("selectExtensions.writeValue",l.k.na),l.g=function(){function t(t){t=l.a.la(t),123===t.charCodeAt(0)&&(t=t.slice(1,-1));var e,n,o=[],s=t.match(i),u=0;if(s){s.push(",");for(var c,h=0;c=s[h];++h){var p=c.charCodeAt(0);if(44===p){if(0>=u){e&&o.push(n?{key:e,value:n.join("")}:{unknown:e}),e=n=u=0;continue}}else if(58===p){if(!n)continue}else if(47===p&&h&&1<c.length)(p=s[h-1].match(r))&&!a[p[0]]&&(t=t.substr(t.indexOf(c)+1),s=t.match(i),s.push(","),h=-1,c="/");else if(40===p||123===p||91===p)++u;else if(41===p||125===p||93===p)--u;else if(!e&&!n){e=34===p||39===p?c.slice(1,-1):c;continue}n?n.push(c):n=[c]}}return o}var e=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),r=/[\])"'A-Za-z0-9_$]+$/,a={"in":1,"return":1,"typeof":1},o={};return{Y:[],U:o,Ga:t,ka:function(i,r){function a(t,i){var r,h=l.getBindingHandler(t);(h&&h.preprocess?i=h.preprocess(i,t,a):1)&&((h=o[t])&&(r=i,0<=l.a.l(e,r)?r=!1:(h=r.match(n),r=null===h?!1:h[1]?"Object("+h[1]+")"+h[2]:r),h=r),h&&u.push("'"+t+"':function(_z){"+r+"=_z}"),c&&(i="function(){return "+i+" }"),s.push("'"+t+"':"+i))}r=r||{};var s=[],u=[],c=r.valueAccessors,h="string"==typeof i?t(i):i;return l.a.n(h,function(t){a(t.key||t.unknown,t.value)}),u.length&&a("_ko_property_writers","{"+u.join(",")+"}"),s.join(",")},Sb:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},oa:function(t,e,n,i,r){t&&l.M(t)?!l.gb(t)||r&&t.t()===i||t(i):(t=e.get("_ko_property_writers"))&&t[n]&&t[n](i)}}}(),l.b("expressionRewriting",l.g),l.b("expressionRewriting.bindingRewriteValidators",l.g.Y),l.b("expressionRewriting.parseObjectLiteral",l.g.Ga),l.b("expressionRewriting.preProcessBindings",l.g.ka),l.b("expressionRewriting._twoWayBindings",l.g.U),l.b("jsonExpressionRewriting",l.g),l.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",l.g.ka),function(){function t(t){return 8==t.nodeType&&o.test(a?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&s.test(a?t.text:t.nodeValue)}function i(n,i){for(var r=n,a=1,o=[];r=r.nextSibling;){if(e(r)&&(a--,0===a))return o;o.push(r),t(r)&&a++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(t,e){var n=i(t,e);return n?0<n.length?n[n.length-1].nextSibling:t.nextSibling:null}var a=n&&"<!--test-->"===n.createComment("test").text,o=a?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=a?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};l.e={P:{},childNodes:function(e){return t(e)?i(e):e.childNodes},Z:function(e){if(t(e)){e=l.e.childNodes(e);for(var n=0,i=e.length;i>n;n++)l.removeNode(e[n])}else l.a.wa(e)},S:function(e,n){if(t(e)){l.e.Z(e);for(var i=e.nextSibling,r=0,a=n.length;a>r;r++)i.parentNode.insertBefore(n[r],i)}else l.a.S(e,n)},kb:function(e,n){t(e)?e.parentNode.insertBefore(n,e.nextSibling):e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)},eb:function(e,n,i){i?t(e)?e.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):l.e.kb(e,n)},firstChild:function(n){return t(n)?!n.nextSibling||e(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return t(n)&&(n=r(n)),n.nextSibling&&e(n.nextSibling)?null:n.nextSibling},Mb:t,bc:function(t){return(t=(a?t.text:t.nodeValue).match(o))?t[1]:null},ib:function(n){if(u[l.a.v(n)]){var i=n.firstChild;if(i)do if(1===i.nodeType){var a;a=i.firstChild;var o=null;if(a)do if(o)o.push(a);else if(t(a)){var s=r(a,!0);s?a=s:o=[a]}else e(a)&&(o=[a]);while(a=a.nextSibling);if(a=o)for(o=i.nextSibling,s=0;s<a.length;s++)o?n.insertBefore(a[s],o):n.appendChild(a[s])}while(i=i.nextSibling)}}}}(),l.b("virtualElements",l.e),l.b("virtualElements.allowedBindings",l.e.P),l.b("virtualElements.emptyNode",l.e.Z),l.b("virtualElements.insertAfter",l.e.eb),l.b("virtualElements.prepend",l.e.kb),l.b("virtualElements.setDomNodeChildren",l.e.S),function(){l.H=function(){this.zb={}},l.a.extend(l.H.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind");case 8:return l.e.Mb(t);default:return!1}},getBindings:function(t,e){var n=this.getBindingsString(t,e);return n?this.parseBindingsString(n,e,t):null},getBindingAccessors:function(t,e){var n=this.getBindingsString(t,e);return n?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return l.e.bc(t);default:return null}},parseBindingsString:function(t,e,n,i){try{var r,a=this.zb,o=t+(i&&i.valueAccessors||"");if(!(r=a[o])){var s,u="with($context){with($data||{}){return{"+l.g.ka(t,i)+"}}}";s=new Function("$context","$element",u),r=a[o]=s}return r(e,n)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+c.message,c}}}),l.H.instance=new l.H}(),l.b("bindingProvider",l.H),function(){function n(t){return function(){return t}}function i(t){return t()}function r(t){return l.a.Da(l.i.p(t),function(e,n){return function(){return t()[n]}})}function a(t,e){return r(this.getBindings.bind(this,t,e))}function o(t,e,n){var i,r=l.e.firstChild(e),a=l.H.instance,o=a.preprocessNode;if(o){for(;i=r;)r=l.e.nextSibling(i),o.call(a,i);r=l.e.firstChild(e)}for(;i=r;)r=l.e.nextSibling(i),s(t,i,n)}function s(t,e,n){var i=!0,r=1===e.nodeType;r&&l.e.ib(e),(r&&n||l.H.instance.nodeHasBindings(e))&&(i=c(e,null,t,n).shouldBindDescendants),i&&!p[l.a.v(e)]&&o(t,e,!r)}function u(t){var e=[],n={},i=[];return l.a.K(t,function r(a){if(!n[a]){var o=l.getBindingHandler(a);o&&(o.after&&(i.push(a),l.a.n(o.after,function(e){if(t[e]){if(-1!==l.a.l(i,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));r(e)}}),i.pop()),e.push({key:a,bb:o})),n[a]=!0}}),e}function c(e,n,r,o){var s=l.a.f.get(e,f);if(!n){if(s)throw Error("You cannot apply bindings multiple times to the same element.");l.a.f.set(e,f,!0)}!s&&o&&l.rb(e,r);var c;if(n&&"function"!=typeof n)c=n;else{var h=l.H.instance,p=h.getBindingAccessors||a;if(n||r.A){var d=l.h(function(){return(c=n?n(r,e):p.call(h,e,r))&&r.A&&r.A(),c},null,{I:e});c&&d.aa()||(d=null)}else c=l.i.p(p,h,[e,r])}var g;if(c){var m=d?function(t){return function(){return i(d()[t])}}:function(t){return c[t]},v=function(){return l.a.Da(d?d():c,i)};v.get=function(t){return c[t]&&i(m(t))},v.has=function(t){return t in c},o=u(c),l.a.n(o,function(n){var i=n.bb.init,a=n.bb.update,o=n.key;if(8===e.nodeType&&!l.e.P[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof i&&l.i.p(function(){var n=i(e,m(o),v,r.$data,r);if(n&&n.controlsDescendantBindings){if(g!==t)throw Error("Multiple bindings ("+g+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=o}}),"function"==typeof a&&l.h(function(){a(e,m(o),v,r.$data,r)},null,{I:e})}catch(s){throw s.message='Unable to process binding "'+o+": "+c[o]+'"\nMessage: '+s.message,s}})}return{shouldBindDescendants:g===t}}function h(t){return t&&t instanceof l.G?t:new l.G(t)}l.d={};var p={script:!0};l.getBindingHandler=function(t){return l.d[t]},l.G=function(e,n,i,r){var a,o=this,s="function"==typeof e,u=l.h(function(){var t=s?e():e;return n?(n.A&&n.A(),l.a.extend(o,n),u&&(o.A=u)):(o.$parents=[],o.$root=t,o.ko=l),o.$rawData=e,o.$data=t,i&&(o[i]=t),r&&r(o,n,t),o.$data},null,{ua:function(){return a&&!l.a.Ra(a)},I:!0});u.aa()&&(o.A=u,u.equalityComparer=null,a=[],u.wb=function(e){a.push(e),l.a.C.ea(e,function(e){l.a.ia(a,e),a.length||(u.B(),o.A=u=t)})})},l.G.prototype.createChildContext=function(t,e,n){return new l.G(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)})},l.G.prototype.extend=function(t){return new l.G(this.$rawData,this,null,function(e){l.a.extend(e,"function"==typeof t?t():t)})};var f=l.a.f.D(),d=l.a.f.D();l.rb=function(t,e){return 2!=arguments.length?l.a.f.get(t,d):(l.a.f.set(t,d,e),e.A&&e.A.wb(t),void 0)},l.pa=function(t,e,n){return 1===t.nodeType&&l.e.ib(t),c(t,e,h(n),!0)},l.xb=function(t,e,i){return i=h(i),l.pa(t,"function"==typeof e?r(e.bind(null,i,t)):l.a.Da(e,n),i)},l.Ta=function(t,e){1!==e.nodeType&&8!==e.nodeType||o(h(t),e,!0)},l.Sa=function(t,n){if(n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||e.document.body,s(h(t),n,!0)},l.ta=function(e){switch(e.nodeType){case 1:case 8:var n=l.rb(e);if(n)return n;if(e.parentNode)return l.ta(e.parentNode)}return t},l.Cb=function(e){return(e=l.ta(e))?e.$data:t},l.b("bindingHandlers",l.d),l.b("applyBindings",l.Sa),l.b("applyBindingsToDescendants",l.Ta),l.b("applyBindingAccessorsToNode",l.pa),l.b("applyBindingsToNode",l.xb),l.b("contextFor",l.ta),l.b("dataFor",l.Cb)}();var d={"class":"className","for":"htmlFor"};l.d.attr={update:function(e,n){var i=l.a.c(n())||{};l.a.K(i,function(n,i){i=l.a.c(i);var r=!1===i||null===i||i===t;r&&e.removeAttribute(n),8>=l.a.ja&&n in d?(n=d[n],r?e.removeAttribute(n):e[n]=i):r||e.setAttribute(n,i.toString()),"name"===n&&l.a.pb(e,r?"":i.toString())})}},function(){l.d.checked={after:["value","attr"],init:function(e,n,i){function r(){return i.has("checkedValue")?l.a.c(i.get("checkedValue")):e.value}function a(){var t=e.checked,a=p?r():t;if(f&&(!u||t)){var o=l.i.p(n);c?h!==a?(t&&(l.a.V(o,a,!0),l.a.V(o,h,!1)),h=a):l.a.V(o,a,t):l.g.oa(o,i,"checked",a,!0)}}function o(){var t=l.a.c(n());e.checked=c?0<=l.a.l(t,r()):s?t:r()===t}var s="checkbox"==e.type,u="radio"==e.type;if(s||u){var c=s&&l.a.c(n())instanceof Array,h=c?r():t,p=u||c,f=!1;u&&!e.name&&l.d.uniqueName.init(e,function(){return!0}),l.h(a,null,{I:e}),l.a.r(e,"click",a),l.h(o,null,{I:e}),f=!0}}},l.g.U.checked=!0,l.d.checkedValue={update:function(t,e){t.value=l.a.c(e())}}}(),l.d.css={update:function(t,e){var n=l.a.c(e());"object"==typeof n?l.a.K(n,function(e,n){n=l.a.c(n),l.a.ma(t,e,n)}):(n=String(n||""),l.a.ma(t,t.__ko__cssValue,!1),t.__ko__cssValue=n,l.a.ma(t,n,!0))}},l.d.enable={update:function(t,e){var n=l.a.c(e());n&&t.disabled?t.removeAttribute("disabled"):n||t.disabled||(t.disabled=!0)}},l.d.disable={update:function(t,e){l.d.enable.update(t,function(){return!l.a.c(e())})}},l.d.event={init:function(t,e,n,i,r){var a=e()||{};l.a.K(a,function(a){"string"==typeof a&&l.a.r(t,a,function(t){var o,s=e()[a];if(s){try{var u=l.a.Q(arguments);i=r.$data,u.unshift(i),o=s.apply(i,u)}finally{!0!==o&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===n.get(a+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},l.d.foreach={hb:function(t){return function(){var e=t(),n=l.a.Ha(e);return n&&"number"!=typeof n.length?(l.a.c(e),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:l.J.Aa}):{foreach:e,templateEngine:l.J.Aa}}},init:function(t,e){return l.d.template.init(t,l.d.foreach.hb(e))},update:function(t,e,n,i,r){return l.d.template.update(t,l.d.foreach.hb(e),n,i,r)}},l.g.Y.foreach=!1,l.e.P.foreach=!0,l.d.hasfocus={init:function(t,e,n){function i(i){t.__ko_hasfocusUpdating=!0;var r=t.ownerDocument;if("activeElement"in r){var a;
try{a=r.activeElement}catch(o){a=r.body}i=a===t}r=e(),l.g.oa(r,n,"hasfocus",i,!0),t.__ko_hasfocusLastValue=i,t.__ko_hasfocusUpdating=!1}var r=i.bind(null,!0),a=i.bind(null,!1);l.a.r(t,"focus",r),l.a.r(t,"focusin",r),l.a.r(t,"blur",a),l.a.r(t,"focusout",a)},update:function(t,e){var n=!!l.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===n||(n?t.focus():t.blur(),l.i.p(l.a.da,null,[t,n?"focusin":"focusout"]))}},l.g.U.hasfocus=!0,l.d.hasFocus=l.d.hasfocus,l.g.U.hasFocus=!0,l.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){l.a.Ka(t,e())}};var g=l.a.f.D();u("if"),u("ifnot",!1,!0),u("with",!0,!1,function(t,e){return t.createChildContext(e)}),l.d.options={init:function(t){if("select"!==l.a.v(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(e,i,r){function a(){return l.a.ga(e.options,function(t){return t.selected})}function o(t,e,n){var i=typeof e;return"function"==i?e(t):"string"==i?t[e]:n}function s(t,n){if(c.length){var i=0<=l.a.l(c,l.k.o(n[0]));l.a.qb(n[0],i),d&&!i&&l.i.p(l.a.da,null,[e,"change"])}}var u=0!=e.length&&e.multiple?e.scrollTop:null;i=l.a.c(i());var c,h=r.get("optionsIncludeDestroyed"),p={};if(c=e.multiple?l.a.ha(a(),l.k.o):0<=e.selectedIndex?[l.k.o(e.options[e.selectedIndex])]:[],i){"undefined"==typeof i.length&&(i=[i]);var f=l.a.ga(i,function(e){return h||e===t||null===e||!l.a.c(e._destroy)});r.has("optionsCaption")&&(i=l.a.c(r.get("optionsCaption")),null!==i&&i!==t&&f.unshift(p))}else i=[];var d=!1;i=s,r.has("optionsAfterRender")&&(i=function(e,n){s(0,n),l.i.p(r.get("optionsAfterRender"),null,[n[0],e!==p?e:t])}),l.a.Ja(e,f,function(e,i,a){return a.length&&(c=a[0].selected?[l.k.o(a[0])]:[],d=!0),i=n.createElement("option"),e===p?(l.a.Ma(i,r.get("optionsCaption")),l.k.na(i,t)):(a=o(e,r.get("optionsValue"),e),l.k.na(i,l.a.c(a)),e=o(e,r.get("optionsText"),a),l.a.Ma(i,e)),[i]},null,i),(e.multiple?c.length&&a().length<c.length:c.length&&0<=e.selectedIndex?l.k.o(e.options[e.selectedIndex])!==c[0]:c.length||0<=e.selectedIndex)&&l.i.p(l.a.da,null,[e,"change"]),l.a.Hb(e),u&&20<Math.abs(u-e.scrollTop)&&(e.scrollTop=u)}},l.d.options.Ea=l.a.f.D(),l.d.selectedOptions={after:["options","foreach"],init:function(t,e,n){l.a.r(t,"change",function(){var i=e(),r=[];l.a.n(t.getElementsByTagName("option"),function(t){t.selected&&r.push(l.k.o(t))}),l.g.oa(i,n,"selectedOptions",r)})},update:function(t,e){if("select"!=l.a.v(t))throw Error("values binding applies only to SELECT elements");var n=l.a.c(e());n&&"number"==typeof n.length&&l.a.n(t.getElementsByTagName("option"),function(t){var e=0<=l.a.l(n,l.k.o(t));l.a.qb(t,e)})}},l.g.U.selectedOptions=!0,l.d.style={update:function(t,e){var n=l.a.c(e()||{});l.a.K(n,function(e,n){n=l.a.c(n),t.style[e]=n||""})}},l.d.submit={init:function(t,e,n,i,r){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");l.a.r(t,"submit",function(n){var i,a=e();try{i=a.call(r.$data,t)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},l.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){l.a.Ma(t,e())}},l.e.P.text=!0,l.d.uniqueName={init:function(t,e){if(e()){var n="ko_unique_"+ ++l.d.uniqueName.Bb;l.a.pb(t,n)}}},l.d.uniqueName.Bb=0,l.d.value={after:["options","foreach"],init:function(t,e,n){function i(){o=!1;var i=e(),r=l.k.o(t);l.g.oa(i,n,"value",r)}var r=["change"],a=n.get("valueUpdate"),o=!1;a&&("string"==typeof a&&(a=[a]),l.a.X(r,a),r=l.a.Va(r)),!l.a.ja||"input"!=t.tagName.toLowerCase()||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=l.a.l(r,"propertychange")||(l.a.r(t,"propertychange",function(){o=!0}),l.a.r(t,"blur",function(){o&&i()})),l.a.n(r,function(e){var n=i;l.a.ac(e,"after")&&(n=function(){setTimeout(i,0)},e=e.substring(5)),l.a.r(t,e,n)})},update:function(t,e){var n="select"===l.a.v(t),i=l.a.c(e()),r=l.k.o(t);i!==r&&(r=function(){l.k.na(t,i)},r(),n&&(i!==l.k.o(t)?l.i.p(l.a.da,null,[t,"change"]):setTimeout(r,0)))}},l.g.U.value=!0,l.d.visible={update:function(t,e){var n=l.a.c(e()),i="none"!=t.style.display;n&&!i?t.style.display="":!n&&i&&(t.style.display="none")}},function(t){l.d[t]={init:function(e,n,i,r,a){return l.d.event.init.call(this,e,function(){var e={};return e[t]=n(),e},i,r,a)}}}("click"),l.w=function(){},l.w.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},l.w.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},l.w.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||n;var i=e.getElementById(t);if(!i)throw Error("Cannot find template with ID "+t);return new l.m.j(i)}if(1==t.nodeType||8==t.nodeType)return new l.m.W(t);throw Error("Unknown template type: "+t)},l.w.prototype.renderTemplate=function(t,e,n,i){return t=this.makeTemplateSource(t,i),this.renderTemplateSource(t,e,n)},l.w.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(t,e).data("isRewritten")},l.w.prototype.rewriteTemplate=function(t,e,n){t=this.makeTemplateSource(t,n),e=e(t.text()),t.text(e),t.data("isRewritten",!0)},l.b("templateEngine",l.w),l.Oa=function(){function t(t,e,n,i){t=l.g.Ga(t);for(var r=l.g.Y,a=0;a<t.length;a++){var o=t[a].key;if(r.hasOwnProperty(o)){var s=r[o];if("function"==typeof s){if(o=s(t[a].value))throw Error(o)}else if(!s)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+l.g.ka(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ib:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return l.Oa.Ub(t,e)},n)},Ub:function(i,r){return i.replace(e,function(e,n,i,a,o){return t(o,n,i,r)}).replace(n,function(e,n){return t(n,"<!-- ko -->","#comment",r)})},yb:function(t,e){return l.u.Ca(function(n,i){var r=n.nextSibling;r&&r.nodeName.toLowerCase()===e&&l.pa(r,t,i)})}}}(),l.b("__tr_ambtns",l.Oa.yb),function(){l.m={},l.m.j=function(t){this.j=t},l.m.j.prototype.text=function(){var t=l.a.v(this.j),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.j[t];var e=arguments[0];"innerHTML"===t?l.a.Ka(this.j,e):this.j[t]=e};var e=l.a.f.D()+"_";l.m.j.prototype.data=function(t){return 1===arguments.length?l.a.f.get(this.j,e+t):(l.a.f.set(this.j,e+t,arguments[1]),void 0)};var n=l.a.f.D();l.m.W=function(t){this.j=t},l.m.W.prototype=new l.m.j,l.m.W.prototype.text=function(){if(0==arguments.length){var e=l.a.f.get(this.j,n)||{};return e.Pa===t&&e.sa&&(e.Pa=e.sa.innerHTML),e.Pa}l.a.f.set(this.j,n,{Pa:arguments[0]})},l.m.j.prototype.nodes=function(){return 0==arguments.length?(l.a.f.get(this.j,n)||{}).sa:(l.a.f.set(this.j,n,{sa:arguments[0]}),void 0)},l.b("templateSources",l.m),l.b("templateSources.domElement",l.m.j),l.b("templateSources.anonymousTemplate",l.m.W)}(),function(){function e(t,e,n){var i;for(e=l.e.nextSibling(e);t&&(i=t)!==e;)t=l.e.nextSibling(i),n(i,t)}function n(t,n){if(t.length){var i=t[0],r=t[t.length-1],a=i.parentNode,o=l.H.instance,s=o.preprocessNode;if(s){if(e(i,r,function(t,e){var n=t.previousSibling,a=s.call(o,t);a&&(t===i&&(i=a[0]||e),t===r&&(r=a[a.length-1]||n))}),t.length=0,!i)return;i===r?t.push(i):(t.push(i,r),l.a.$(t,a))}e(i,r,function(t){1!==t.nodeType&&8!==t.nodeType||l.Sa(n,t)}),e(i,r,function(t){1!==t.nodeType&&8!==t.nodeType||l.u.vb(t,[n])}),l.a.$(t,a)}}function i(t){return t.nodeType?t:0<t.length?t[0]:null}function r(t,e,r,o,s){s=s||{};var u=t&&i(t),u=u&&u.ownerDocument,c=s.templateEngine||a;if(l.Oa.Ib(r,c,u),r=c.renderTemplate(r,o,s,u),"number"!=typeof r.length||0<r.length&&"number"!=typeof r[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(u=!1,e){case"replaceChildren":l.e.S(t,r),u=!0;break;case"replaceNode":l.a.nb(t,r),u=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return u&&(n(r,o),s.afterRender&&l.i.p(s.afterRender,null,[r,o.$data])),r}var a;l.La=function(e){if(e!=t&&!(e instanceof l.w))throw Error("templateEngine must inherit from ko.templateEngine");a=e},l.Ia=function(e,n,o,s,u){if(o=o||{},(o.templateEngine||a)==t)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",s){var c=i(s);return l.h(function(){var t=n&&n instanceof l.G?n:new l.G(l.a.c(n)),a="function"==typeof e?e(t.$data,t):e,t=r(s,u,a,t,o);"replaceNode"==u&&(s=t,c=i(s))},null,{ua:function(){return!c||!l.a.va(c)},I:c&&"replaceNode"==u?c.parentNode:c})}return l.u.Ca(function(t){l.Ia(e,n,o,t,"replaceNode")})},l.$b=function(e,i,a,o,s){function u(t,e){n(e,h),a.afterRender&&a.afterRender(e,t)}function c(t,n){h=s.createChildContext(t,a.as,function(t){t.$index=n});var i="function"==typeof e?e(t,h):e;return r(null,"ignoreTargetNode",i,h,a)}var h;return l.h(function(){var e=l.a.c(i)||[];"undefined"==typeof e.length&&(e=[e]),e=l.a.ga(e,function(e){return a.includeDestroyed||e===t||null===e||!l.a.c(e._destroy)}),l.i.p(l.a.Ja,null,[o,e,c,a,u])},null,{I:o})};var o=l.a.f.D();l.d.template={init:function(t,e){var n=l.a.c(e());return"string"==typeof n||n.name?l.e.Z(t):(n=l.e.childNodes(t),n=l.a.Vb(n),new l.m.W(t).nodes(n)),{controlsDescendantBindings:!0}},update:function(e,n,i,r,a){n=l.a.c(n()),i={},r=!0;var s,u=null;"string"!=typeof n&&(i=n,n=l.a.c(i.name),"if"in i&&(r=l.a.c(i["if"])),r&&"ifnot"in i&&(r=!l.a.c(i.ifnot)),s=l.a.c(i.data)),"foreach"in i?u=l.$b(n||e,r&&i.foreach||[],i,e,a):r?(a="data"in i?a.createChildContext(s,i.as):a,u=l.Ia(n||e,a,i,e)):l.e.Z(e),a=u,(s=l.a.f.get(e,o))&&"function"==typeof s.B&&s.B(),l.a.f.set(e,o,a&&a.aa()?a:t)}},l.g.Y.template=function(t){return t=l.g.Ga(t),1==t.length&&t[0].unknown||l.g.Sb(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},l.e.P.template=!0}(),l.b("setTemplateEngine",l.La),l.b("renderTemplate",l.Ia),l.a.ra=function(){function t(t,e,n,i,r){var a,o,s,u,l,c=Math.min,h=Math.max,p=[],f=t.length,d=e.length,g=d-f||1,m=f+d+1;for(a=0;f>=a;a++)for(u=s,p.push(s=[]),l=c(d,a+g),o=h(0,a-1);l>=o;o++)s[o]=o?a?t[a-1]===e[o-1]?u[o-1]:c(u[o]||m,s[o-1]||m)+1:o+1:a+1;for(c=[],h=[],g=[],a=f,o=d;a||o;)d=p[a][o]-1,o&&d===p[a][o-1]?h.push(c[c.length]={status:n,value:e[--o],index:o}):a&&d===p[a-1][o]?g.push(c[c.length]={status:i,value:t[--a],index:a}):(--o,--a,r.sparse||c.push({status:"retained",value:e[o]}));if(h.length&&g.length){t=10*f;var v;for(e=n=0;(r.dontLimitMoves||t>e)&&(v=h[n]);n++){for(i=0;p=g[i];i++)if(v.value===p.value){v.moved=p.index,p.moved=v.index,g.splice(i,1),e=i=0;break}e+=i}}return c.reverse()}return function(e,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},e=e||[],n=n||[],e.length<=n.length?t(e,n,"added","deleted",i):t(n,e,"deleted","added",i)}}(),l.b("utils.compareArrays",l.a.ra),function(){function e(e,n,i,r,a){var o=[],s=l.h(function(){var t=n(i,a,l.a.$(o,e))||[];0<o.length&&(l.a.nb(o,t),r&&l.i.p(r,null,[i,t,a])),o.splice(0,o.length),l.a.X(o,t)},null,{I:e,ua:function(){return!l.a.Ra(o)}});return{R:o,h:s.aa()?s:t}}var n=l.a.f.D();l.a.Ja=function(i,r,a,o,s){function u(t,e){k=p[e],v!==e&&(w[t]=k),k.za(v++),l.a.$(k.R,i),g.push(k),y.push(k)}function c(t,e){if(t)for(var n=0,i=e.length;i>n;n++)e[n]&&l.a.n(e[n].R,function(i){t(i,n,e[n].fa)})}r=r||[],o=o||{};var h=l.a.f.get(i,n)===t,p=l.a.f.get(i,n)||[],f=l.a.ha(p,function(t){return t.fa}),d=l.a.ra(f,r,o.dontLimitMoves),g=[],m=0,v=0,b=[],y=[];r=[];for(var k,x,S,w=[],f=[],E=0;x=d[E];E++)switch(S=x.moved,x.status){case"deleted":S===t&&(k=p[m],k.h&&k.h.B(),b.push.apply(b,l.a.$(k.R,i)),o.beforeRemove&&(r[E]=k,y.push(k))),m++;break;case"retained":u(E,m++);break;case"added":S!==t?u(E,S):(k={fa:x.value,za:l.q(v++)},g.push(k),y.push(k),h||(f[E]=k))}c(o.beforeMove,w),l.a.n(b,o.beforeRemove?l.L:l.removeNode);for(var N,E=0,h=l.e.firstChild(i);k=y[E];E++){for(k.R||l.a.extend(k,e(i,a,k.fa,s,k.za)),m=0;d=k.R[m];h=d.nextSibling,N=d,m++)d!==h&&l.e.eb(i,d,N);!k.Ob&&s&&(s(k.fa,k.R,k.za),k.Ob=!0)}c(o.beforeRemove,r),c(o.afterMove,w),c(o.afterAdd,f),l.a.f.set(i,n,g)}}(),l.b("utils.setDomNodeChildrenFromArrayMapping",l.a.Ja),l.J=function(){this.allowTemplateRewriting=!1},l.J.prototype=new l.w,l.J.prototype.renderTemplateSource=function(t){var e=(9>l.a.ja?0:t.nodes)?t.nodes():null;return e?l.a.Q(e.cloneNode(!0).childNodes):(t=t.text(),l.a.Fa(t))},l.J.Aa=new l.J,l.La(l.J.Aa),l.b("nativeTemplateEngine",l.J),function(){l.Ba=function(){var t=this.Rb=function(){if("undefined"==typeof r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(e,i,a){if(a=a||{},2>t)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=e.data("precompiled");return o||(o=e.text()||"",o=r.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),e.data("precompiled",o)),e=[i.$data],i=r.extend({koBindingContext:i},a.templateOptions),i=r.tmpl(o,e,i),i.appendTo(n.createElement("div")),r.fragments={},i},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){n.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},t>0&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},l.Ba.prototype=new l.w;var t=new l.Ba;0<t.Rb&&l.La(t),l.b("jqueryTmplTemplateEngine",l.Ba)}()})}()}();
define('durandal/binder',["durandal/system","knockout"],function(e,t){function n(t){return void 0===t?{applyBindings:!0}:e.isBoolean(t)?{applyBindings:t}:(void 0===t.applyBindings&&(t.applyBindings=!0),t)}function i(i,l,u,h){if(!l||!u)return r.throwOnErrors?e.error(a):e.log(a,l,h),void 0;if(!l.getAttribute)return r.throwOnErrors?e.error(o):e.log(o,l,h),void 0;var d=l.getAttribute("data-view");try{var p;return i&&i.binding&&(p=i.binding(l)),p=n(p),r.beforeBind(h,l,p),p.applyBindings?(e.log("Binding",d,h),t.applyBindings(u,l)):i&&t.utils.domData.set(l,c,{$data:i}),r.afterBind(h,l,p),i&&i.bindingComplete&&i.bindingComplete(l),t.utils.domData.set(l,s,p),p}catch(f){f.message=f.message+";\nView: "+d+";\nModuleId: "+e.getModuleId(h),r.throwOnErrors?e.error(f):e.log(f.message)}}var r,a="Insufficient Information to Bind",o="Unexpected View Type",s="durandal-binding-instruction",c="__ko_bindingContext__";return r={beforeBind:e.noop,afterBind:e.noop,throwOnErrors:!1,getBindingInstruction:function(e){return t.utils.domData.get(e,s)},bindContext:function(e,t,n){return n&&(e=e.createChildContext(n)),i(n,t,e,n||e.$data)},bind:function(e,t){return i(e,t,e,e)}}});
define('durandal/activator',["durandal/system","knockout"],function(e,t){function n(e){return void 0==e&&(e={}),e.closeOnDeactivate||(e.closeOnDeactivate=l.defaults.closeOnDeactivate),e.beforeActivate||(e.beforeActivate=l.defaults.beforeActivate),e.afterDeactivate||(e.afterDeactivate=l.defaults.afterDeactivate),e.affirmations||(e.affirmations=l.defaults.affirmations),e.interpretResponse||(e.interpretResponse=l.defaults.interpretResponse),e.areSameItem||(e.areSameItem=l.defaults.areSameItem),e}function i(t,n,i){return e.isArray(i)?t[n].apply(t,i):t[n](i)}function r(t,n,i,r,a){if(t&&t.deactivate){e.log("Deactivating",t);var o;try{o=t.deactivate(n)}catch(s){return e.error(s),r.resolve(!1),void 0}o&&o.then?o.then(function(){i.afterDeactivate(t,n,a),r.resolve(!0)},function(t){e.log(t),r.resolve(!1)}):(i.afterDeactivate(t,n,a),r.resolve(!0))}else t&&i.afterDeactivate(t,n,a),r.resolve(!0)}function a(t,n,r,a){if(t)if(t.activate){e.log("Activating",t);var o;try{o=i(t,"activate",a)}catch(s){return e.error(s),r(!1),void 0}o&&o.then?o.then(function(){n(t),r(!0)},function(t){e.log(t),r(!1)}):(n(t),r(!0))}else n(t),r(!0);else r(!0)}function o(t,n,i){return i.lifecycleData=null,e.defer(function(r){if(t&&t.canDeactivate){var a;try{a=t.canDeactivate(n)}catch(o){return e.error(o),r.resolve(!1),void 0}a.then?a.then(function(e){i.lifecycleData=e,r.resolve(i.interpretResponse(e))},function(t){e.error(t),r.resolve(!1)}):(i.lifecycleData=a,r.resolve(i.interpretResponse(a)))}else r.resolve(!0)}).promise()}function s(t,n,r,a){return r.lifecycleData=null,e.defer(function(o){if(t==n())return o.resolve(!0),void 0;if(t&&t.canActivate){var s;try{s=i(t,"canActivate",a)}catch(c){return e.error(c),o.resolve(!1),void 0}s.then?s.then(function(e){r.lifecycleData=e,o.resolve(r.interpretResponse(e))},function(t){e.error(t),o.resolve(!1)}):(r.lifecycleData=s,o.resolve(r.interpretResponse(s)))}else o.resolve(!0)}).promise()}function c(i,c){var l,u=t.observable(null);c=n(c);var h=t.computed({read:function(){return u()},write:function(e){h.viaSetter=!0,h.activateItem(e)}});return h.__activator__=!0,h.settings=c,c.activator=h,h.isActivating=t.observable(!1),h.canDeactivateItem=function(e,t){return o(e,t,c)},h.deactivateItem=function(t,n){return e.defer(function(e){h.canDeactivateItem(t,n).then(function(i){i?r(t,n,c,e,u):(h.notifySubscribers(),e.resolve(!1))})}).promise()},h.canActivateItem=function(e,t){return s(e,u,c,t)},h.activateItem=function(t,n){var i=h.viaSetter;return h.viaSetter=!1,e.defer(function(o){if(h.isActivating())return o.resolve(!1),void 0;h.isActivating(!0);var s=u();return c.areSameItem(s,t,l,n)?(h.isActivating(!1),o.resolve(!0),void 0):(h.canDeactivateItem(s,c.closeOnDeactivate).then(function(d){d?h.canActivateItem(t,n).then(function(d){d?e.defer(function(e){r(s,c.closeOnDeactivate,c,e)}).promise().then(function(){t=c.beforeActivate(t,n),a(t,u,function(e){l=n,h.isActivating(!1),o.resolve(e)},n)}):(i&&h.notifySubscribers(),h.isActivating(!1),o.resolve(!1))}):(i&&h.notifySubscribers(),h.isActivating(!1),o.resolve(!1))}),void 0)}).promise()},h.canActivate=function(){var e;return i?(e=i,i=!1):e=h(),h.canActivateItem(e)},h.activate=function(){var e;return i?(e=i,i=!1):e=h(),h.activateItem(e)},h.canDeactivate=function(e){return h.canDeactivateItem(h(),e)},h.deactivate=function(e){return h.deactivateItem(h(),e)},h.includeIn=function(e){e.canActivate=function(){return h.canActivate()},e.activate=function(){return h.activate()},e.canDeactivate=function(e){return h.canDeactivate(e)},e.deactivate=function(e){return h.deactivate(e)}},c.includeIn?h.includeIn(c.includeIn):i&&h.activate(),h.forItems=function(t){c.closeOnDeactivate=!1,c.determineNextItemToActivate=function(e,t){var n=t-1;return-1==n&&e.length>1?e[1]:n>-1&&n<e.length-1?e[n]:null},c.beforeActivate=function(e){var n=h();if(e){var i=t.indexOf(e);-1==i?t.push(e):e=t()[i]}else e=c.determineNextItemToActivate(t,n?t.indexOf(n):0);return e},c.afterDeactivate=function(e,n){n&&t.remove(e)};var n=h.canDeactivate;h.canDeactivate=function(i){return i?e.defer(function(e){function n(){for(var t=0;t<a.length;t++)if(!a[t])return e.resolve(!1),void 0;e.resolve(!0)}for(var r=t(),a=[],o=0;o<r.length;o++)h.canDeactivateItem(r[o],i).then(function(e){a.push(e),a.length==r.length&&n()})}).promise():n()};var i=h.deactivate;return h.deactivate=function(n){return n?e.defer(function(e){function i(i){h.deactivateItem(i,n).then(function(){a++,t.remove(i),a==o&&e.resolve()})}for(var r=t(),a=0,o=r.length,s=0;o>s;s++)i(r[s])}).promise():i()},h},h}var l,u={closeOnDeactivate:!0,affirmations:["yes","ok","true"],interpretResponse:function(n){return e.isObject(n)&&(n=n.can||!1),e.isString(n)?-1!==t.utils.arrayIndexOf(this.affirmations,n.toLowerCase()):n},areSameItem:function(e,t){return e==t},beforeActivate:function(e){return e},afterDeactivate:function(e,t,n){t&&n&&n(null)}};return l={defaults:u,create:c,isActivator:function(e){return e&&e.__activator__}}});
define('durandal/composition',["durandal/system","durandal/viewLocator","durandal/binder","durandal/viewEngine","durandal/activator","jquery","knockout"],function(e,t,n,i,r,a,o){function s(e){for(var t=[],n={childElements:t,activeView:null},i=o.virtualElements.firstChild(e);i;)1==i.nodeType&&(t.push(i),i.getAttribute(y)&&(n.activeView=i)),i=o.virtualElements.nextSibling(i);return n.activeView||(n.activeView=t[0]),n}function c(){V--,0===V&&setTimeout(function(){for(var e=N.length;e--;)N[e]();N=[]},1)}function l(e){e.deactivate&&e.model&&e.model.deactivate&&o.utils.domNodeDisposal.addDisposeCallback(e.parent,function(){e.model.deactivate()})}function u(t,n,i){if(i)n();else if(t.activate&&t.model&&t.model.activate){var r;r=e.isArray(t.activationData)?t.model.activate.apply(t.model,t.activationData||require("plugins/router").activeRouteParams()):t.model.activate(t.activationData||require("plugins/router").activeRouteParams()),r&&r.then?r.then(n):r||void 0===r?n():c()}else n()}function h(){var t=this;t.activeView&&t.activeView.removeAttribute(y),t.child&&(t.model&&t.model.attached&&(t.composingNewView||t.alwaysTriggerAttach)&&t.model.attached(t.child,t.parent,t),t.attached&&t.attached(t.child,t.parent,t),t.child.setAttribute(y,!0),t.composingNewView&&t.model&&(t.model.compositionComplete&&v.current.complete(function(){t.model.compositionComplete(t.child,t.parent,t)}),t.model.detached&&o.utils.domNodeDisposal.addDisposeCallback(t.child,function(){t.model.detached(t.child,t.parent,t)})),t.compositionComplete&&v.current.complete(function(){t.compositionComplete(t.child,t.parent,t)})),c(),t.triggerAttach=e.noop}function d(t){if(e.isString(t.transition)){if(t.activeView){if(t.activeView==t.child)return!1;if(!t.child)return!0;if(t.skipTransitionOnSameViewId){var n=t.activeView.getAttribute("data-view"),i=t.child.getAttribute("data-view");return n!=i}}return!0}return!1}function p(e){for(var t=0,n=e.length,i=[];n>t;t++){var r=e[t].cloneNode(!0);i.push(r)}return i}function f(e){var t=p(e.parts),n=v.getParts(t,null,!0),i=v.getParts(e.child);for(var r in n)a(i[r]).replaceWith(n[r])}function g(t){var n,i,r=o.virtualElements.childNodes(t);if(!e.isArray(r)){var a=[];for(n=0,i=r.length;i>n;n++)a[n]=r[n];r=a}for(n=1,i=r.length;i>n;n++)o.removeNode(r[n])}function m(e){var t=e.getAttribute("data-bind");if(!t)return!1;for(var n=0,i=Z.length;i>n;n++)if(t.indexOf(Z[n])>-1)return!0;return!1}var v,b={},y="data-active-view",N=[],V=0,R="durandal-composition-data",k="data-part",C=["model","view","transition","area","strategy","activationData"],Z=["compose:"],F={complete:function(e){N.push(e)}};return v={convertTransitionToModuleId:function(e){return"transitions/"+e},current:F,addBindingHandler:function(e,t,n){var i,r,a="composition-handler-"+e;t=t||o.bindingHandlers[e],n=n||function(){return void 0},r=o.bindingHandlers[e]={init:function(e,i,r,s,c){var l={trigger:o.observable(null)};return v.current.complete(function(){t.init&&t.init(e,i,r,s,c),t.update&&(o.utils.domData.set(e,a,t),l.trigger("trigger"))}),o.utils.domData.set(e,a,l),n(e,i,r,s,c)},update:function(e,t,n,i,r){var s=o.utils.domData.get(e,a);return s.update?s.update(e,t,n,i,r):(s.trigger(),void 0)}};for(i in t)"init"!==i&&"update"!==i&&(r[i]=t[i])},getParts:function(e,t,n){if(t=t||{},!e)return t;void 0===e.length&&(e=[e]);for(var i=0,r=e.length;r>i;i++){var a=e[i];if(a.getAttribute){if(!n&&m(a))continue;var o=a.getAttribute(k);o&&(t[o]=a),!n&&a.hasChildNodes()&&v.getParts(a.childNodes,t)}}return t},cloneNodes:p,finalize:function(t){if(t.transition=t.transition||this.defaultTransitionName,t.child||t.activeView)if(d(t)){var i=this.convertTransitionToModuleId(t.transition);e.acquire(i).then(function(e){t.transition=e,e(t).then(function(){if(t.cacheViews){if(t.activeView){var e=n.getBindingInstruction(t.activeView);void 0==e.cacheViews||e.cacheViews||o.removeNode(t.activeView)}}else t.child?g(t.parent):o.virtualElements.emptyNode(t.parent);t.triggerAttach()})}).fail(function(t){e.error("Failed to load transition ("+i+"). Details: "+t.message)})}else{if(t.child!=t.activeView){if(t.cacheViews&&t.activeView){var r=n.getBindingInstruction(t.activeView);void 0==r.cacheViews||r.cacheViews?a(t.activeView).hide():o.removeNode(t.activeView)}t.child?(t.cacheViews||g(t.parent),a(t.child).show()):t.cacheViews||o.virtualElements.emptyNode(t.parent)}t.triggerAttach()}else t.cacheViews||o.virtualElements.emptyNode(t.parent),t.triggerAttach()},bindAndShow:function(e,t,r){t.child=e,t.composingNewView=t.cacheViews?-1==o.utils.arrayIndexOf(t.viewElements,e):!0,l(t),u(t,function(){if(t.beforeBind&&t.beforeBind(e,t),t.preserveContext&&t.bindingContext)t.composingNewView&&(t.parts&&f(t),a(e).hide(),o.virtualElements.prepend(t.parent,e),n.bindContext(t.bindingContext,e,t.model));else if(e){var r=t.model||b,s=o.dataFor(e);if(s!=r){if(!t.composingNewView)return a(e).remove(),i.createView(e.getAttribute("data-view")).then(function(e){v.bindAndShow(e,t,!0)}),void 0;t.parts&&f(t),a(e).hide(),o.virtualElements.prepend(t.parent,e),n.bind(r,e)}}v.finalize(t)},r)},defaultStrategy:function(e){return t.locateViewForObject(e.model,e.viewElements)},getSettings:function(t){var n,a=t(),s=o.utils.unwrapObservable(a)||{},c=r.isActivator(a);if(e.isString(s))return s=i.isViewUrl(s)?{view:s}:{model:s,activate:!1};if(n=e.getModuleId(s))return s={model:s,activate:!1};!c&&s.model&&(c=r.isActivator(s.model));for(var l in s)s[l]=-1!=o.utils.arrayIndexOf(C,l)?o.utils.unwrapObservable(s[l]):s[l];return c?s.activate=!1:void 0===s.activate&&(s.activate=!1),s},executeStrategy:function(e){e.strategy(e).then(function(t){v.bindAndShow(t,e)})},inject:function(n){return n.model?n.view?(t.locateView(n.view,n.area,n.viewElements).then(function(e){v.bindAndShow(e,n)}),void 0):(n.strategy||(n.strategy=this.defaultStrategy),e.isString(n.strategy)?e.acquire(n.strategy).then(function(e){n.strategy=e,v.executeStrategy(n)}).fail(function(t){e.error("Failed to load view strategy ("+n.strategy+"). Details: "+t.message)}):this.executeStrategy(n),void 0):(this.bindAndShow(null,n),void 0)},compose:function(n,i,r,a){V++,a||(i=v.getSettings(function(){return i},n));var o=s(n);i.activeView=o.activeView,i.parent=n,i.triggerAttach=h,i.bindingContext=r,i.cacheViews&&!i.viewElements&&(i.viewElements=o.childElements),i.model?e.isString(i.model)?e.acquire(i.model).then(function(module){i.model=e.resolveObject(module),v.inject(i)}).fail(function(t){e.error("Failed to load composed module ("+i.model+"). Details: "+t.message)}):v.inject(i):i.view?(i.area=i.area||"partial",i.preserveContext=!0,t.locateView(i.view,i.area,i.viewElements).then(function(e){v.bindAndShow(e,i)})):this.bindAndShow(null,i)}},o.bindingHandlers.compose={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,r,a){var s=v.getSettings(t,e);if(s.mode){var c=o.utils.domData.get(e,R);if(!c){var l=o.virtualElements.childNodes(e);c={},"inline"===s.mode?c.view=i.ensureSingleElement(l):"templated"===s.mode&&(c.parts=p(l)),o.virtualElements.emptyNode(e),o.utils.domData.set(e,R,c)}"inline"===s.mode?s.view=c.view.cloneNode(!0):"templated"===s.mode&&(s.parts=c.parts),s.preserveContext=!0}v.compose(e,s,a,!0)}},o.virtualElements.allowedBindings.compose=!0,v});
define('durandal/events',["durandal/system"],function(e){var t=/\s+/,n=function(){},i=function(e,t){this.owner=e,this.events=t};return i.prototype.then=function(e,t){return this.callback=e||this.callback,this.context=t||this.context,this.callback?(this.owner.on(this.events,this.callback,this.context),this):this},i.prototype.on=i.prototype.then,i.prototype.off=function(){return this.owner.off(this.events,this.callback,this.context),this},n.prototype.on=function(e,n,r){var a,o,s;if(n){for(a=this.callbacks||(this.callbacks={}),e=e.split(t);o=e.shift();)s=a[o]||(a[o]=[]),s.push(n,r);return this}return new i(this,e)},n.prototype.off=function(n,i,r){var a,o,s,c;if(!(o=this.callbacks))return this;if(!(n||i||r))return delete this.callbacks,this;for(n=n?n.split(t):e.keys(o);a=n.shift();)if((s=o[a])&&(i||r))for(c=s.length-2;c>=0;c-=2)i&&s[c]!==i||r&&s[c+1]!==r||s.splice(c,2);else delete o[a];return this},n.prototype.trigger=function(e){var n,i,r,a,o,s,c,l;if(!(i=this.callbacks))return this;for(l=[],e=e.split(t),a=1,o=arguments.length;o>a;a++)l[a-1]=arguments[a];for(;n=e.shift();){if((c=i.all)&&(c=c.slice()),(r=i[n])&&(r=r.slice()),r)for(a=0,o=r.length;o>a;a+=2)r[a].apply(r[a+1]||this,l);if(c)for(s=[n].concat(l),a=0,o=c.length;o>a;a+=2)c[a].apply(c[a+1]||this,s)}return this},n.prototype.proxy=function(e){var t=this;return function(n){t.trigger(e,n)}},n.includeIn=function(e){e.on=n.prototype.on,e.off=n.prototype.off,e.trigger=n.prototype.trigger,e.proxy=n.prototype.proxy},n});
define('durandal/app',["durandal/system","durandal/viewEngine","durandal/composition","durandal/events","jquery"],function(e,t,n,i,r){function a(){return e.defer(function(t){return 0==s.length?(t.resolve(),void 0):(e.acquire(s).then(function(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.install){var a=c[i];e.isObject(a)||(a={}),r.install(a),e.log("Plugin:Installed "+s[i])}else e.log("Plugin:Loaded "+s[i])}t.resolve()}).fail(function(t){e.error("Failed to load plugin(s). Details: "+t.message)}),void 0)}).promise()}var o,s=[],c=[];return o={title:"Application",configurePlugins:function(t,n){var i=e.keys(t);n=n||"plugins/",-1===n.indexOf("/",n.length-1)&&(n+="/");for(var r=0;r<i.length;r++){var a=i[r];s.push(n+a),c.push(t[a])}},start:function(){return e.log("Application:Starting"),this.title&&(document.title=this.title),e.defer(function(t){r(function(){a().then(function(){t.resolve(),e.log("Application:Started")})})}).promise()},setRoot:function(i,r,a){var o,s={activate:!0,transition:r};o=!a||e.isString(a)?document.getElementById(a||"applicationHost"):a,e.isString(i)?t.isViewUrl(i)?s.view=i:s.model=i:s.model=i,n.compose(o,s)}},i.includeIn(o),o});
define('plugins/history',["durandal/system","jquery"],function(e,n){function t(e,n,t){if(t){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+n)}else e.hash="#"+n}var r=/^[#\/]|\s+$/g,i=/^\/+|\/+$/g,o=/msie [\w.]+/,a=/\/$/,u={interval:50,active:!1};return"undefined"!=typeof window&&(u.location=window.location,u.history=window.history),u.getHash=function(e){var n=(e||u).location.href.match(/#(.*)$/);return n?n[1]:""},u.getFragment=function(e,n){if(null==e)if(u._hasPushState||!u._wantsHashChange||n){e=u.location.pathname;var t=u.root.replace(a,"");e.indexOf(t)||(e=e.substr(t.length))}else e=u.getHash();return e.replace(r,"")},u.activate=function(t){u.active&&e.error("History has already been activated."),u.active=!0,u.options=e.extend({},{root:"/"},u.options,t),u.root=u.options.root,u._wantsHashChange=u.options.hashChange!==!1,u._wantsPushState=!!u.options.pushState,u._hasPushState=!!(u.options.pushState&&u.history&&u.history.pushState);var a=u.getFragment(),s=document.documentMode,c=o.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);u.root=("/"+u.root+"/").replace(i,"/"),c&&u._wantsHashChange&&(u.iframe=n('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,u.navigate(a)),u._hasPushState?n(window).on("popstate",u.checkUrl):u._wantsHashChange&&"onhashchange"in window&&!c?n(window).on("hashchange",u.checkUrl):u._wantsHashChange&&(u._checkUrlInterval=setInterval(u.checkUrl,u.interval)),u.fragment=a;var l=u.location,f=l.pathname.replace(/[^\/]$/,"$&/")===u.root;if(u._wantsHashChange&&u._wantsPushState){if(!u._hasPushState&&!f)return u.fragment=u.getFragment(null,!0),u.location.replace(u.root+u.location.search+"#"+u.fragment),!0;u._hasPushState&&f&&l.hash&&(this.fragment=u.getHash().replace(r,""),this.history.replaceState({},document.title,u.root+u.fragment+l.search))}return u.options.silent?void 0:u.loadUrl()},u.deactivate=function(){n(window).off("popstate",u.checkUrl).off("hashchange",u.checkUrl),clearInterval(u._checkUrlInterval),u.active=!1},u.checkUrl=function(){var e=u.getFragment();return e===u.fragment&&u.iframe&&(e=u.getFragment(u.getHash(u.iframe))),e===u.fragment?!1:(u.iframe&&u.navigate(e),u.loadUrl(),void 0)},u.loadUrl=function(e){var n=u.fragment=u.getFragment(e);return u.options.routeHandler?u.options.routeHandler(n):!1},u.navigate=function(e,n){if(!u.active)return!1;if(n&&n!==!0||(n={trigger:!!n}),e=u.getFragment(e||""),u.fragment!==e){u.fragment=e;var r=u.root+e;if(u._hasPushState)u.history[n.replace?"replaceState":"pushState"]({},document.title,r);else{if(!u._wantsHashChange)return u.location.assign(r);t(u.location,e,n.replace),u.iframe&&e!==u.getFragment(u.getHash(u.iframe))&&(n.replace||u.iframe.document.open().close(),t(u.iframe.location,e,n.replace))}return n.trigger?u.loadUrl(e):void 0}},u});
define('plugins/router',["durandal/system","durandal/activator","durandal/events","durandal/composition","plugins/history","knockout","jquery"],function(e,t,n,r,i,o,a){function u(e){return e=e.replace(v,"\\$&").replace(h,"(?:$1)?").replace(g,function(e,t){return t?e:"([^/]+)"}).replace(m,"(.*?)"),new RegExp("^"+e+"$")}function s(e){var t=e.indexOf(":"),n=t>0?t-1:e.length;return e.substring(0,n)}function c(e){return e.router&&e.router.loadUrl}function l(e,t){return-1!==e.indexOf(t,e.length-t.length)}function f(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;r>n;n++)if(e[n]!=t[n])return!1;return!0}var p,d,h=/\((.*?)\)/g,g=/(\(\?)?:\w+/g,m=/\*\w+/g,v=/[\-{}\[\]+?.,\\\^$|#\s]/g,b=/\/$/,y=o.observable(),w=function(){function r(t,n){e.log("Navigation Complete",t,n),y(n.params);var r=e.getModuleId(k);r&&B.trigger("router:navigation:from:"+r),k=t,_=n;var i=e.getModuleId(k);i&&B.trigger("router:navigation:to:"+i),c(t)||B.updateDocumentTitle(t,n),d.explicitNavigation=!1,d.navigatingBack=!1,B.trigger("router:navigation:complete",t,n,B)}function a(t,n){e.log("Navigation Cancelled"),_&&B.navigate(_.fragment,{trigger:!1}),D(!1),d.explicitNavigation=!1,d.navigatingBack=!1,B.trigger("router:navigation:cancelled",t,n,B)}function h(t){e.log("Navigation Redirecting"),D(!1),d.explicitNavigation=!1,d.navigatingBack=!1,B.navigate(t,{trigger:!0,replace:!0})}function g(e,t,n){d.navigatingBack=!d.explicitNavigation&&k!=n.fragment,B.trigger("router:route:activating",t,n,B),e.activateItem(t,n.params).then(function(i){if(i){var o=k;r(t,n),c(t)&&A({router:t.router,fragment:n.fragment,queryString:n.queryString}),o==t&&B.attached()}else e.settings.lifecycleData&&e.settings.lifecycleData.redirect?h(e.settings.lifecycleData.redirect):a(t,n);p&&(p.resolve(),p=null)})}function m(t,n,r){var i=B.guardRoute(n,r);i?i.then?i.then(function(i){i?e.isString(i)?h(i):g(t,n,r):a(n,r)}):e.isString(i)?h(i):g(t,n,r):a(n,r)}function v(e,t,n){B.guardRoute?m(e,t,n):g(e,t,n)}function E(e){return _&&_.config.moduleId==e.config.moduleId&&k&&(k.canReuseForRoute&&k.canReuseForRoute.apply(k,e.params)||k.router&&k.router.loadUrl)}function x(){var n=N.shift();if(N=[],n){if(n.router){var r=n.fragment;return n.queryString&&(r+="?"+n.queryString),n.router.loadUrl(r),void 0}D(!0),E(n)?v(t.create(),k,n):e.acquire(n.config.moduleId).then(function(module){var t=e.resolveObject(module);v(R,t,n)}).fail(function(t){e.error("Failed to load routed module ("+n.config.moduleId+"). Details: "+t.message)})}}function A(e){N.unshift(e),x()}function C(e,t,n){for(var r=e.exec(t).slice(1),i=0;i<r.length;i++){var o=r[i];r[i]=o?decodeURIComponent(o):null}var a=B.parseQueryString(n);return a&&r.push(a),{params:r,queryParams:a}}function F(t){return B.trigger("router:route:before-config",t,B),e.isRegExp(t.route)?t.routePattern=t.route:(t.title=t.title||B.convertRouteToTitle(t.route),t.moduleId=t.moduleId||B.convertRouteToModuleId(t.route),t.hash=t.hash||B.convertRouteToHash(t.route),t.routePattern=u(t.route)),B.trigger("router:route:after-config",t,B),B.routes.push(t),B.route(t.routePattern,function(e,n){for(var r,i=C(t.routePattern,e,n),o=/:([\w\d]+)/g,a=[],u={};null!==(r=o.exec(t.route));)a.push(r[1]),u[r[1]]=i.params[a.indexOf(r[1])];A({fragment:e,queryString:n,config:t,params:u,queryParams:i.queryParams})}),B}function S(e){e.isActive=o.computed(function(){return R()&&R().__moduleId__==e.moduleId})}var k,_,N=[],D=o.observable(!1),R=t.create(),B={handlers:[],routes:[],navigationModel:o.observableArray([]),activeItem:R,isNavigating:o.computed(function(){var e=R(),t=D(),n=e&&e.router&&e.router!=B&&e.router.isNavigating()?!0:!1;return t||n}),__router__:!0};return n.includeIn(B),R.settings.areSameItem=function(e,t,n,r){return e==t?f(n,r):!1},B.parseQueryString=function(e){var t,n;if(!e)return null;if(n=e.split("&"),0==n.length)return null;t={};for(var r=0;r<n.length;r++){var i=n[r];if(""!==i){var o=i.split("=");t[o[0]]=o[1]&&decodeURIComponent(o[1].replace(/\+/g," "))}}return t},B.route=function(e,t){B.handlers.push({routePattern:e,callback:t})},B.loadUrl=function(t){var n=B.handlers,r=null,o=t,a=t.indexOf("?");-1!=a&&(o=t.substring(0,a),r=t.substr(a+1)),o=o.replace(b,"");for(var u=0;u<n.length;u++){var s=n[u];if(s.routePattern.test(o))return s.callback(o,r),!0}return e.log("Route Not Found"),_&&i.navigate(_.fragment,{trigger:!1,replace:!0}),d.explicitNavigation=!1,d.navigatingBack=!1,!1},B.updateDocumentTitle=function(e,t){t.config.title&&(document.title=t.config.title)},B.redirect=function(t){e.log("Navigation Reload/Redirecting"),D(!1),window.location.replace(t)},B.navigate=function(e,t){return d.explicitNavigation=!0,i.navigate(e,t||{trigger:!0})},B.navigateBack=function(){i.history.back()},B.attached=function(){setTimeout(function(){D(!1),B.trigger("router:navigation:attached",k,_,B),x()},10)},B.compositionComplete=function(){B.trigger("router:navigation:composition-complete",k,_,B)},B.convertRouteToHash=function(e){return"#"+e},B.convertRouteToModuleId=function(e){return s(e)},B.convertRouteToTitle=function(e){var t=s(e);return t.substring(0,1).toUpperCase()+t.substring(1)},B.map=function(t,n){if(e.isArray(t)){for(var r=0;r<t.length;r++)B.map(t[r]);return B}return e.isString(t)||e.isRegExp(t)?(n?e.isString(n)&&(n={moduleId:n}):n={},n.route=t):n=t,F(n)},B.buildNavigationModel=function(t){var n=[],r=B.routes;t=t||100;for(var i=0;i<r.length;i++){var o=r[i];o.nav&&(e.isNumber(o.nav)||(o.nav=t),S(o),n.push(o))}return n.sort(function(e,t){return e.nav-t.nav}),B.navigationModel(n),B},B.mapUnknownRoutes=function(t,n){var r="*catchall",o=u(r);return B.route(o,function(a,u){var s=C(o,a,u),c={fragment:a,queryString:u,config:{route:r,routePattern:o},params:s.params,queryParams:s.queryParams};if(t)if(e.isString(t))c.config.moduleId=t,n&&i.navigate(n,{trigger:!1,replace:!0});else if(e.isFunction(t)){var l=t(c);if(l&&l.then)return l.then(function(){B.trigger("router:route:before-config",c.config,B),B.trigger("router:route:after-config",c.config,B),A(c)}),void 0}else c.config=t,c.config.route=r,c.config.routePattern=o;else c.config.moduleId=a;B.trigger("router:route:before-config",c.config,B),B.trigger("router:route:after-config",c.config,B),A(c)}),B},B.reset=function(){_=k=void 0,B.handlers=[],B.routes=[],B.off(),delete B.options},B.makeRelative=function(t){return e.isString(t)&&(t={moduleId:t,route:t}),t.moduleId&&!l(t.moduleId,"/")&&(t.moduleId+="/"),t.route&&!l(t.route,"/")&&(t.route+="/"),this.on("router:route:before-config").then(function(e){t.moduleId&&(e.moduleId=t.moduleId+e.moduleId),t.route&&(e.route=""===e.route?t.route.substring(0,t.route.length-1):t.route+e.route)}),this},B.createChildRouter=function(){var e=w();return e.parent=B,e},B};return d=w(),d.explicitNavigation=!1,d.navigatingBack=!1,d.activeRouteParams=y,d.activate=function(t){return e.defer(function(n){p=n,d.options=e.extend({routeHandler:d.loadUrl},d.options,t),i.activate(d.options),a(document).delegate("a","click",function(e){if(d.explicitNavigation=!0,i._hasPushState&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var t=a(this).attr("href"),n=this.protocol+"//";if(!t)return;"#"!==t.charAt(0)&&t.slice(n.length)!==n&&(e.preventDefault(),i.navigate(t,!0))}})}).promise()},d.deactivate=function(){i.deactivate()},d.disable=function(){i.active=!1},d.enable=function(){i.active=!0},d.install=function(){o.bindingHandlers.router={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,i,a){var u=o.utils.unwrapObservable(t())||{};if(u.__router__)u={model:u.activeItem(),attached:u.attached,compositionComplete:u.compositionComplete,activate:!1};else{var s=o.utils.unwrapObservable(u.router||i.router)||d;u.model=s.activeItem(),u.attached=s.attached,u.compositionComplete=s.compositionComplete,u.activate=!1}r.compose(e,u,a)}},o.virtualElements.allowedBindings.router=!0},d});
define('system/extensions',['require','durandal/system','jquery'],function(require){function e(){!function(){var e=Function.prototype.apply,t=e.bind(Array.prototype.concat,[]);Array.prototype.selectMany=function(e){return t(this.map(e))}}(),t.extend(t,{when:function(){var e=1===arguments.length&&n.isArray(arguments[0]);return n.when.apply(this,e?arguments[0]:arguments)},format:function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gi");e=e.replace(n,arguments[t])}return e},resolve:function(){var e=n.Deferred();return e.resolve.apply(e,arguments)},reject:function(e){return n.Deferred().reject(e)}})}var t=require("durandal/system"),n=require("jquery");return{apply:e}});
define('bindings/href',['require','knockout'],function(require){var t=require("knockout"),e={update:function(e,n,i,a){var r=n(),o=r.replace(/:([A-Za-z_]+)/g,function(e,n){return t.unwrap(a[n])});e.href=o}};return{href:e}});
define('bindings/delegated-events',["jquery","knockout"],function(t,e){return{delegatedEvent:{init:function(n,i,a,r){var o=i()||{};t.isArray(o)||(o=[o]),e.utils.arrayForEach(o,function(i){var a=function(a){var o=i,s=a.target,c=t(s),l=c.closest(o.selector);if(t(n).has(l).length>0){var h=e.dataFor(l.get(0));return"string"==typeof o.callback&&"function"==typeof h[o.callback]?h[o.callback].call(h,a):o.callback.call(r,h,a)}};e.utils.registerEventHandler(n,i.event,a)})}}}});
define('bindings/init',['require','knockout','jquery','./href','./delegated-events'],function(require){var t=require("knockout"),e=require("jquery");return{applyBindings:function(){e.extend(t.bindingHandlers,require("./href"),require("./delegated-events"))}}});
define('api/restApi',["jquery"],function(t){var e={_urlRoot:location.protocol+"//"+location.hostname+"/services/data/v29.0/",_nocache:(new Date).getTime(),_sessionId:null,_fxNamespacePrefix:window.fxNamespacePrefix||"",_sObjects:[],sessionId:function(){if(null===this._sessionId){var t=window.sforce;this._sessionId=t.connection.sessionId}return this._sessionId},call:function(e){return e+=-1===e.indexOf("?")?"?cache="+this._nocache:"&cache="+this._nocache,t.ajax({type:"GET",url:this._urlRoot+e,beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+this.sessionId()),t.setRequestHeader("Accept","application/json")}.bind(this)})},init:function(){var t="sobjects";this.call(t).done(function(t){this._sObjects=t.sobjects}.bind(this))}};return e});
define('api/sObjectData',["jquery","api/restApi"],function(t,e){var n=[],i={data:{cache:[],exists:function(t){return null!==this.cache["sObjectData_"+t]&&void 0!==this.cache["sObjectData_"+t]},get:function(t){return JSON.parse(this.cache["sObjectData_"+t])},set:function(t,e){return null===e?(this.exists(t)&&(this.cache.sObjectData_count=null===this.cache.sObjectData_count?0:parseInt(this.cache.sObjectData_count,10)-1,this.cache["sObjectData_"+t]=null),null):(this.exists(t)||(this.cache.sObjectData_count=null===this.cache.sObjectData_count?1:parseInt(this.cache.sObjectData_count,10)+1),this.cache["sObjectData_"+t]=JSON.stringify(e),this.get(t))},count:function(){return parseInt(this.cache.sObjectData_count,10)}},fetch:function(n){var i=[],a=new t.Deferred;if(this.data.exists(n))return a.resolve(this.data.get(n)),a.promise();var r="sobjects/"+n+"/describe";return e.call(r).done(function(t){null===t?(i.push("ObjectType "+n+" returned null from DescribeSObject"),a.reject(i)):a.resolve(t)}).fail(function(t){i.push("ObjectType "+n+" error returned from DescribeSObject: "+t)}),a.promise()},get:function(t){return this.data.exists(t)||this.fetch(t).fail(function(e){throw new Error("Unable to get object metadata: "+t+e)}).done(function(e){return this.data.set(t,e)}.bind(this)),this.data.get(t)},init:function(){t.each(n,function(t,e){this.fetch(e).fail(function(t){throw new Error("Unable to get object metadata: "+e+t)}).done(function(t){return this.data.set(e,t)}.bind(this))}.bind(this))},clear:function(){t.each(n,function(t,e){this.data.set(e,null)}.bind(this)),this.data.cache.sObjectData_count=null}};return i});
define('viewmodels/shell',['require','knockout'],function(require){function e(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]===e)return r[1]}return!1}var t=require("knockout"),n=t.observable(),i=t.observable(),r=t.observable(),a=t.observable();return{activate:function(){n(e("objectId")),i(e("customUrl")),r(e("objectType")),a(e("templateId"))},templateId:a,customUrl:i,id:n,objectType:r}});
(function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0)n=r.indexOf(n);return c})})();
define("base64PolyFill", function(){});

define('app-start',['require','durandal/app','plugins/router','system/extensions','durandal/viewLocator','bindings/init','api/sObjectData','viewmodels/shell','base64PolyFill'],function(require){var n=require("durandal/app"),i=require("plugins/router"),t=require("system/extensions"),e=require("durandal/viewLocator"),l=require("bindings/init"),o=require("api/sObjectData"),a=require("viewmodels/shell");require("base64PolyFill"),n.configurePlugins({router:!0}),n.title=null,i.updateDocumentTitle=function(){},t.apply(),n.start().then(function(){e.useConvention(),l.applyBindings(),o.init(),n.setRoot(a)})});
require(["require-config"],function(){require(["app-start"])});
define("main", function(){});

define('text',{load: function(id){throw new Error("Dynamic load not allowed: " + id);}});
define('text!report/capture-image.html',[],function () { return '<label class="lf_captureImage"><span></span>\n  <div class="captureImage__buttons">\n    <div aria-hidden="true" data-icon="&#xe003;" class="captureImage__btn captureImage__btn--add"></div>\n    <div aria-hidden="true" data-icon="&#xe050;" class="captureImage__btn captureImage__btn--delete"></div>\n  </div>\n  <input type="file" accept="image/*;capture=camera"></input>\n</label>';});

define('text!report/new.html',[],function () { return '<article class="modal modal--active">\n  <header>\n    <h1 data-bind="text: templateName"></h1>\n    <a class="modal-close" data-bind="href: returnUrl()"></a>\n  </header>\n  <footer>\n    <div class="button-round">\n      <button class="report-button button-positive" data-bind="click:attachToTicket">\n        <span aria-hidden="true" data-icon="&#xe054;" class="icon-large"></span>\n      </button>\n    </div>\n  </footer>\n\n  <section class="report-preview">\n    <div class="report" data-bind="html: report,\n        delegatedEvent: [ \n          {event: \'click\', callback: addSignature, selector: \'.signature\'},\n          {event: \'sign\', callback: updateReport, selector: \'.signed\'},\n          {event: \'saveAllReport\', callback: saveAllReport, selector: \'.rpt\'},\n          {event: \'change\', callback: loadImage, selector: \'.lf_captureImage input\'},\n          {event: \'click\', callback: removeImage, selector: \'.captureImage__btn--delete\'}\n        ]">\n    </div>\n  </section>\n</div>';});

define('text!views/shell.html',[],function () { return '<div class="bSubBlock report-container" data-bind="compose: { \n    model: \'report/new\',\n    activationData: { templateId: templateId(), id: id(), objectType: objectType(), customUrl: customUrl()}, \n    activate: true,\n    preserveContext: true\n  }"></div>';});

define('text!widgets/signature-pad.html',[],function () { return '<article>\n  <header>\n    <h1 data-bind="i18n: \'Signature_Title\'">Signature</h1>\n    <a class="modal-close" data-bind="click: cancel"></a>\n  </header>\n  <footer>\n    <div class="button-round">\n      <button class="report-button button-positive" data-target="#add-signature"\n        data-bind="click: sign">\n          <span aria-hidden="true" data-icon="&#xe051;" class="icon-large"></span>\n        </button>\n    </div>       \n    <div class="button-round">\n      <button class="report-button" data-bind="click: clear">\n        <span aria-hidden="true" data-icon="&#xe050;" class="icon-large"></span>\n      </button>\n    </div>\n  </footer>\n\n  <section>\n    <div class="signature-pad">\n      <div class="signature-container" data-bind="compose:signatureControl">\n        \n      </div>\n    </div>\n  </section>\n</article>';});

define('text!widgets/signature-pad/canvas.html',[],function () { return '<div id="signature-capture">\n\n</div>';});

define('text!widgets/signature-pad/topaz.html',[],function () { return '<div>\n<object id="topaz"  type="application/sigplus" width="100%" height="363">\n  <param name="onload" value="topazLoaded" />\n</object>\n</div>';});

define('report/handlebars-helper',[],function(){function t(t,e,n,i){for(var r=n,o=t;e>o;o++){var s=i.parts[o];if("RecordType"===s)return;r[s]||-1!==a.indexOf(s)||(r[s]={}),r=r[s]}}function e(e,n){if(0===e.params.length){var i=e.id;0===i.string.indexOf("labels")?t(1,i.parts.length,n,i):t(0,i.parts.length,n,i)}else if(e.params.length>0&&e.eligibleHelper)for(var a=0;a<e.params.length;a++){var r=e.params[a];"items"!==r.string&&(r.parts?t(0,r.parts.length,n,r):n[r.string]||(n[r.string]={}))}}function n(e,n){var r=e.mustache||e,o=e.program,s=function(e,r){var s=null;"items"!==e.string?(t(0,1,n,e),s=n[e.string]):s=n,(r&&r.split(" ")||[]).forEach(function(t){s[t]||-1!==a.indexOf(t)||(s[t]={})}),o&&i(o.statements,s)};if(!r||0!==r.params.length){var c=r.params[0];if("if"===r.id.string)t(0,c.parts.length,n,c);else{var l=r.params.length>1?r.params[1].string:null;s(c,l)}}}function i(t,i){(t||[]).forEach(function(t){"block"===t.type||t.id&&"sum"===t.id.string?n(t,i):"mustache"===t.type&&e(t,i)})}var a=["Id","Name","RecordType.DeveloperName","RecordType.Name"];return{getExpressions:function(t,e){var n=t.parse(e),a={};return i(n.statements,a),a}}});
define('report/labeler',[],function(){function t(t,e){e&&Object.keys(e.fields).forEach(function(n){var i=e.fields[n];t[i.name]=i.label})}return{addLabels:t}});
var Handlebars=this.Handlebars={};!function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var s=Object.prototype.toString,i="[object Function]",n="[object Object]";t.registerHelper=function(e,i,r){if(s.call(e)===n){if(r||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else r&&(i.not=r),this.helpers[e]=i},t.registerPartial=function(e,i){s.call(e)===n?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse||function(){},o=n.fn,a=s.call(e);return a===i&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?r(this):"[object Array]"===a?e.length>0?t.helpers.each(e,n):r(this):o(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var s=new t.K;return t.K.prototype=null,s},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,s){if(t.logger.level<=e){var i=t.logger.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,s)}}},t.log=function(e,s){t.logger.log(e,s)},t.registerHelper("each",function(e,n){var r,o=n.fn,a=n.inverse,h=0,l="",c=s.call(e);if(c===i&&(e=e.call(this)),n.data&&(r=t.createFrame(n.data)),e&&"object"==typeof e)if(e instanceof Array)for(var p=e.length;p>h;h++)r&&(r.index=h),l+=o(e[h],{data:r});else for(var u in e)e.hasOwnProperty(u)&&(r&&(r.key=u),l+=o(e[u],{data:r}),h++);return 0===h&&(l=a(this)),l}),t.registerHelper("if",function(e,n){var r=s.call(e);return r===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?n.inverse(this):n.fn(this)}),t.registerHelper("unless",function(e,s){return t.helpers["if"].call(this,e,{fn:s.inverse,inverse:s.fn})}),t.registerHelper("with",function(e,n){var r=s.call(e);return r===i&&(e=e.call(this)),t.Utils.isEmpty(e)?void 0:n.fn(e)}),t.registerHelper("log",function(e,s){var i=s.data&&null!=s.data.level?parseInt(s.data.level,10):1;t.log(i,e)});var r=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(t,e,s,i,n,r){var o=r.length-1;switch(n){case 1:return r[o-1];case 2:this.$=new i.ProgramNode([],r[o]);break;case 3:this.$=new i.ProgramNode(r[o-2],r[o]);break;case 4:this.$=new i.ProgramNode(r[o-1],[]);break;case 5:this.$=new i.ProgramNode(r[o]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[r[o]];break;case 9:r[o-1].push(r[o]),this.$=r[o-1];break;case 10:this.$=new i.BlockNode(r[o-2],r[o-1].inverse,r[o-1],r[o]);break;case 11:this.$=new i.BlockNode(r[o-2],r[o-1],r[o-1].inverse,r[o]);break;case 12:this.$=r[o];break;case 13:this.$=r[o];break;case 14:this.$=new i.ContentNode(r[o]);break;case 15:this.$=new i.CommentNode(r[o]);break;case 16:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1]);break;case 17:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1]);break;case 18:this.$=r[o-1];break;case 19:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1],"&"===r[o-2][2]);break;case 20:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1],!0);break;case 21:this.$=new i.PartialNode(r[o-1]);break;case 22:this.$=new i.PartialNode(r[o-2],r[o-1]);break;case 23:break;case 24:this.$=[[r[o-2]].concat(r[o-1]),r[o]];break;case 25:this.$=[[r[o-1]].concat(r[o]),null];break;case 26:this.$=[[r[o-1]],r[o]];break;case 27:this.$=[[r[o]],null];break;case 28:this.$=[[r[o]],null];break;case 29:r[o-1].push(r[o]),this.$=r[o-1];break;case 30:this.$=[r[o]];break;case 31:this.$=r[o];break;case 32:this.$=new i.StringNode(r[o]);break;case 33:this.$=new i.IntegerNode(r[o]);break;case 34:this.$=new i.BooleanNode(r[o]);break;case 35:this.$=r[o];break;case 36:this.$=new i.HashNode(r[o]);break;case 37:r[o-1].push(r[o]),this.$=r[o-1];break;case 38:this.$=[r[o]];break;case 39:this.$=[r[o-2],r[o]];break;case 40:this.$=[r[o-2],new i.StringNode(r[o])];break;case 41:this.$=[r[o-2],new i.IntegerNode(r[o])];break;case 42:this.$=[r[o-2],new i.BooleanNode(r[o])];break;case 43:this.$=[r[o-2],r[o]];break;case 44:this.$=new i.PartialNameNode(r[o]);break;case 45:this.$=new i.PartialNameNode(new i.StringNode(r[o]));break;case 46:this.$=new i.PartialNameNode(new i.IntegerNode(r[o]));break;case 47:this.$=new i.DataNode(r[o]);break;case 48:this.$=new i.IdNode(r[o]);break;case 49:r[o-2].push({part:r[o],separator:r[o-1]}),this.$=r[o-2];break;case 50:this.$=[{part:r[o]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=s.lexer.lex()||1,"number"!=typeof t&&(t=s.symbols_[t]||t),t}var s=this,i=[0],n=[null],r=[],o=this.table,a="",h=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;r.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,g,m,y,v,k,S,x,b={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===d||"undefined"==typeof d)&&(d=e()),m=o[g]&&o[g][d]),"undefined"==typeof m||!m.length||!m[0]){var E="";if(!c){x=[];for(v in o[g])this.terminals_[v]&&v>2&&x.push("'"+this.terminals_[v]+"'");E=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:p,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+d);switch(m[0]){case 1:i.push(d),n.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(m[1]),d=null,f?(d=f,f=null):(l=this.lexer.yyleng,a=this.lexer.yytext,h=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(k=this.productions_[m[1]][1],b.$=n[n.length-k],b._$={first_line:r[r.length-(k||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(k||1)].first_column,last_column:r[r.length-1].last_column},u&&(b._$.range=[r[r.length-(k||1)].range[0],r[r.length-1].range[1]]),y=this.performAction.call(b,a,l,h,this.yy,m[1],n,r),"undefined"!=typeof y)return y;k&&(i=i.slice(0,-1*k*2),n=n.slice(0,-1*k),r=r.slice(0,-1*k)),i.push(this.productions_[m[1]][0]),n.push(b.$),r.push(b._$),S=o[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},s=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(s=this._input.match(this.rules[r[o]]),!s||e&&!(s[0].length>e[0].length)||(e=s,i=o,this.options.flex));o++);return e?(n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,s,i){switch(s){case 0:return e.yytext="\\",14;case 1:if("\\"!==e.yytext.slice(-1)&&this.begin("mu"),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1),this.begin("emu")),e.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1)),14;case 4:return e.yytext=e.yytext.substr(0,e.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return e.yytext=e.yytext.substr(3,e.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\"/g,'"'),31;case 23:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return e.yytext=e.yytext.substr(1,e.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},t.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},t}();return e.lexer=s,t.prototype=e,e.Parser=t,new t}();t.Parser=r,t.parse=function(e){return e.constructor===t.AST.ProgramNode?e:(t.Parser.yy=t.AST,t.Parser.parse(e))},t.AST={},t.AST.ProgramNode=function(e,s){this.type="program",this.statements=e,s&&(this.inverse=new t.AST.ProgramNode(s))},t.AST.MustacheNode=function(t,e,s){this.type="mustache",this.escaped=!s,this.hash=e;var i=this.id=t[0],n=this.params=t.slice(1),r=this.eligibleHelper=i.isSimple;this.isHelper=r&&(n.length||e)},t.AST.PartialNode=function(t,e){this.type="partial",this.partialName=t,this.context=e},t.AST.BlockNode=function(e,s,i,n){var r=function(e,s){if(e.original!==s.original)throw new t.Exception(e.original+" doesn't match "+s.original)};r(e.id,n),this.type="block",this.mustache=e,this.program=s,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},t.AST.ContentNode=function(t){this.type="content",this.string=t},t.AST.HashNode=function(t){this.type="hash",this.pairs=t},t.AST.IdNode=function(e){this.type="ID";for(var s="",i=[],n=0,r=0,o=e.length;o>r;r++){var a=e[r].part;if(s+=(e[r].separator||"")+a,".."===a||"."===a||"this"===a){if(i.length>0)throw new t.Exception("Invalid path: "+s);".."===a?n++:this.isScoped=!0}else i.push(a)}this.original=s,this.parts=i,this.string=i.join("."),this.depth=n,this.isSimple=1===e.length&&!this.isScoped&&0===n,this.stringModeValue=this.string},t.AST.PartialNameNode=function(t){this.type="PARTIAL_NAME",this.name=t.original},t.AST.DataNode=function(t){this.type="DATA",this.id=t},t.AST.StringNode=function(t){this.type="STRING",this.original=this.string=this.stringModeValue=t},t.AST.IntegerNode=function(t){this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},t.AST.BooleanNode=function(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},t.AST.CommentNode=function(t){this.type="comment",this.comment=t};var o=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<o.length;e++)this[o[e]]=t[o[e]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(t){return a[t]||"&amp;"};t.Utils={extend:function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(h,c):e)},isEmpty:function(t){return t||0===t?"[object Array]"===s.call(t)&&0===t.length?!0:!1:!0}};var p=t.Compiler=function(){},u=t.JavaScriptCompiler=function(){};p.prototype={compiler:p,disassemble:function(){for(var t,e,s,i=this.opcodes,n=[],r=0,o=i.length;o>r;r++)if(t=i[r],"DECLARE"===t.opcode)n.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)s=t.args[a],"string"==typeof s&&(s='"'+s.replace("\n","\\n")+'"'),e.push(s);n.push(t.opcode+" "+e.join(" "))}return n.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var s=0;e>s;s++){var i=this.opcodes[s],n=t.opcodes[s];if(i.opcode!==n.opcode||i.args.length!==n.args.length)return!1;for(var r=0;r<i.args.length;r++)if(i.args[r]!==n.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(s=0;e>s;s++)if(!this.children[s].equals(t.children[s]))return!1;return!0},guid:0,compile:function(t,e){this.children=[],this.depths={list:[]},this.options=e;var s=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},s)for(var i in s)this.options.knownHelpers[i]=s[i];return this.program(t)},accept:function(t){return this[t.type](t)},program:function(t){var e,s=t.statements;this.opcodes=[];for(var i=0,n=s.length;n>i;i++)e=s[i],this[e.type](e);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,s=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||s.usePartial,this.children[i]=s;for(var n=0,r=s.depths.list.length;r>n;n++)e=s.depths.list[n],2>e||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,s=t.program,i=t.inverse;s&&(s=this.compileProgram(s)),i&&(i=this.compileProgram(i));var n=this.classifyMustache(e);"helper"===n?this.helperMustache(e,s,i):"simple"===n?(this.simpleMustache(e),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,s,i),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,s,i=t.pairs;this.opcode("pushHash");for(var n=0,r=i.length;r>n;n++)e=i[n],s=e[1],this.options.stringParams?(s.depth&&this.addDepth(s.depth),this.opcode("getContext",s.depth||0),this.opcode("pushStringParam",s.stringModeValue,s.type)):this.accept(s),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,s=this.classifyMustache(t);"simple"===s?this.simpleMustache(t):"helper"===s?this.helperMustache(t):this.ambiguousMustache(t),t.escaped&&!e.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(t,e,s){var i=t.id,n=i.parts[0],r=null!=e||null!=s;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("invokeAmbiguous",n,r)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,s){var i=this.setupFullMustacheParams(t,e,s),n=t.id.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+n);this.opcode("invokeHelper",i.length,n)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var s=1,i=t.parts.length;i>s;s++)this.opcode("lookup",t.parts[s])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new t.Exception("Scoped data references are not supported: "+e.original);this.opcode("lookupData");for(var s=e.id.parts,i=0,n=s.length;n>i;i++)this.opcode("lookup",s[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw new Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,s=t.eligibleHelper,i=this.options;if(s&&!e){var n=t.id.parts[0];i.knownHelpers[n]?e=!0:i.knownHelpersOnly&&(s=!1)}return e?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e,s=t.length;s--;)e=t[s],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,s){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",s),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}};var d=function(t){this.value=t};u.prototype={nameLookup:function(t,e){return/^[0-9]+$/.test(e)?t+"["+e+"]":u.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,s,i,n){this.environment=e,this.options=s||{},t.log(t.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,s);var r,o=e.opcodes;for(this.i=0,y=o.length;this.i<y;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args);return this.createFunctionContext(n)},nextOpcode:function(){var t=this.environment.opcodes;return t[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,s="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(s=s+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(s+=" data = data || {};"),t.push(s)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(e){var s=this.stackVars.concat(this.registers.list);if(s.length>0&&(this.source[1]=this.source[1]+", "+s.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)n.push("depth"+this.environment.depths.list[r]);var a=this.mergeSource();if(!this.isChild){var h=t.COMPILER_REVISION,l=t.REVISION_CHANGES[h];a="this.compilerInfo = ["+h+",'"+l+"'];\n"+a}if(e)return n.push(a),Function.apply(this,n);var c="function "+(this.name||"")+"("+n.join(",")+") {\n  "+a+"}";return t.log(t.logger.DEBUG,c+"\n\n"),c},mergeSource:function(){for(var t,s="",i=0,n=this.source.length;n>i;i++){var r=this.source[i];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(s+="buffer += "+t+";\n  ",t=e),s+=r+"\n  ")}return s},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.source.push(this.appendToBuffer(this.quotedString(t)))},append:function(){this.flushInline();var t=this.popStack();this.source.push("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=e,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var s=this.lastHelper=this.setupHelper(t,e,!0),i=this.nameLookup("depth"+this.lastContext,e,"context");this.push(s.name+" || "+i),this.replaceStack(function(t){return t+" ? "+t+".call("+s.callParams+") : helperMissing.call("+s.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var s=this.setupHelper(t,e);this.push(s.name+".call("+s.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var s=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),n=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();this.source.push("if ("+r+" = "+i+") { "+r+" = "+r+".call("+s.callParams+"); }"),this.source.push("else { "+r+" = "+n+"; "+r+" = typeof "+r+" === functionType ? "+r+".apply(depth0) : "+r+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];
this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,s,i=this.popStack();this.options.stringParams&&(s=this.popStack(),e=this.popStack());var n=this.hash;e&&n.contexts.push("'"+t+"': "+e),s&&n.types.push("'"+t+"': "+s),n.values.push("'"+t+"': ("+i+")")},compiler:u,compileChildren:function(t,e){for(var s,i,n=t.children,r=0,o=n.length;o>r;r++){s=n[r],i=new this.compiler;var a=this.matchExistingProgram(s);null==a?(this.context.programs.push(""),a=this.context.programs.length,s.index=a,s.name="program"+a,this.context.programs[a]=i.compile(s,e,this.context),this.context.environments[a]=s):(s.index=a,s.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,s=this.context.environments.length;s>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,s=this.environment.children[t],i=s.depths.list,n=[s.index,s.name,"data"],r=0,o=i.length;o>r;r++)e=i[r],1===e?n.push("depth0"):n.push("depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+n.join(", ")+")"},register:function(t,e){this.useRegister(t),this.source.push(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new d(t))},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.source.push(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,s="",i=this.isInline();if(i){var n=this.popStack(!0);if(n instanceof d)e=n.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();s="("+this.push(r)+" = "+n+"),",e=this.topStack()}}else e=this.topStack();var o=t.call(this,e);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+s+o+")")):(/^stack/.test(e)||(e=this.nextStack()),this.source.push(e+" = ("+s+o+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,s=t.length;s>e;e++){var i=t[e];i instanceof d?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),s=(e?this.inlineStack:this.compileStack).pop();return!t&&s instanceof d?s.value:(e||this.stackSlot--,s)},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,s=e[e.length-1];return!t&&s instanceof d?s.value:s},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,s){var i=[];this.setupParams(t,i,s);var n=this.nameLookup("helpers",e,"helper");return{params:i,name:n,callParams:["depth0"].concat(i).join(", "),helperMissingParams:s&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupParams:function(t,e,s){var i,n,r,o=[],a=[],h=[];o.push("hash:"+this.popStack()),n=this.popStack(),r=this.popStack(),(r||n)&&(r||(this.context.aliases.self="this",r="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),o.push("inverse:"+n),o.push("fn:"+r));for(var l=0;t>l;l++)i=this.popStack(),e.push(i),this.options.stringParams&&(h.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+h.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",s?(this.register("options",o),e.push("options")):e.push(o),e.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),g=u.RESERVED_WORDS={},m=0,y=f.length;y>m;m++)g[f[m]]=!0;u.isValidJavaScriptVariableName=function(t){return!u.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t)?!0:!1},t.precompile=function(e,s){if(null==e||"string"!=typeof e&&e.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);s=s||{},"data"in s||(s.data=!0);var i=t.parse(e),n=(new p).compile(i,s);return(new u).compile(n,s)},t.compile=function(s,i){function n(){var n=t.parse(s),r=(new p).compile(n,i),o=(new u).compile(r,i,e,!0);return t.template(o)}if(null==s||"string"!=typeof s&&s.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+s);i=i||{},"data"in i||(i.data=!0);var r;return function(t,e){return r||(r=n()),r.call(this,t,e)}},t.VM={template:function(e){var s={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,s,i){var n=this.programs[e];return i?n=t.VM.program(e,s,i):n||(n=this.programs[e]=t.VM.program(e,s)),n},merge:function(e,s){var i=e||s;return e&&s&&(i={},t.Utils.extend(i,s),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,n){n=n||{};var r=e.call(s,t,i,n.helpers,n.partials,n.data),o=s.compilerInfo||[],a=o[0]||1,h=t.COMPILER_REVISION;if(a!==h){if(h>a){var l=t.REVISION_CHANGES[h],c=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+l+") or downgrade your runtime to an older version ("+c+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return r}},programWithDepth:function(t,e,s){var i=Array.prototype.slice.call(arguments,3),n=function(t,n){return n=n||{},e.apply(this,[t,n.data||s].concat(i))};return n.program=t,n.depth=i.length,n},program:function(t,e,s){var i=function(t,i){return i=i||{},e(t,i.data||s)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(s,i,n,r,o,a){var h={helpers:r,partials:o,data:a};if(s===e)throw new t.Exception("The partial "+i+" could not be found");if(s instanceof Function)return s(n,h);if(t.compile)return o[i]=t.compile(s,{data:a!==e}),o[i](n,h);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(Handlebars);
define("handlebars", (function (global) {
    return function () {
        var ret, fn;
        return ret || global.Handlebars;
    };
}(this)));

define('plugins/dialog',["durandal/system","durandal/app","durandal/composition","durandal/activator","durandal/viewEngine","jquery","knockout"],function(e,n,t,r,i,o,a){function u(n){return e.defer(function(t){e.isString(n)?e.acquire(n).then(function(module){t.resolve(e.resolveObject(module))}).fail(function(t){e.error("Failed to load dialog module ("+n+"). Details: "+t.message)}):t.resolve(n)}).promise()}var s,c={},l=0,f=function(e,n,t){this.message=e,this.title=n||f.defaultTitle,this.options=t||f.defaultOptions};return f.prototype.selectOption=function(e){s.close(this,e)},f.prototype.getView=function(){return i.processMarkup(f.defaultViewMarkup)},f.defaultTitle=n.title||"Application",f.defaultOptions=["Ok"],f.defaultViewMarkup=['<div data-view="plugins/messageBox" class="messageBox">','<div class="modal-header">','<h3 data-bind="text: title"></h3>',"</div>",'<div class="modal-body">','<p class="message" data-bind="text: message"></p>',"</div>",'<div class="modal-footer" data-bind="foreach: options">','<button class="btn" data-bind="click: function () { $parent.selectOption($data); }, text: $data, css: { \'btn-primary\': $index() == 0, autofocus: $index() == 0 }"></button>',"</div>","</div>"].join("\n"),s={MessageBox:f,currentZIndex:1050,getNextZIndex:function(){return++this.currentZIndex},isOpen:function(){return l>0},getContext:function(e){return c[e||"default"]},addContext:function(e,n){n.name=e,c[e]=n;var t="show"+e.substr(0,1).toUpperCase()+e.substr(1);this[t]=function(n,t){return this.show(n,t,e)}},createCompositionSettings:function(e,n){var t={model:e,activate:!1};return n.attached&&(t.attached=n.attached),n.compositionComplete&&(t.compositionComplete=n.compositionComplete),t},getDialog:function(e){return e?e.__dialog__:void 0},close:function(e){var n=this.getDialog(e);if(n){var t=Array.prototype.slice.call(arguments,1);n.close.apply(n,t)}},show:function(n,i,o){var a=this,s=c[o||"default"];return e.defer(function(e){u(n).then(function(n){var o=r.create();o.activateItem(n,i).then(function(r){if(r){var i=n.__dialog__={owner:n,context:s,activator:o,close:function(){var t=arguments;o.deactivateItem(n,!0).then(function(r){r&&(l--,s.removeHost(i),delete n.__dialog__,0==t.length?e.resolve():1==t.length?e.resolve(t[0]):e.resolve.apply(e,t))})}};i.settings=a.createCompositionSettings(n,s),s.addHost(i),l++,t.compose(i.host,i.settings)}else e.resolve(!1)})})}).promise()},showMessage:function(n,t,r){return e.isString(this.MessageBox)?s.show(this.MessageBox,[n,t||f.defaultTitle,r||f.defaultOptions]):s.show(new this.MessageBox(n,t,r))},install:function(e){n.showDialog=function(e,n,t){return s.show(e,n,t)},n.showMessage=function(e,n,t){return s.showMessage(e,n,t)},e.messageBox&&(s.MessageBox=e.messageBox),e.messageBoxView&&(s.MessageBox.prototype.getView=function(){return e.messageBoxView})}},s.addContext("default",{blockoutOpacity:.2,removeDelay:200,addHost:function(e){var n=o("body"),t=o('<div class="modalBlockout"></div>').css({"z-index":s.getNextZIndex(),opacity:this.blockoutOpacity}).appendTo(n),r=o('<div class="modalHost"></div>').css({"z-index":s.getNextZIndex()}).appendTo(n);if(e.host=r.get(0),e.blockout=t.get(0),!s.isOpen()){e.oldBodyMarginRight=n.css("margin-right"),e.oldInlineMarginRight=n.get(0).style.marginRight;var i=o("html"),a=n.outerWidth(!0),u=i.scrollTop();o("html").css("overflow-y","hidden");var c=o("body").outerWidth(!0);n.css("margin-right",c-a+parseInt(e.oldBodyMarginRight)+"px"),i.scrollTop(u)}},removeHost:function(e){if(o(e.host).css("opacity",0),o(e.blockout).css("opacity",0),setTimeout(function(){a.removeNode(e.host),a.removeNode(e.blockout)},this.removeDelay),!s.isOpen()){var n=o("html"),t=n.scrollTop();n.css("overflow-y","").scrollTop(t),e.oldInlineMarginRight?o("body").css("margin-right",e.oldBodyMarginRight):o("body").css("margin-right","")}},compositionComplete:function(e,n,t){var r=o(e),i=r.width(),a=r.height(),u=s.getDialog(t.model);r.css({"margin-top":(-a/2).toString()+"px","margin-left":(-i/2).toString()+"px"}),o(u.host).css("opacity",1),o(e).hasClass("autoclose")&&o(u.blockout).click(function(){u.close()}),o(".autofocus",e).each(function(){o(this).focus()})}}),s});
define('widgets/modal',["plugins/dialog","knockout","jquery"],function(e,t,n){e.addContext("modal",{blockoutOpacity:.2,removeDelay:200,addHost:function(t){var i=n("body"),r=n('<div class="modalBlockout"></div>').css({"z-index":e.getNextZIndex(),opacity:this.blockoutOpacity}).appendTo(i),a=n('<div class="modal"></div>').css({"z-index":e.getNextZIndex()}).appendTo(i);if(t.host=a.get(0),t.blockout=r.get(0),!e.isOpen()){var o=n("html"),s=o.scrollTop();n("html").css("overflow","hidden"),o.scrollTop(s)}},removeHost:function(i){if(n(i.host).removeClass("modal--active"),n(i.blockout).css("opacity",0),setTimeout(function(){t.removeNode(i.host),t.removeNode(i.blockout)},this.removeDelay),!e.isOpen()){var r=n("html"),a=r.scrollTop();r.css("overflow","").scrollTop(a)}},compositionComplete:function(t,i,r){var a=n(t),o=e.getDialog(r.model);n(o.host).addClass("modal--active"),a.hasClass("autoclose")&&n(o.blockout).click(function(){o.close()}),n(".autofocus",t).each(function(){n(this).focus()})}});var i=function(){};return i.prototype.activate=function(e){this.activateModal(e[0])},i.prototype.activateModal=function(){},i.prototype.show=function(){return e.showModal(this,arguments)},i.prototype.cancel=function(){return e.close(this,!1),!1},i.prototype.close=function(t){return e.close(this,t),t},i});
define('widgets/signature-pad/topaz',[],function(){function e(e){return btoa(String.fromCharCode.apply(null,e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function n(){this.topaz=null}var t="SigPlusWeb Plugin",r=null;return navigator.plugins[t]&&(window.topazLoaded=function(e){var n=function(){e.refreshEvent()};e.tabletState=1,e.captureMode=1,r=setInterval(n,50),e.antiAliasSpotSize=.85,e.antiAliasLineScale=.55}),n.prototype.compositionComplete=function(e){this.topaz=e.childNodes[1]},n.prototype.clear=function(){this.topaz.clearSignature()},n.prototype.deactivate=function(){clearInterval(r)},n.prototype.capture=function(){var n=this.topaz;clearInterval(r),n.tabletState=0,n.compressionMode=1,n.imageXSize=500,n.imageYSize=100,n.penWidth=5,n.bitmapBufferWrite(5);for(var t="",i=0,o=n.bitmapBufferSize();o>i;i++){var a=n.bitmapBufferByte(i).toString(16);t+=1===a.length?"0"+a:a}return"image/bmp;base64,"+e(t)},n});
/*
 
jSignature v2 "2012-11-01T22:48" "commit ID 1c15dfafecc75925c3b7d529356a558b59220edb"
Copyright (c) 2012 Willow Systems Corp http://willow-systems.com
Copyright (c) 2010 Brinley Ang http://www.unbolt.net
MIT License <http://www.opensource.org/licenses/mit-license.php> 


Simplify.js BSD 
(c) 2012, Vladimir Agafonkin
mourner.github.com/simplify-js


base64 encoder
MIT, GPL
http://phpjs.org/functions/base64_encode
+   original by: Tyler Akins (http://rumkin.com)
+   improved by: Bayron Guevara
+   improved by: Thunder.m
+   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
+   bugfixed by: Pellentesque Malesuada
+   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
+   improved by: Rafal Kukawski (http://kukawski.pl)


jSignature v2 jSignature's Undo Button and undo functionality plugin


jSignature v2 jSignature's custom "base30" format export and import plugins.


jSignature v2 SVG export plugin.

*/
(function(){function q(b){for(var j,s=b.css("color"),g,b=b[0],c=!1;b&&!g&&!c;){try{j=$(b).css("background-color")}catch(d){j="transparent"}"transparent"!==j&&"rgba(0, 0, 0, 0)"!==j&&(g=j);c=b.body;b=b.parentNode}var b=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,c=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/,a;j=void 0;(j=s.match(b))?a={r:parseInt(j[1],10),g:parseInt(j[2],10),b:parseInt(j[3],10)}:(j=s.match(c))&&(a={r:parseInt(j[1],16),g:parseInt(j[2],16),b:parseInt(j[3],16)});var f;g?
(j=void 0,(j=g.match(b))?f={r:parseInt(j[1],10),g:parseInt(j[2],10),b:parseInt(j[3],10)}:(j=g.match(c))&&(f={r:parseInt(j[1],16),g:parseInt(j[2],16),b:parseInt(j[3],16)})):f=a?127<Math.max.apply(null,[a.r,a.g,a.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255}:{r:255,g:255,b:255};j=function(b){return"rgb("+[b.r,b.g,b.b].join(", ")+")"};a&&f?(b=Math.max.apply(null,[a.r,a.g,a.b]),a=Math.max.apply(null,[f.r,f.g,f.b]),a=Math.round(a+-0.75*(a-b)),a={r:a,g:a,b:a}):a?(a=Math.max.apply(null,[a.r,a.g,a.b]),b=1,127<a&&
(b=-1),a=Math.round(a+96*b),a={r:a,g:a,b:a}):a={r:191,g:191,b:191};return{color:s,"background-color":f?j(f):g,"decor-color":j(a)}}function m(b,j){this.x=b;this.y=j;this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)};this._length=null;this.getLength=function(){this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)));return this._length};var s=function(b){return Math.round(b/Math.abs(b))};this.resizeTo=function(b){if(0===this.x&&0===this.y)this._length=0;else if(0===
this.x)this._length=b,this.y=b*s(this.y);else if(0===this.y)this._length=b,this.x=b*s(this.x);else{var j=Math.abs(this.y/this.x),a=Math.sqrt(Math.pow(b,2)/(1+Math.pow(j,2))),j=j*a;this._length=b;this.x=a*s(this.x);this.y=j*s(this.y)}return this};this.angleTo=function(b){var j=this.getLength()*b.getLength();return 0===j?0:Math.acos(Math.min(Math.max((this.x*b.x+this.y*b.y)/j,-1),1))/Math.PI}}function k(b,j){this.x=b;this.y=j;this.getVectorToCoordinates=function(b,j){return new m(b-this.x,j-this.y)};
this.getVectorFromCoordinates=function(b,j){return this.getVectorToCoordinates(b,j).reverse()};this.getVectorToPoint=function(b){return new m(b.x-this.x,b.y-this.y)};this.getVectorFromPoint=function(b){return this.getVectorToPoint(b).reverse()}}function t(b,j,a,g,c){this.data=b;this.context=j;if(b.length)for(var d=b.length,f,l,i=0;i<d;i++){f=b[i];l=f.x.length;a.call(j,f);for(var e=1;e<l;e++)g.call(j,f,e);c.call(j,f)}this.changed=function(){};this.startStrokeFn=a;this.addToStrokeFn=g;this.endStrokeFn=
c;this.inStroke=!1;this._stroke=this._lastPoint=null;this.startStroke=function(b){if(b&&"number"==typeof b.x&&"number"==typeof b.y){this._stroke={x:[b.x],y:[b.y]};this.data.push(this._stroke);this._lastPoint=b;this.inStroke=!0;var j=this._stroke,a=this.startStrokeFn,g=this.context;setTimeout(function(){a.call(g,j)},3);return b}return null};this.addToStroke=function(b){if(this.inStroke&&"number"===typeof b.x&&"number"===typeof b.y&&4<Math.abs(b.x-this._lastPoint.x)+Math.abs(b.y-this._lastPoint.y)){var j=
this._stroke.x.length;this._stroke.x.push(b.x);this._stroke.y.push(b.y);this._lastPoint=b;var a=this._stroke,g=this.addToStrokeFn,s=this.context;setTimeout(function(){g.call(s,a,j)},3);return b}return null};this.endStroke=function(){var b=this.inStroke;this.inStroke=!1;this._lastPoint=null;if(b){var j=this._stroke,a=this.endStrokeFn,g=this.context,s=this.changed;setTimeout(function(){a.call(g,j);s.call(g)},3);return!0}return null}}function r(b,j,a){var g=this.$parent=$(b),b=this.eventTokens={};this.events=
new v(this);var c=$.fn[e]("globalEvents"),d={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};$.extend(d,q(g));j&&$.extend(d,j);this.settings=d;for(var f in a)a.hasOwnProperty(f)&&a[f].call(this,f);this.events.publish(e+".initializing");this.$controlbarUpper=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(g);
this.isCanvasEmulator=!1;a=this.canvas=this.initializeCanvas(d);j=$(a);this.$controlbarLower=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(g);this.canvasContext=a.getContext("2d");j.data(e+".this",this);g=(g=d.lineWidth)?g:Math.max(Math.round(a.width/400),2);d.lineWidth=g;this.lineCurveThreshold=3*d.lineWidth;d.cssclass&&""!=$.trim(d.cssclass)&&j.addClass(d.cssclass);
this.fatFingerCompensation=0;var g=function(b){var j,a,g=function(g){g=g.changedTouches&&0<g.changedTouches.length?g.changedTouches[0]:g;return new k(Math.round(g.pageX+j),Math.round(g.pageY+a)+b.fatFingerCompensation)},d=new y(750,function(){b.dataEngine.endStroke()});this.drawEndHandler=function(j){try{j.preventDefault()}catch(a){}d.clear();b.dataEngine.endStroke()};this.drawStartHandler=function(c){c.preventDefault();var s=$(b.canvas).offset();j=-1*s.left;a=-1*s.top;b.dataEngine.startStroke(g(c));
d.kick()};this.drawMoveHandler=function(j){j.preventDefault();b.dataEngine.inStroke&&(b.dataEngine.addToStroke(g(j)),d.kick())};return this}.call({},this),l=g.drawEndHandler,i=g.drawStartHandler,p=g.drawMoveHandler,h=this.canvas,j=$(h);this.isCanvasEmulator?(j.bind("mousemove."+e,p),j.bind("mouseup."+e,l),j.bind("mousedown."+e,i)):(h.ontouchstart=function(b){h.onmousedown=void 0;h.onmouseup=void 0;h.onmousemove=void 0;this.fatFingerCompensation=d.minFatFingerCompensation&&-3*d.lineWidth>d.minFatFingerCompensation?
-3*d.lineWidth:d.minFatFingerCompensation;i(b);h.ontouchend=l;h.ontouchstart=i;h.ontouchmove=p},h.onmousedown=function(b){h.ontouchstart=void 0;h.ontouchend=void 0;h.ontouchmove=void 0;i(b);h.onmousedown=i;h.onmouseup=l;h.onmousemove=p});b[e+".windowmouseup"]=c.subscribe(e+".windowmouseup",g.drawEndHandler);this.events.publish(e+".attachingEventHandlers");var n=this,b=d.width.toString(10),w=e;if("ratio"===b||"%"===b.split("")[b.length-1])this.eventTokens[w+".parentresized"]=c.subscribe(w+".parentresized",
function(b,j,a){return function(){var g=j.width();if(g!==a){for(var d in b)b.hasOwnProperty(d)&&(c.unsubscribe(b[d]),delete b[d]);var s=n.settings;n.$parent.children().remove();for(d in n)n.hasOwnProperty(d)&&delete n[d];d=s.data;var g=1*g/a,f=[],l,i,e,h,k,p;i=0;for(e=d.length;i<e;i++){p=d[i];l={x:[],y:[]};h=0;for(k=p.x.length;h<k;h++)l.x.push(p.x[h]*g),l.y.push(p.y[h]*g);f.push(l)}s.data=f;j[w](s)}}}(this.eventTokens,this.$parent,this.$parent.width(),1*this.canvas.width/this.canvas.height));this.resetCanvas(d.data);
this.events.publish(e+".initialized");return this}var e="jSignature",y=function(b,j){var a;this.kick=function(){clearTimeout(a);a=setTimeout(j,b)};this.clear=function(){clearTimeout(a)};return this},v=function(b){this.topics={};this.context=b?b:this;this.publish=function(b,a,g,d){if(this.topics[b]){var c=this.topics[b],f=Array.prototype.slice.call(arguments,1),l=[],i,e,h,p;e=0;for(h=c.length;e<h;e++)p=c[e],i=p[0],p[1]&&(p[0]=function(){},l.push(e)),i.apply(this.context,f);e=0;for(h=l.length;e<h;e++)c.splice(l[e],
1)}};this.subscribe=function(b,a,g){this.topics[b]?this.topics[b].push([a,g]):this.topics[b]=[[a,g]];return{topic:b,callback:a}};this.unsubscribe=function(b){if(this.topics[b.topic])for(var a=this.topics[b.topic],g=0,d=a.length;g<d;g++)a[g][0]===b.callback&&a.splice(g,1)}},z=function(b){var a=this.canvasContext,d=b.x[0],b=b.y[0],g=this.settings.lineWidth,c=a.fillStyle;a.fillStyle=a.strokeStyle;a.fillRect(d+g/-2,b+g/-2,g,g);a.fillStyle=c},u=function(b,a){var d=new k(b.x[a-1],b.y[a-1]),g=new k(b.x[a],
b.y[a]),c=d.getVectorToPoint(g);if(1<a){var f=new k(b.x[a-2],b.y[a-2]),l=f.getVectorToPoint(d),i;if(l.getLength()>this.lineCurveThreshold){i=2<a?(new k(b.x[a-3],b.y[a-3])).getVectorToPoint(f):new m(0,0);var e=0.35*l.getLength(),h=l.angleTo(i.reverse()),p=c.angleTo(l.reverse());i=(new m(i.x+l.x,i.y+l.y)).resizeTo(Math.max(0.05,h)*e);var n=(new m(l.x+c.x,l.y+c.y)).reverse().resizeTo(Math.max(0.05,p)*e),l=this.canvasContext,e=f.x,p=f.y,h=d.x,w=d.y,A=f.x+i.x,f=f.y+i.y;i=d.x+n.x;n=d.y+n.y;l.beginPath();
l.moveTo(e,p);l.bezierCurveTo(A,f,i,n,h,w);l.stroke()}}c.getLength()<=this.lineCurveThreshold&&(c=this.canvasContext,f=d.x,d=d.y,i=g.x,g=g.y,c.beginPath(),c.moveTo(f,d),c.lineTo(i,g),c.stroke())},x=function(b){var a=b.x.length-1;if(0<a){var d=new k(b.x[a],b.y[a]),g=new k(b.x[a-1],b.y[a-1]),c=g.getVectorToPoint(d);if(c.getLength()>this.lineCurveThreshold){if(1<a){var b=(new k(b.x[a-2],b.y[a-2])).getVectorToPoint(g),f=(new m(b.x+c.x,b.y+c.y)).resizeTo(c.getLength()/2),c=this.canvasContext,b=g.x,a=g.y,
l=d.x,i=d.y,e=g.x+f.x,g=g.y+f.y,f=d.x,d=d.y;c.beginPath();c.moveTo(b,a);c.bezierCurveTo(e,g,f,d,l,i)}else c=this.canvasContext,b=g.x,g=g.y,a=d.x,d=d.y,c.beginPath(),c.moveTo(b,g),c.lineTo(a,d);c.stroke()}}};r.prototype.resetCanvas=function(b){var a=this.canvas,d=this.settings,c=this.canvasContext,f=this.isCanvasEmulator,l=a.width,i=a.height;c.clearRect(0,0,l+30,i+30);c.shadowColor=c.fillStyle=d["background-color"];f&&c.fillRect(0,0,l+30,i+30);c.lineWidth=Math.ceil(parseInt(d.lineWidth,10));c.lineCap=
c.lineJoin="round";c.strokeStyle=d["decor-color"];c.shadowOffsetX=0;c.shadowOffsetY=0;var h=Math.round(i/5),p=1.5*h,k=i-h,l=l-1.5*h,i=i-h;c.beginPath();c.moveTo(p,k);c.lineTo(l,i);c.stroke();c.strokeStyle=d.color;f||(c.shadowColor=c.strokeStyle,c.shadowOffsetX=0.5*c.lineWidth,c.shadowOffsetY=-0.6*c.lineWidth,c.shadowBlur=0);b||(b=[]);c=this.dataEngine=new t(b,this,z,u,x);d.data=b;$(a).data(e+".data",b).data(e+".settings",d);var n=this.$parent,w=this.events,A=e;c.changed=function(){w.publish(A+".change");
n.trigger("change")};c.changed();return!0};r.prototype.initializeCanvas=function(b){var a=document.createElement("canvas"),c=$(a);b.width===b.height&&"ratio"===b.height&&(b.width="100%");c.css("margin",0).css("padding",0).css("border","none").css("height","ratio"===b.height||!b.height?1:b.height.toString(10)).css("width","ratio"===b.width||!b.width?1:b.width.toString(10));c.appendTo(this.$parent);"ratio"===b.height?c.css("height",Math.round(c.width()/b.sizeRatio)):"ratio"===b.width&&c.css("width",
Math.round(c.height()*b.sizeRatio));c.addClass(e);a.width=c.width();a.height=c.height();b=a;if(b.getContext)b=!1;else{var c=b.ownerDocument.parentWindow,d=c.FlashCanvas?b.ownerDocument.parentWindow.FlashCanvas:"undefined"===typeof FlashCanvas?void 0:FlashCanvas;if(d){b=d.initElement(b);d=1;c&&(c.screen&&c.screen.deviceXDPI&&c.screen.logicalXDPI)&&(d=1*c.screen.deviceXDPI/c.screen.logicalXDPI);if(1!==d)try{$(b).children("object").get(0).resize(Math.ceil(b.width*d),Math.ceil(b.height*d)),b.getContext("2d").scale(d,
d)}catch(f){}b=!0}else throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");}this.isCanvasEmulator=b;a.onselectstart=function(b){b&&b.preventDefault&&b.preventDefault();b&&b.stopPropagation&&b.stopPropagation();return!1};return a};var p=window,h=function(b,a){var c=new Image,d=this;c.onload=function(){d.getContext("2d").drawImage(c,0,0,c.width<d.width?c.width:d.width,c.height<d.height?c.height:d.height)};c.src="data:"+a+","+b},a=function(b){this.find("canvas."+e).add(this.filter("canvas."+
e)).data(e+".this").resetCanvas(b);return this},f=function(b,a){if(void 0===a&&("string"===typeof b&&"data:"===b.substr(0,5))&&(a=b.slice(5).split(",")[0],b=b.slice(6+a.length),a===b))return;var c=this.find("canvas."+e).add(this.filter("canvas."+e));if(n.hasOwnProperty(a))0!==c.length&&n[a].call(c[0],b,a,function(b){return function(){return b.resetCanvas.apply(b,arguments)}}(c.data(e+".this")));else throw Error(e+" is unable to find import plugin with for format '"+String(a)+"'");return this},d=new v,
c=e,l,i=function(){d.publish(c+".parentresized")};$(p).bind("resize."+c,function(){l&&clearTimeout(l);l=setTimeout(i,500)}).bind("mouseup."+c,function(){d.publish(c+".windowmouseup")});var w={},A={"default":function(){return this.toDataURL()},"native":function(b){return b},image:function(){var b=this.toDataURL();if("string"===typeof b&&4<b.length&&"data:"===b.slice(0,5)&&-1!==b.indexOf(",")){var a=b.indexOf(",");return[b.slice(5,a),b.substr(a+1)]}return[]}},n={"native":function(b,a,c){c(b)},image:h,
"image/png;base64":h,"image/jpeg;base64":h,"image/jpg;base64":h},B={"export":A,"import":n,instance:w},C={init:function(b){return this.each(function(){var a,c=!1;for(a=this.parentNode;a&&!c;)c=a.body,a=a.parentNode;!c||new r(this,b,w)})},getSettings:function(){return this.find("canvas."+e).add(this.filter("canvas."+e)).data(e+".this").settings},clear:a,reset:a,addPlugin:function(b,a,c){B.hasOwnProperty(b)&&(B[b][a]=c);return this},listPlugins:function(b){var a=[];if(B.hasOwnProperty(b)){var b=B[b],
c;for(c in b)b.hasOwnProperty(c)&&a.push(c)}return a},getData:function(b){var a=this.find("canvas."+e).add(this.filter("canvas."+e));void 0===b&&(b="default");if(0!==a.length&&A.hasOwnProperty(b))return A[b].call(a.get(0),a.data(e+".data"))},importData:f,setData:f,globalEvents:function(){return d},events:function(){return this.find("canvas."+e).add(this.filter("canvas."+e)).data(e+".this").events}};$.fn[e]=function(b){if(!b||"object"===typeof b)return C.init.apply(this,arguments);if("string"===typeof b&&
C[b])return C[b].apply(this,Array.prototype.slice.call(arguments,1));$.error("Method "+String(b)+" does not exist on jQuery."+e)}})();
(function(){$.fn.jSignature("addPlugin","instance","UndoButton",function(q){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[q]){var m=this.settings[q];"function"!==typeof m&&(m=function(){var e=$('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),k=e.width();e.css("left",Math.round((this.canvas.width-k)/2));k!==e.width()&&e.width(k);return e});var k=m.call(this),
t=this;t.events.subscribe("jSignature.change",function(){t.dataEngine.data.length?k.show():k.hide()});var r=this,e=(this.events.topics.hasOwnProperty("jSignature.undo")?q:"jSignature")+".undo";k.bind("click",function(){r.events.publish(e)});r.events.subscribe(e,function(){var e=r.dataEngine.data;e.length&&(e.pop(),r.resetCanvas(e))})}})})})();
(function(){for(var q={},m={},k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),t=k.length/2,r=t-1;-1<r;r--)q[k[r]]=k[r+t],m[k[r+t]]=k[r];var e=function(e){for(var e=e.split(""),h=e.length,a=1;a<h;a++)e[a]=q[e[a]];return e.join("")},y=function(k){for(var h=[],a=0,f=1,d=k.length,c,l,i=0;i<d;i++)c=Math.round(k[i]),l=c-a,a=c,0>l&&0<f?(f=-1,h.push("Z")):0<l&&0>f&&(f=1,h.push("Y")),c=Math.abs(l),c>=t?h.push(e(c.toString(t))):h.push(c.toString(t));return h.join("")},v=function(e){for(var h=
[],e=e.split(""),a=e.length,f,d=1,c=[],l=0,i=0;i<a;i++)f=e[i],f in q||"Z"===f||"Y"===f?(0!==c.length&&(c=parseInt(c.join(""),t)*d+l,h.push(c),l=c),"Z"===f?(d=-1,c=[]):"Y"===f?(d=1,c=[]):c=[f]):c.push(m[f]);h.push(parseInt(c.join(""),t)*d+l);return h},z=function(e){for(var h=[],a=e.length,f,d=0;d<a;d++)f=e[d],h.push(y(f.x)),h.push(y(f.y));return h.join("_")},u=function(e){for(var h=[],e=e.split("_"),a=e.length/2,f=0;f<a;f++)h.push({x:v(e[2*f]),y:v(e[2*f+1])});return h},k=function(e){return["image/jsignature;base30",
z(e)]},r=function(e,h,a){"string"===typeof e&&("image/jsignature;base30"===e.substring(0,23).toLowerCase()&&(e=e.substring(24)),a(u(e)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var x=this.jQuery.fn.jSignature;x("addPlugin","export","base30",k);x("addPlugin","export","image/jsignature;base30",k);x("addPlugin","import","base30",r);x("addPlugin","import","image/jsignature;base30",r);this.jSignatureDebug&&(this.jSignatureDebug.base30=
{remapTailChars:e,compressstrokeleg:y,uncompressstrokeleg:v,compressstrokes:z,uncompressstrokes:u,charmap:q})}).call("undefined"!==typeof window?window:this);
(function(){function q(a,f){this.x=a;this.y=f;this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)};this._length=null;this.getLength=function(){this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)));return this._length};var d=function(a){return Math.round(a/Math.abs(a))};this.resizeTo=function(a){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=a,this.y=a*d(this.y);else if(0===this.y)this._length=a,this.x=a*d(this.x);else{var f=Math.abs(this.y/
this.x),e=Math.sqrt(Math.pow(a,2)/(1+Math.pow(f,2))),f=f*e;this._length=a;this.x=e*d(this.x);this.y=f*d(this.y)}return this};this.angleTo=function(a){var d=this.getLength()*a.getLength();return 0===d?0:Math.acos(Math.min(Math.max((this.x*a.x+this.y*a.y)/d,-1),1))/Math.PI}}function m(a,f){this.x=a;this.y=f;this.getVectorToCoordinates=function(a,c){return new q(a-this.x,c-this.y)};this.getVectorFromCoordinates=function(a,c){return this.getVectorToCoordinates(a,c).reverse()};this.getVectorToPoint=function(a){return new q(a.x-
this.x,a.y-this.y)};this.getVectorFromPoint=function(a){return this.getVectorToPoint(a).reverse()}}function k(a,f){var d=Math.pow(10,f);return Math.round(a*d)/d}function t(a,f,d){var f=f+1,c=new m(a.x[f-1],a.y[f-1]),e=new m(a.x[f],a.y[f]),e=c.getVectorToPoint(e),i=new m(a.x[f-2],a.y[f-2]),c=i.getVectorToPoint(c);return c.getLength()>d?(d=2<f?(new m(a.x[f-3],a.y[f-3])).getVectorToPoint(i):new q(0,0),a=0.35*c.getLength(),i=c.angleTo(d.reverse()),f=e.angleTo(c.reverse()),d=(new q(d.x+c.x,d.y+c.y)).resizeTo(Math.max(0.05,
i)*a),e=(new q(c.x+e.x,c.y+e.y)).reverse().resizeTo(Math.max(0.05,f)*a),e=new q(c.x+e.x,c.y+e.y),["c",k(d.x,2),k(d.y,2),k(e.x,2),k(e.y,2),k(c.x,2),k(c.y,2)]):["l",k(c.x,2),k(c.y,2)]}function r(a,f){var d=a.x.length-1,c=new m(a.x[d],a.y[d]),e=new m(a.x[d-1],a.y[d-1]),c=e.getVectorToPoint(c);if(1<d&&c.getLength()>f){var d=(new m(a.x[d-2],a.y[d-2])).getVectorToPoint(e),e=c.angleTo(d.reverse()),i=0.35*c.getLength(),d=(new q(d.x+c.x,d.y+c.y)).resizeTo(Math.max(0.05,e)*i);return["c",k(d.x,2),k(d.y,2),k(c.x,
2),k(c.y,2),k(c.x,2),k(c.y,2)]}return["l",k(c.x,2),k(c.y,2)]}function e(a,e,d){for(var e=["M",k(a.x[0]-e,2),k(a.y[0]-d,2)],d=1,c=a.x.length-1;d<c;d++)e.push.apply(e,t(a,d,1));0<c?e.push.apply(e,r(a,d,1)):0===c&&e.push.apply(e,["l",1,1]);return e.join(" ")}function y(a){var f=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],d,c=a.length,l,i=[],h=[],k=l=d=0,n=0,p=[];if(0!==c){for(d=0;d<c;d++){k=
a[d];n=[];l={x:[],y:[]};for(var m=void 0,b=void 0,m=0,b=k.x.length;m<b;m++)n.push({x:k.x[m],y:k.y[m]});n=simplify(n,0.7,!0);m=0;for(b=n.length;m<b;m++)l.x.push(n[m].x),l.y.push(n[m].y);p.push(l);i=i.concat(l.x);h=h.concat(l.y)}a=Math.min.apply(null,i)-1;c=Math.max.apply(null,i)+1;i=Math.min.apply(null,h)-1;h=Math.max.apply(null,h)+1;k=0>a?0:a;n=0>i?0:i;d=c-a;l=h-i}f.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+d.toString()+'" height="'+l.toString()+'">');d=0;for(c=p.length;d<
c;d++)l=p[d],f.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+e(l,k,n)+'"/>');f.push("</svg>");return f.join("")}function v(a){return[p,y(a)]}function z(a){return[h,x(y(a))]}var u=window;("undefined"!=typeof exports?exports:u).simplify=function(a,e,d){e=void 0!==e?e*e:1;if(!d){for(var c=a.length,l,i=a[0],h=[i],d=1;d<c;d++){l=a[d];var k=l.x-i.x,n=l.y-i.y;k*k+n*n>e&&(h.push(l),i=l)}a=(i!==l&&h.push(l),h)}l=a;var d=l.length,
c=new ("undefined"!=typeof Uint8Array?Uint8Array:Array)(d),i=0,h=d-1,m,p,b=[],j=[],s=[];for(c[i]=c[h]=1;h;){n=0;for(k=i+1;k<h;k++){m=l[k];var g=l[i],r=l[h],q=g.x,t=g.y,g=r.x-q,u=r.y-t,v=void 0;if(0!==g||0!==u)v=((m.x-q)*g+(m.y-t)*u)/(g*g+u*u),1<v?(q=r.x,t=r.y):0<v&&(q+=g*v,t+=u*v);m=(g=m.x-q,u=m.y-t,g*g+u*u);m>n&&(p=k,n=m)}n>e&&(c[p]=1,b.push(i),j.push(p),b.push(p),j.push(h));i=b.pop();h=j.pop()}for(k=0;k<d;k++)c[k]&&s.push(l[k]);return a=s,a};if("function"!==typeof x)var x=function(a){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),
d,c,h,i,k=0,m=0,n="",n=[];do d=a.charCodeAt(k++),c=a.charCodeAt(k++),h=a.charCodeAt(k++),i=d<<16|c<<8|h,d=i>>18&63,c=i>>12&63,h=i>>6&63,i&=63,n[m++]=e[d]+e[c]+e[h]+e[i];while(k<a.length);n=n.join("");a=a.length%3;return(a?n.slice(0,a-3):n)+"===".slice(a||3)};var p="image/svg+xml",h="image/svg+xml;base64";if("undefined"===typeof $)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");u=$.fn.jSignature;u("addPlugin","export","svg",v);u("addPlugin",
"export",p,v);u("addPlugin","export","svgbase64",z);u("addPlugin","export",h,z)})();
define("jSignature", ["jquery"], (function (global) {
    return function () {
        var ret, fn;
        return ret || global.$;
    };
}(this)));

define('widgets/signature-pad/canvas',["jSignature","knockout"],function(e,n){function t(){this.signature=n.observable(null),this.$element=null}return t.prototype.compositionComplete=function(n){var t=this,r=null;this.$element=r=e(n),r.jSignature().bind("change",function(){var e=r.jSignature("getData","image");t.signature(e)})},t.prototype.capture=function(){return this.signature()},t.prototype.clear=function(){this.$element.jSignature("clear"),this.signature(null)},t});
define('widgets/signature-pad',['require','./modal','./signature-pad/topaz','./signature-pad/canvas'],function(require){function e(){this.signatureControl=navigator.plugins[n]?new i:new r}var t=require("./modal"),n="SigPlusWeb Plugin",i=require("./signature-pad/topaz"),r=require("./signature-pad/canvas");return e.prototype=new t,e.prototype.clear=function(){this.signatureControl.clear()},e.prototype.emptySignatureImage=function(){var e=document.createElement("img");return e.setAttribute("style","width:3in; height:1in;"),e.setAttribute("alt","no-signature"),e.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),e},e.prototype.sign=function(){var e,t=this.signatureControl.capture();return t?(e=document.createElement("img"),e.setAttribute("style","width:3in; height:1in;"),e.setAttribute("alt","signature"),e.setAttribute("src","data:"+t)):e=this.emptySignatureImage(),this.close(e)},e});
define('api/filter',["jquery"],function(t){var e=function(t){var e=t.limit?t.limit>2e3?2e3:t.limit:2e3,n=t.offset?t.offset>2e3?2e3:t.offset:0;return" LIMIT "+e+" OFFSET "+n+" "},n=function(t){var e=t.sortby?" ORDER BY "+t.sortby:"",n=e?t.sortdir?t.sortdir.toUpperCase():"":"",i=e?"NULLS LAST":"";return e+" "+n+" "+i},i=function(i,a){for(var r=a||{},o=t.extend([],i),s=0;s<o.length;s++){var l=o[s].substring(o[s].indexOf("{")+1,o[s].indexOf("}")),c=new RegExp("\\{"+l+"\\}","g"),h=l.indexOf(":")>0;if(h){var u=l.split(":"),d=u[1],p=u[2],f=r[p];p in r&&"excludeiftrue"===d.toLowerCase()&&f&&(o[s]=""),p in r&&"excludeifnull"===d.toLowerCase()&&!f&&(o[s]=""),l=u[0]}l&&(o[s]=r[l]?o[s].replace(c,r[l]):"")}return o.push(n(r)),o.push(e(r)),o.join(" ")};return{apply:function(t,e){return i(t,e)}}});
define('api/soql',[],function(){return{reportAttachment:[" SELECT Id, Name, Body "," FROM Attachment "," WHERE Id != null"," AND ParentId = '{parentId}' "],reportTemplate:[" SELECT Name "," FROM "+window.fxNamespacePrefix+"Report_Template__c "," WHERE Id != null"," AND Id = '{templateId}' "],contact:[" SELECT Id, Name, FirstName, LastName, Email, Phone, MobilePhone, Account.Name, "+window.fxNamespacePrefix+"Office__r.Name, "+window.fxNamespacePrefix+"User__r.Name, "," "+window.fxNamespacePrefix+"Available_for_Field_Work__c, "+window.fxNamespacePrefix+"Catalog_Item__r.Name "," FROM Contact "," WHERE Id != null"," AND "+window.fxNamespacePrefix+"User__c = '{userId}' "],genericQuery:["SELECT {fields} "," FROM {sfObject} "," WHERE Id != null "," AND Id = '{id}' "],genericChildQuery:["SELECT {fields} "," FROM {sfObject} "," WHERE Id != null "," AND {parent} "," = '{id}'"]}});
define('api/api',["jquery","knockout","api/filter","api/soql","api/restApi"],function(t,e,n,i,a){e.subscribable.fn.subscribeChanged=function(t){var e;this.subscribe(function(t){e=t},void 0,"beforeChange"),this.subscribe(function(n){t(n,e)})};var r=function(e){var n=window.sforce,i=new t.Deferred;if(!n)throw"null exception: sforce";if(-1!==e.indexOf("Attachment"))n.connection.query(e,{onSuccess:function(e){var n=[];e.records&&(n=t.isArray(e.records)?e.records:[e.records]),i.resolve(n)},onFailure:i.reject});else{var r="query/?q="+e;a.call(r).done(function(e){var n=[];e.records&&(n=t.isArray(e.records)?e.records:[e.records]),i.resolve(n)}).fail(function(t){i.reject(t)})}return i},o={trackChanges:function(n,i){var a=[],r=[],o=[];return t.each(i,function(i,s){var l=n[s],c=n.Id;c&&l&&e.isObservable(l)&&l.subscribeChanged(function(i,h){var u=window.sforce,d=null,p=new u.SObject(n.type);""===i&&(i=null),p.Id=c,p[s]=i;var f=e.validation.group(n,{deep:!0});f=f?f():[];var g=0===f.length;if(g===!0){try{var m=u.connection.update([p]);0===m.length||m[0].getBoolean("success")||(d=m[0].errors.message)}catch(b){d=b.faultstring}t.each(o,function(t,e){e(s)}),t.each(r,function(t,e){e(s)}),d&&(t.each(a,function(t,e){e(d,s)}),l(h))}else t.each(o,function(t,e){e(s)}),t.each(r,function(t,e){e(s)}),t.each(f,function(e,n){t.each(a,function(t,e){e(n,s)})})})}),{fail:function(t){a.push(t)},clear:function(t){r.push(t)},reset:function(t){o.push(t)}}},bulkUpdate:function(e){var n=window.sforce,i=[],a=new t.Deferred;if(e.length>0){var r=[];e.forEach(function(e){var i=new n.SObject(e.type),a=Object.keys(e);t.each(a,function(t,n){"type"!==n&&(i[n]=e[n])}),r.push(i)});var o=n.connection.update(r);o&&s(o,i)}return i.length>0?a.reject(i):a.resolve(),a.promise()},bulkCreate:function(e){var n=window.sforce,i=[],a=new t.Deferred;if(e.length>0){var r=[];e.forEach(function(e){var i=new n.SObject(e.type),a=Object.keys(e);t.each(a,function(t,n){"type"!==n&&(i[n]=e[n])}),r.push(i)});var o=n.connection.create(r);o&&s(o,i)}return i.length>0?a.reject(i):a.resolve(),a.promise()},bulkDelete:function(e){var n=window.sforce,i=[],a=new t.Deferred;if(e.length>0){var r=[];e.forEach(function(t){r.push(t.Id)});var o=n.connection.deleteIds(r);o&&s(o,i)}return i.length>0?a.reject(i):a.resolve(),a.promise()}},s=function(e,n){t.each(e,function(t,e){e.getBoolean("success")||-1===n.indexOf(e.errors.message)&&n.push(e.errors.message)})},l=function(){var t=i[c];return"string"==typeof t?void 0:function(e){return r(n.apply(t,e))}};for(var c in i)o[c]=l(c);return o});
define('report/reference-resolver',['require','api/sObjectData','knockout','durandal/system','report/labeler','api/api'],function(require){function e(e,t,n,i){if(i){var a={id:n,sfObject:t,fields:e,parent:i};return c.genericChildQuery(a)}var r={id:n,sfObject:t,fields:e};return c.genericQuery(r)}function t(e){return a.fetch(e)}function n(a,c,l,h,u,d,p){var f={},g=["Id","Name"];return p&&p.IsMultiCurrencyOrganization&&g.push("CurrencyIsoCode"),t(h).then(function(t){return i(a,t,g,f),e(g,h,u,d).then(function(e){var i=[];if(d)e.forEach(function(e){c.push(e)});else{var h=e[0];c=r.utils.extend(c,h)}s.addLabels(l,t);var g=function(e){Object.keys(f).forEach(function(t){var r=f[t].field,o=f[t].fieldLookup,s=f[t].parent,c="lookup"===f[t].relationship?e[o]||e[o+"__c"]:u;if(e[t]||(e[t]=s?[]:{}),l[t]||(l[t]={}),c){var h=n(a[t],e[t],l[t],r,c,s,p);i.unshift(h)}})};if(d)for(var m=0;m<c.length;m++)g(c[m]);else g(c);return o.when(i)})})}function i(e,t,n,i){if(e&&t){var a=(t.fields||[]).filter(function(e){return"RecordTypeId"===e.name})[0]||null;a&&(n.unshift("RecordType.DeveloperName"),n.unshift("RecordType.Name")),Object.keys(e).forEach(function(e){var a=(t.fields||[]).filter(function(t){return e===t.name})[0]||null;a&&-1===n.indexOf(e)&&n.unshift(e);var r=(t.fields||[]).filter(function(t){return e===t.relationshipName})[0]||null;r&&(-1===n.indexOf(r.name)&&n.unshift(r.name),i[e]={relationship:"lookup",field:r.referenceTo,fieldLookup:r.name});var o=(t.childRelationships||[]).filter(function(t){return e===t.relationshipName})[0]||null;o&&(i[e]={relationship:"children",field:o.childSObject,parent:o.field})})}}var a=require("api/sObjectData"),r=require("knockout"),o=require("durandal/system"),s=require("report/labeler"),c=require("api/api");return{resolveObject:n}});
define('languages',[],function(){var t={en_US:{FailedToAttach:"Failed to attach document",Title:"Reporting"},fr:{FailedToAttach:"Failed to attach document",Title:"Reporting"}};return t});
define('system/locale-settings',['require','languages'],function(require){var e=require("languages");return{i18n:function(){var t=window.user||{},n=t.language||"en_US";return e[n]}}});
define('report-helpers/capture-helpers',['require','text!report/capture-image.html'],function(require){var e=require("text!report/capture-image.html");return{registerHelpers:function(t){t.registerHelper("captureImage",function(){return e})}}});
// moment.js
// version : 1.7.2
// author : Tim Wood
// license : MIT
// momentjs.com
(function(a){function E(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function F(a,b){return function(c){return K(a.call(this,c),b)}}function G(a){return function(b){var c=a.call(this,b);return c+this.lang().ordinal(c)}}function H(a,b,c){this._d=a,this._isUTC=!!b,this._a=a._a||null,this._lang=c||!1}function I(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,g=a.hours||a.h||0,h=a.minutes||a.m||0,i=a.seconds||a.s||0,j=a.milliseconds||a.ms||0;this._milliseconds=j+i*1e3+h*6e4+g*36e5,this._days=f+e*7,this._months=d+c*12,b.milliseconds=j%1e3,i+=J(j/1e3),b.seconds=i%60,h+=J(i/60),b.minutes=h%60,g+=J(h/60),b.hours=g%24,f+=J(g/24),f+=e*7,b.days=f%30,d+=J(f/30),b.months=d%12,c+=J(d/12),b.years=c,this._lang=!1}function J(a){return a<0?Math.ceil(a):Math.floor(a)}function K(a,b){var c=a+"";while(c.length<b)c="0"+c;return c}function L(a,b,c){var d=b._milliseconds,e=b._days,f=b._months,g;d&&a._d.setTime(+a+d*c),e&&a.date(a.date()+e*c),f&&(g=a.date(),a.date(1).month(a.month()+f*c).date(Math.min(g,a.daysInMonth())))}function M(a){return Object.prototype.toString.call(a)==="[object Array]"}function N(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function O(a,b,c,d){var e,f,g=[];for(e=0;e<7;e++)g[e]=a[e]=a[e]==null?e===2?1:0:a[e];return a[7]=g[7]=b,a[8]!=null&&(g[8]=a[8]),a[3]+=c||0,a[4]+=d||0,f=new Date(0),b?(f.setUTCFullYear(a[0],a[1],a[2]),f.setUTCHours(a[3],a[4],a[5],a[6])):(f.setFullYear(a[0],a[1],a[2]),f.setHours(a[3],a[4],a[5],a[6])),f._a=g,f}function P(a,c){var d,e,g=[];!c&&h&&(c=require("./lang/"+a));for(d=0;d<i.length;d++)c[i[d]]=c[i[d]]||f.en[i[d]];for(d=0;d<12;d++)e=b([2e3,d]),g[d]=new RegExp("^"+(c.months[d]||c.months(e,""))+"|^"+(c.monthsShort[d]||c.monthsShort(e,"")).replace(".",""),"i");return c.monthsParse=c.monthsParse||g,f[a]=c,c}function Q(a){var c=typeof a=="string"&&a||a&&a._lang||null;return c?f[c]||P(c):b}function R(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function S(a){var b=a.match(k),c,d;for(c=0,d=b.length;c<d;c++)D[b[c]]?b[c]=D[b[c]]:b[c]=R(b[c]);return function(e){var f="";for(c=0;c<d;c++)f+=typeof b[c].call=="function"?b[c].call(e,a):b[c];return f}}function T(a,b){function d(b){return a.lang().longDateFormat[b]||b}var c=5;while(c--&&l.test(b))b=b.replace(l,d);return A[b]||(A[b]=S(b)),A[b](a)}function U(a){switch(a){case"DDDD":return p;case"YYYY":return q;case"S":case"SS":case"SSS":case"DDD":return o;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return r;case"Z":case"ZZ":return s;case"T":return t;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return n;default:return new RegExp(a.replace("\\",""))}}function V(a,b,c,d){var e,f;switch(a){case"M":case"MM":c[1]=b==null?0:~~b-1;break;case"MMM":case"MMMM":for(e=0;e<12;e++)if(Q().monthsParse[e].test(b)){c[1]=e,f=!0;break}f||(c[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":b!=null&&(c[2]=~~b);break;case"YY":c[0]=~~b+(~~b>70?1900:2e3);break;case"YYYY":c[0]=~~Math.abs(b);break;case"a":case"A":d.isPm=(b+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":c[3]=~~b;break;case"m":case"mm":c[4]=~~b;break;case"s":case"ss":c[5]=~~b;break;case"S":case"SS":case"SSS":c[6]=~~(("0."+b)*1e3);break;case"Z":case"ZZ":d.isUTC=!0,e=(b+"").match(x),e&&e[1]&&(d.tzh=~~e[1]),e&&e[2]&&(d.tzm=~~e[2]),e&&e[0]==="+"&&(d.tzh=-d.tzh,d.tzm=-d.tzm)}b==null&&(c[8]=!1)}function W(a,b){var c=[0,0,1,0,0,0,0],d={tzh:0,tzm:0},e=b.match(k),f,g;for(f=0;f<e.length;f++)g=(U(e[f]).exec(a)||[])[0],g&&(a=a.slice(a.indexOf(g)+g.length)),D[e[f]]&&V(e[f],g,c,d);return d.isPm&&c[3]<12&&(c[3]+=12),d.isPm===!1&&c[3]===12&&(c[3]=0),O(c,d.isUTC,d.tzh,d.tzm)}function X(a,b){var c,d=a.match(m)||[],e,f=99,g,h,i;for(g=0;g<b.length;g++)h=W(a,b[g]),e=T(new H(h),b[g]).match(m)||[],i=N(d,e),i<f&&(f=i,c=h);return c}function Y(a){var b="YYYY-MM-DDT",c;if(u.exec(a)){for(c=0;c<4;c++)if(w[c][1].exec(a)){b+=w[c][0];break}return s.exec(a)?W(a,b+" Z"):W(a,b)}return new Date(a)}function Z(a,b,c,d,e){var f=e.relativeTime[a];return typeof f=="function"?f(b||1,!!c,a,d):f.replace(/%d/i,b||1)}function $(a,b,c){var e=d(Math.abs(a)/1e3),f=d(e/60),g=d(f/60),h=d(g/24),i=d(h/365),j=e<45&&["s",e]||f===1&&["m"]||f<45&&["mm",f]||g===1&&["h"]||g<22&&["hh",g]||h===1&&["d"]||h<=25&&["dd",h]||h<=45&&["M"]||h<345&&["MM",d(h/30)]||i===1&&["y"]||["yy",i];return j[2]=b,j[3]=a>0,j[4]=c,Z.apply({},j)}function _(a,c){b.fn[a]=function(a){var b=this._isUTC?"UTC":"";return a!=null?(this._d["set"+b+c](a),this):this._d["get"+b+c]()}}function ab(a){b.duration.fn[a]=function(){return this._data[a]}}function bb(a,c){b.duration.fn["as"+a]=function(){return+this/c}}var b,c="1.7.2",d=Math.round,e,f={},g="en",h=typeof module!="undefined"&&module.exports,i="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),j=/^\/?Date\((\-?\d+)/i,k=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,l=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,m=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,n=/\d\d?/,o=/\d{1,3}/,p=/\d{3}/,q=/\d{1,4}/,r=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,s=/Z|[\+\-]\d\d:?\d\d/i,t=/T/i,u=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,v="YYYY-MM-DDTHH:mm:ssZ",w=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],x=/([\+\-]|\d\d)/gi,y="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},A={},B="DDD w M D d".split(" "),C="M D H h m s w".split(" "),D={M:function(){return this.month()+1},MMM:function(a){return E("monthsShort",this.month(),this,a)},MMMM:function(a){return E("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864e5+1.5)},d:function(){return this.day()},dd:function(a){return E("weekdaysMin",this.day(),this,a)},ddd:function(a){return E("weekdaysShort",this.day(),this,a)},dddd:function(a){return E("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864e5/7+1.5)},YY:function(){return K(this.year()%100,2)},YYYY:function(){return K(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return K(~~(this.milliseconds()/10),2)},SSS:function(){return K(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return a<0&&(a=-a,b="-"),b+K(~~(a/60),2)+":"+K(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return a<0&&(a=-a,b="-"),b+K(~~(10*a/6),4)}};while(B.length)e=B.pop(),D[e+"o"]=G(D[e]);while(C.length)e=C.pop(),D[e+e]=F(D[e],2);D.DDDD=F(D.DDD,3),b=function(c,d){if(c===null||c==="")return null;var e,f;return b.isMoment(c)?new H(new Date(+c._d),c._isUTC,c._lang):(d?M(d)?e=X(c,d):e=W(c,d):(f=j.exec(c),e=c===a?new Date:f?new Date(+f[1]):c instanceof Date?c:M(c)?O(c):typeof c=="string"?Y(c):new Date(c)),new H(e))},b.utc=function(a,c){return M(a)?new H(O(a,!0),!0):(typeof a=="string"&&!s.exec(a)&&(a+=" +0000",c&&(c+=" Z")),b(a,c).utc())},b.unix=function(a){return b(a*1e3)},b.duration=function(a,c){var d=b.isDuration(a),e=typeof a=="number",f=d?a._data:e?{}:a,g;return e&&(c?f[c]=a:f.milliseconds=a),g=new I(f),d&&(g._lang=a._lang),g},b.humanizeDuration=function(a,c,d){return b.duration(a,c===!0?null:c).humanize(c===!0?!0:d)},b.version=c,b.defaultFormat=v,b.lang=function(a,c){var d;if(!a)return g;(c||!f[a])&&P(a,c);if(f[a]){for(d=0;d<i.length;d++)b[i[d]]=f[a][i[d]];b.monthsParse=f[a].monthsParse,g=a}},b.langData=Q,b.isMoment=function(a){return a instanceof H},b.isDuration=function(a){return a instanceof I},b.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}}),b.fn=H.prototype={clone:function(){return b(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?this._a[8]!=null?!!this._a[8]:!N(this._a,(this._a[7]?b.utc(this._a):b(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return T(this,a?a:b.defaultFormat)},add:function(a,c){var d=c?b.duration(+c,a):b.duration(a);return L(this,d,1),this},subtract:function(a,c){var d=c?b.duration(+c,a):b.duration(a);return L(this,d,-1),this},diff:function(a,c,e){var f=this._isUTC?b(a).utc():b(a).local(),g=(this.zone()-f.zone())*6e4,h=this._d-f._d-g,i=this.year()-f.year(),j=this.month()-f.month(),k=this.date()-f.date(),l;return c==="months"?l=i*12+j+k/30:c==="years"?l=i+(j+k/30)/12:l=c==="seconds"?h/1e3:c==="minutes"?h/6e4:c==="hours"?h/36e5:c==="days"?h/864e5:c==="weeks"?h/6048e5:h,e?l:d(l)},from:function(a,c){return b.duration(this.diff(a)).lang(this._lang).humanize(!c)},fromNow:function(a){return this.from(b(),a)},calendar:function(){var a=this.diff(b().sod(),"days",!0),c=this.lang().calendar,d=c.sameElse,e=a<-6?d:a<-1?c.lastWeek:a<0?c.lastDay:a<1?c.sameDay:a<2?c.nextDay:a<7?c.nextWeek:d;return this.format(typeof e=="function"?e.apply(this):e)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<b([this.year()]).zone()||this.zone()<b([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return a==null?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return b.utc([this.year(),this.month()+1,0]).date()},lang:function(b){return b===a?Q(this):(this._lang=b,this)}};for(e=0;e<y.length;e++)_(y[e].toLowerCase(),y[e]);_("year","FullYear"),b.duration.fn=I.prototype={weeks:function(){return J(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(a){var b=+this,c=this.lang().relativeTime,d=$(b,!a,this.lang()),e=b<=0?c.past:c.future;return a&&(typeof e=="function"?d=e(d):d=e.replace(/%s/i,d)),d},lang:b.fn.lang};for(e in z)z.hasOwnProperty(e)&&(bb(e,z[e]),ab(e.toLowerCase()));bb("Weeks",6048e5),h&&(module.exports=b),typeof ender=="undefined"&&(this.moment=b),typeof define=="function"&&define.amd&&define("moment",[],function(){return b})}).call(this);
/*!
 * accounting.js v0.3.2, copyright 2011 Joss Crowcroft, MIT license, http://josscrowcroft.github.com/accounting.js
 */
(function(p,z){function q(a){return!!(""===a||a&&a.charCodeAt&&a.substr)}function m(a){return u?u(a):"[object Array]"===v.call(a)}function r(a){return"[object Object]"===v.call(a)}function s(a,b){var d,a=a||{},b=b||{};for(d in b)b.hasOwnProperty(d)&&null==a[d]&&(a[d]=b[d]);return a}function j(a,b,d){var c=[],e,h;if(!a)return c;if(w&&a.map===w)return a.map(b,d);for(e=0,h=a.length;e<h;e++)c[e]=b.call(d,a[e],e,a);return c}function n(a,b){a=Math.round(Math.abs(a));return isNaN(a)?b:a}function x(a){var b=c.settings.currency.format;"function"===typeof a&&(a=a());return q(a)&&a.match("%v")?{pos:a,neg:a.replace("-","").replace("%v","-%v"),zero:a}:!a||!a.pos||!a.pos.match("%v")?!q(b)?b:c.settings.currency.format={pos:b,neg:b.replace("%v","-%v"),zero:b}:a}var c={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},w=Array.prototype.map,u=Array.isArray,v=Object.prototype.toString,o=c.unformat=c.parse=function(a,b){if(m(a))return j(a,function(a){return o(a,b)});a=a||0;if("number"===typeof a)return a;var b=b||".",c=RegExp("[^0-9-"+b+"]",["g"]),c=parseFloat((""+a).replace(/\((.*)\)/,"-$1").replace(c,"").replace(b,"."));return!isNaN(c)?c:0},y=c.toFixed=function(a,b){var b=n(b,c.settings.number.precision),d=Math.pow(10,b);return(Math.round(c.unformat(a)*d)/d).toFixed(b)},t=c.formatNumber=function(a,b,d,i){if(m(a))return j(a,function(a){return t(a,b,d,i)});var a=o(a),e=s(r(b)?b:{precision:b,thousand:d,decimal:i},c.settings.number),h=n(e.precision),f=0>a?"-":"",g=parseInt(y(Math.abs(a||0),h),10)+"",l=3<g.length?g.length%3:0;return f+(l?g.substr(0,l)+e.thousand:"")+g.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+e.thousand)+(h?e.decimal+y(Math.abs(a),h).split(".")[1]:"")},A=c.formatMoney=function(a,b,d,i,e,h){if(m(a))return j(a,function(a){return A(a,b,d,i,e,h)});var a=o(a),f=s(r(b)?b:{symbol:b,precision:d,thousand:i,decimal:e,format:h},c.settings.currency),g=x(f.format);return(0<a?g.pos:0>a?g.neg:g.zero).replace("%s",f.symbol).replace("%v",t(Math.abs(a),n(f.precision),f.thousand,f.decimal))};c.formatColumn=function(a,b,d,i,e,h){if(!a)return[];var f=s(r(b)?b:{symbol:b,precision:d,thousand:i,decimal:e,format:h},c.settings.currency),g=x(f.format),l=g.pos.indexOf("%s")<g.pos.indexOf("%v")?!0:!1,k=0,a=j(a,function(a){if(m(a))return c.formatColumn(a,f);a=o(a);a=(0<a?g.pos:0>a?g.neg:g.zero).replace("%s",f.symbol).replace("%v",t(Math.abs(a),n(f.precision),f.thousand,f.decimal));if(a.length>k)k=a.length;return a});return j(a,function(a){return q(a)&&a.length<k?l?a.replace(f.symbol,f.symbol+Array(k-a.length+1).join(" ")):Array(k-a.length+1).join(" ")+a:a})};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)exports=module.exports=c;exports.accounting=c}else"function"===typeof define&&define.amd?define('accounting',[],function(){return c}):(c.noConflict=function(a){return function(){p.accounting=a;c.noConflict=z;return c}}(p.accounting),p.accounting=c)})(this);
define('report-helpers/format-helpers',['require','moment','accounting'],function(require){var e=require("moment"),t=require("accounting");return{registerHelpers:function(n){n.registerHelper("formatCurrency",function(e,n){var i=n.hash.precision||2,a=Math.pow(10,i),r=+(i?e*a:e).toFixed(8),o=Math.floor(r),s=r-o,l=.5===s?o%2===0?o:o+1:Math.round(r),c=i?l/a:l;return t.formatMoney(c,n.hash.symbol||"",i,n.hash.seperator||",",n.hash.decimal||".")}),n.registerHelper("formatPercent",function(e,t){if(!e)return"";var n=t&&t.hash&&t.hash.decimalPlaces||2;return e.toFixed(n)}),n.registerHelper("formatDate",function(t,n){if(!t)return"";var i=t.hasOwnProperty("value")?t.value:t;if(!i)return"";var a=n?n.hash.format:void 0;return e.utc(i).format(a)}),n.registerHelper("formatDateTime",function(t,n){if(!t)return"";var i=t.hasOwnProperty("value")?t.value:t;if(!i)return"";var a=n?n.hash.format:void 0,r=n?n.hash.locale:void 0;return"utc"===r?e.utc(i).format(a):e(i).format(a)})}}});
define('report-helpers/user-profile',['require','api/api','knockout'],function(require){var e=require("api/api"),t=require("knockout"),n={};return{registerHelpers:function(e){e.registerHelper("userProfile",function(e){if(!e)return"";var t=e.replace("__c","__r","i");return n[e]?n[e]:n[t]?n[t].Name||"":""})},userprofile:n,initialize:function(){var i=window.user.info;if(i){n={UserName:i.userName,FullName:i.name,IsMultiCurrencyOrganization:i.isMultiCurrencyOrganization||!1};var r={userId:i.id};return e.contact(r).then(function(e){!e||e&&e.length<1||(n=t.utils.extend(n,e[0]))})}}}});
define('report-helpers/grouping-helpers',['require','accounting','knockout'],function(require){function e(e,t){for(var n=t,i=0,r=e.length;r>i;i++){if(!n||!n[e[i]])return null;n=n[e[i]]}return n}var t=require("accounting"),n=require("knockout");return{registerHelpers:function(i){i.registerHelper("sum",function(n,i,r){if(!i||!r)return"{error}";if("undefined"==typeof n)return"";var a=i.split("."),o=(n||[]).reduce(function(t,n){return t+=+e(a,n)},0);return t.formatMoney(o,r.hash.symbol||"",r.hash.precision||2,r.hash.seperator||",",r.hash.decimal||".")}),i.registerHelper("group",function(t,n,i){if(!n||!i)return"{error}";for(var r=n.split(" ").map(function(e){return e.split(".")}),a=function(t,n){var i=t.filter(function(t){return r.every(function(i){return e(i,n)===t[i.join("_")]})});return i.length?i[0]:null},o=(t||[]).reduce(function(t,n){var i=a(t,n);if(!i){i={};for(var o=0,s=r.length;s>o;o++)i[r[o].join("_")]=e(r[o],n);i.items=[],t.push(i)}return i.items.push(n),t},[]),s="",l=0,c=o.length;c>l;l++)s+=i.fn(o[l]);return s}),i.registerHelper("sort",function(e,t,i){function r(e,n){return o?n[t]-e[t]:e[t]-n[t]}function a(e,n){return o?n[t].localeCompare(e[t]):e[t].localeCompare(n[t])}if(!e||!t||!i)return"{error}";if(0===e.length)return[];var o=i.hash&&i.hash.desc,s=n.utils.arrayFirst(e,function(e){return!!e[t]}),l=a;"number"==typeof s[t]&&(l=r);var c=e.map(function(e){return e}).sort(l).reduce(function(e,t){return e+=i.fn(t)},"");return c}),i.registerHelper("filter",function(t,n,i){if(!n||!i)return"{error}";for(var r=n.split("."),a=i.hash.is,o=i.hash.not,s=i.hash.pattern?new RegExp(i.hash.pattern):null,l=[],c=0,u=t.length;u>c;c++){var h=e(r,t[c]);o&&h===o||(a&&h===a||s&&s.test(h)||!a&&!s&&!o&&h||!a&&!s&&o)&&l.push(t[c])}return i.fn({items:l})})}}});
define('report/new',['require','durandal/app','durandal/system','handlebars','knockout','widgets/signature-pad','report/reference-resolver','report/handlebars-helper','system/locale-settings','report-helpers/capture-helpers','report-helpers/format-helpers','report-helpers/user-profile','api/api','report-helpers/grouping-helpers'],function(require){function e(){c.utils.extend(this,{data:{},labelData:{},templateData:{},template:"",templateName:c.observable(),templateId:null,returnUrl:c.observable(),id:c.observable(),objectType:c.observable(),signingPad:c.observable(),report:c.observable()})}function t(){$(".report input[type=file], .report .captureImage__buttons").remove();var e=document.querySelector(".report");e&&this.report(e.innerHTML)}function n(e){t.call(e);var n=(e.templateName()+"-"+new Date(Date.now()).toDateString()).replace(" ","_","g");this.type="Attachment",this.Name=n+".html",this.ParentId=e.id(),this.body=btoa("<!DOCTYPE html><html><body>"+e.report()+"</body></html>")}function i(){var e=this,t={templateId:this.templateId};return b.reportTemplate(t).then(function(t){t&&t.length>0&&e.templateName(t[0].Name||"")})}function a(){var e=this,t={parentId:this.templateId};return b.reportAttachment(t).then(function(t){t&&t.length>0&&(e.template=atob(t[0].Body))})}function r(){var e=l.compile(this.template);try{this.data.labels=this.labelData,this.report(e(this.data))}catch(t){var n=t&&t.message?t.message:"Unknown";console.log("Failed to load report. Error: "+n)}}var o=require("durandal/app"),s=require("durandal/system"),l=require("handlebars"),c=require("knockout"),h=require("widgets/signature-pad"),u=require("report/reference-resolver"),d=require("report/handlebars-helper"),p=require("system/locale-settings"),f=require("report-helpers/capture-helpers"),g=require("report-helpers/format-helpers"),m=require("report-helpers/user-profile"),b=require("api/api"),v=require("report-helpers/grouping-helpers"),N=p.i18n();return f.registerHelpers(l),g.registerHelpers(l),v.registerHelpers(l),m.registerHelpers(l),o.on("CloseReport").then(function(e){window.location.href=e}),e.prototype.attachToTicket=function(){var e=this,t=new n(this);b.bulkCreate([t]).fail(function(){o.showMessage(N.FailedToAttach||"Failed to attach document",N.Title||"Reporting")}).done(function(){o.trigger("CloseReport",e.returnUrl())})},e.prototype.activate=function(e){if(e.templateId&&e.id&&e.objectType){var t=this,n=e.customUrl?e.customUrl+"/"+e.id:e.id;this.templateId=e.templateId,this.returnUrl(location.protocol+"//"+location.host+"/"+n),this.id(e.id),this.objectType(e.objectType),s.when(a.call(t),i.call(t),m.initialize()).then(function(){return t.templateData=d.getExpressions(l,t.template),u.resolveObject(t.templateData,t.data,t.labelData,t.objectType(),t.id(),null,m.userprofile)}).then(r.bind(t))}},e.prototype.loadImage=function(e,t){var n=t.target.files[0],i=new FileReader;i.onload=function(e){var i=btoa(e.target.result),a='<img style="max-width:100%;max-height:100%" src="data:'+n.type+";base64,"+i+'" />',r=t.target.parentNode;c.applyBindingsToNode(r.firstChild,{html:a}),c.applyBindingsToNode(r,{css:{captured:!0}}),c.utils.triggerEvent(t.target,"saveAllReport")},t.target.onclick=function(){this.value=null},i.readAsBinaryString(n)},e.prototype.removeImage=function(e,t){var n=t.target.parentNode.parentNode;c.applyBindingsToNode(n.firstChild,{html:null}),c.applyBindingsToNode(n,{css:{captured:!1}}),c.utils.triggerEvent(t.target,"saveAllReport"),t.stopPropagation(),t.preventDefault()},e.prototype.addSignature=function(e,t){(new h).show().then(function(e){!e||e&&"no-signature"===e.alt||(c.applyBindingsToNode(t.target,{html:e.outerHTML,css:{signature:!1,signed:!0}}),c.utils.triggerEvent(t.target,"sign"))})},e.prototype.updateReport=function(e,t){this.report(t.currentTarget.innerHTML)},e.prototype.saveAllReport=function(e,t){this.report(t.currentTarget.innerHTML)},e});
require(["main"]);
}());